"use strict";!function(){function e(e){function t(e){for(var t,n=[],o=e.children,i=o.length-1;i>=0;i--)t=o[i],t.type==CKEDITOR.NODE_TEXT&&t.value.match(d)||n.push(t);return n}var n="someClass",o=new CKEDITOR.dom.element("textarea");e.widgets.add("insertCode",{allowedContent:"pre; code(language-*)",requiredContent:"pre",styleableElements:"pre",template:'<pre><code class="'+n+'"></code></pre>',dialog:"insertCode",mask:!0,parts:{pre:"pre",code:"code"},data:function(){{var e=this.data;this.oldData}if(e.code){var t=this;setTimeout(function(){t.editor.setData("<pre>"+CKEDITOR.tools.htmlEncode(e.code)+"</pre>")},300)}this.oldData=CKEDITOR.tools.copy(e)},upcast:function(d,i){if("pre"==d.name){var a,s=t(d);if(1==s.length&&"code"==(a=s[0]).name&&1==a.children.length&&a.children[0].type==CKEDITOR.NODE_TEXT){var r=e._.codesnippet.langsRegex.exec(a.attributes["class"]);return r&&(i.lang=r[1]),o.setHtml(a.getHtml()),i.code=o.getValue(),a.addClass(n),d}}},downcast:function(e){var t=e.getFirst("code");return t.children.length=0,t.removeClass(n),t.add(new CKEDITOR.htmlParser.text(CKEDITOR.tools.htmlEncode(this.data.code))),e}});var d=/^[\s\n\r]*$/}!CKEDITOR.env.ie||CKEDITOR.env.version>8;CKEDITOR.plugins.add("insertcode",{requires:"widget,dialog",icons:"insertcode",hidpi:!0,beforeInit:function(e){e._.insertcode={}},onLoad:function(){CKEDITOR.dialog.add("insertCode",this.path+"dialogs/insertcode.js")},init:function(e){e.ui.addButton&&e.ui.addButton("InsertCode",{label:"Insert Code",command:"insertCode",toolbar:"insert,10"})},afterInit:function(t){this.path;e(t)}}),CKEDITOR.plugins.insertcode={}}(),CKEDITOR.config.codeSnippet_codeClass="hljs",CKEDITOR.config.codeSnippet_theme="default";
//# sourceMappingURL=plugin-81e976ef8a73cdac70f30cef6a8e3b00.js.map