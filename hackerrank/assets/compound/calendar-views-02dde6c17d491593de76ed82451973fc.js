(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="calendar",e.prototype.className="calendar-view container",e.prototype.initialize=function(){return this.render(),this},e.prototype.events={"click button.close":"closepopover"},e.prototype.closepopover=function(a){return $(a.currentTarget).parents(".popover").hide()},e.prototype.baseURL=function(){return this.model.pageURL()},e.prototype.getTimezoneOffset=function(){var a,b;return a=new Date,b=-a.getTimezoneOffset()/60,b},e.prototype.pad=function(a){return a<10&&(a="0"+a),a},e.prototype.formatTZ=function(a){var b;return a===0?"":(b=" ",a<0&&(b=" -",a=-a),b+this.pad(Math.floor(a))+":"+this.pad(a*60%60))},e.prototype.render=function(){var a;return $(this.el).html(c.appController.template(this.template,this)),$(this.el).find(".hr_calendar_links").prepend('<a class="btn btn-text " href="http://www.google.com/calendar/render?cid=http://'+window.location.host+'/calendar/cal.ics" target="_blank"><i class="icon-plus"></i> Add to Google Calendar</a>'),a=this.getTimezoneOffset(),$(".calendar-note").html("All timezones are in UTC"+this.formatTZ(a)),this.$("#calendar").length>0&&($(this.el).find("#calendar").fullCalendar({defaultView:"month",header:{left:"prev",center:"title",right:"next"},events:"/events?offset="+a,eventAfterRender:function(a,b,c){return b.popover({animation:!0,html:!0,placement:"top",title:a.title+'<button class="close" style="color:#2E363F">&times;</button>',content:"<div class='text-center'><h3>"+a.startdate+"</h3><h3> "+a.starttime+"</h3><img width='48' height='48' src='https://"+window.location.host+"/assets/calendar/"+a.preview+"' alt=''/></div><p class='margin-large top text-center'><a href= "+a.url+" class='btn btn-green' target='_blank'>View Contest</a></p>",container:b.context,trigger:"click"})},eventClick:function(a,b,c){return $(b.currentTarget).popover("show"),!1},loading:function(a,b){return c.util.ajaxmsg("Loading Calendar",!0,!a,0)}}),$(".close").live("click",this.closepopover)),this},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.CalendarView=a})}).call(this)