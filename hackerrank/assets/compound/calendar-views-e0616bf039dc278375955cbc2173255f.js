(function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};jQuery(function(){var t,r,n;return t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.template="calendar",n.prototype.className="calendar-view container",n.prototype.initialize=function(){return this.render(),this},n.prototype.events={"click button.close":"closepopover"},n.prototype.closepopover=function(t){return $(t.currentTarget).parents(".popover").hide()},n.prototype.baseURL=function(){return this.model.pageURL()},n.prototype.getTimezoneOffset=function(){var t,e;return t=new Date,e=-t.getTimezoneOffset()/60},n.prototype.pad=function(t){return 10>t&&(t="0"+t),t},n.prototype.formatTZ=function(t){var e;return 0===t?"":(e=" ",0>t&&(e=" -",t=-t),e+this.pad(Math.floor(t))+":"+this.pad(60*t%60))},n.prototype.destroy=function(){return $("div.popover").remove(),n.__super__.destroy.call(this)},n.prototype.render=function(){var t;return $(this.el).html(r.appController.template(this.template,this)),$(this.el).find(".hr_calendar_links").prepend('<a class="btn btn-text " href="http://www.google.com/calendar/render?cid=http://'+window.location.host+'/calendar/cal.ics" target="_blank"><i class="icon-plus"></i> Add to Google Calendar</a>'),t=this.getTimezoneOffset(),$(".calendar-note").html("All timezones are in UTC"+this.formatTZ(t)),this.$("#calendar").length>0&&(r.requires(["jquery-plugins/fullcalendar"],function(e){return function(){return $(e.el).find("#calendar").html(""),$(e.el).find("#calendar").fullCalendar({weekMode:"variable",defaultView:"month",header:{left:"prev",center:"title",right:"next"},events:"/events?offset="+t,eventAfterRender:function(t,e){return e.popover({animation:!0,html:!0,placement:"top",title:t.title+'<button class="close" style="color:#2E363F">&times;</button>',content:"<div class='text-center'><h3>"+t.startdate+"</h3><h3> "+t.starttime+"</h3><img width='48' height='48' src='https://"+window.location.host+"/assets/calendar/"+t.preview+"' alt=''/></div><p class='margin-large top text-center'><a href= "+t.url+" class='btn btn-green' target='_blank'>View Contest</a></p>",container:e.context,trigger:"click"})},eventClick:function(t,e){return $(e.currentTarget).popover("show"),!1},loading:function(t){return r.util.ajaxmsg("Loading Calendar",!0,!t,0)}})}}(this)),$(".close").live("click",this.closepopover)),this},n}(window.HR.GenericView),r=null!=(n=window.HR)?n:{},r.CalendarView=t})}).call(this);
//# sourceMappingURL=calendar-views-4b8e6a8aaf6fc047ed1da8d474f629b8.js.map