(function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],e=[];e.Jan="01",e.Feb="02",e.Mar="03",e.Apr="04",e.May="05",e.Jun="06",e.Jul="07",e.Aug="08",e.Sep="09",e.Oct="10",e.Nov="11",e.Dec="12",a.format=function(){function a(a){return b[parseInt(a,10)]||a}function f(a){var b=parseInt(a,10)-1;return c[b]||a}function g(a){var b=parseInt(a,10)-1;return d[b]||a}var h=function(a){return e[a]||a},i=function(a){var b=a,c="";if(b.indexOf(".")!==-1){var d=b.split(".");b=d[0],c=d[1]}var e=b.split(":");return e.length===3?(hour=e[0],minute=e[1],second=e[2],{time:b,hour:hour,minute:minute,second:second,millis:c}):{time:"",hour:"",minute:"",second:"",millis:""}};return{date:function(b,c){try{var d=null,e=null,j=null,k=null,l=null,m=null;if(typeof b=="number")return this.date(new Date(b),c);if(typeof b.getFullYear=="function")e=b.getFullYear(),j=b.getMonth()+1,k=b.getDate(),l=b.getDay(),m=i(b.toTimeString());else if(b.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[-+]?\d{2}:?\d{2}/)!=-1){var n=b.split(/[T\+-]/);e=n[0],j=n[1],k=n[2],m=i(n[3].split(".")[0]),d=new Date(e,j-1,k),l=d.getDay()}else{var n=b.split(" ");switch(n.length){case 6:e=n[5],j=h(n[1]),k=n[2],m=i(n[3]),d=new Date(e,j-1,k),l=d.getDay();break;case 2:var o=n[0].split("-");e=o[0],j=o[1],k=o[2],m=i(n[1]),d=new Date(e,j-1,k),l=d.getDay();break;case 7:case 9:case 10:e=n[3],j=h(n[1]),k=n[2],m=i(n[4]),d=new Date(e,j-1,k),l=d.getDay();break;case 1:var o=n[0].split("");e=o[0]+o[1]+o[2]+o[3],j=o[5]+o[6],k=o[8]+o[9],m=i(o[13]+o[14]+o[15]+o[16]+o[17]+o[18]+o[19]+o[20]),d=new Date(e,j-1,k),l=d.getDay();break;default:return b}}var p="",q="",r="";for(var s=0;s<c.length;s++){var t=c.charAt(s);p+=t,r="";switch(p){case"ddd":q+=a(l),p="";break;case"dd":if(c.charAt(s+1)=="d")break;String(k).length===1&&(k="0"+k),q+=k,p="";break;case"d":if(c.charAt(s+1)=="d")break;q+=parseInt(k,10),p="";break;case"MMMM":q+=g(j),p="";break;case"MMM":if(c.charAt(s+1)==="M")break;q+=f(j),p="";break;case"MM":if(c.charAt(s+1)=="M")break;String(j).length===1&&(j="0"+j),q+=j,p="";break;case"M":if(c.charAt(s+1)=="M")break;q+=parseInt(j,10),p="";break;case"yyyy":q+=e,p="";break;case"yy":if(c.charAt(s+1)=="y"&&c.charAt(s+2)=="y")break;q+=String(e).slice(-2),p="";break;case"HH":q+=m.hour,p="";break;case"hh":var u=m.hour==0?12:m.hour<13?m.hour:m.hour-12;u=String(u).length==1?"0"+u:u,q+=u,p="";break;case"h":if(c.charAt(s+1)=="h")break;var u=m.hour==0?12:m.hour<13?m.hour:m.hour-12;q+=parseInt(u,10),p="";break;case"mm":q+=m.minute,p="";break;case"ss":q+=m.second.substring(0,2),p="";break;case"SSS":q+=m.millis.substring(0,3),p="";break;case"a":q+=m.hour>=12?"PM":"AM",p="";break;case" ":q+=t,p="";break;case"/":q+=t,p="";break;case":":q+=t,p="";break;default:p.length===2&&p.indexOf("y")!==0&&p!="SS"?(q+=p.substring(0,1),p=p.substring(1,2)):p.length===3&&p.indexOf("yyy")===-1?p="":r=p}}return q+=r,q}catch(v){throw v}}}}()})(jQuery),jQuery.format.date.defaultShortDateFormat="dd/MM/yyyy",jQuery.format.date.defaultLongDateFormat="dd/MM/yyyy hh:mm:ss",jQuery(document).ready(function(){jQuery(".shortDateFormat").each(function(a,b){jQuery(b).is(":input")?jQuery(b).val(jQuery.format.date(jQuery(b).val(),jQuery.format.date.defaultShortDateFormat)):jQuery(b).text(jQuery.format.date(jQuery(b).text(),jQuery.format.date.defaultShortDateFormat))}),jQuery(".longDateFormat").each(function(a,b){jQuery(b).is(":input")?jQuery(b).val(jQuery.format.date(jQuery(b).val(),jQuery.format.date.defaultLongDateFormat)):jQuery(b).text(jQuery.format.date(jQuery(b).text(),jQuery.format.date.defaultLongDateFormat))})});var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require("./extensions/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=M(a),a=a.replace(/^[ \t]+$/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a=="function")Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)});else throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension."})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(/"/g,"&quot;")),"")}),a=a.replace(/~0/,""),a},m=function(a){a=a.replace(/\n/g,"\n\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,n),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/\n\n/g,"\n"),a},n=function(a,b){var c=b;return c=c.replace(/\n\n/g,"\n"),c=c.replace(/^\n/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(d.push(c)-1)+"K\n\n",c},o=function(a){a=v(a);var b=A("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(/  +\n/g," <br />\n"),a},q=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=N(b,"\\`*_"),b}),a},r=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else if(k.search(/\(\s*\)$/m)>-1)n="";else return k}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>",p},t=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else return k}l=l.replace(/"/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" />",p},v=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"</h"+e+">")}),a},w,x=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=w(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n",f}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=w(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n",h})),a=a.replace(/~0/,""),a};w=function(a){return e++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(/\n{2,}/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(/\n$/,""),f=p(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",A(d)+e}),a=a.replace(/~0/,""),a},z=function(a){return a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),e="<pre><code"+(d?' class="'+d+'"':"")+">"+e+"\n</code></pre>",A(e)}),a=a.replace(/~0/,""),a},A=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(d.push(a)-1)+"K\n\n"},B=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=C(f),b+"<code>"+f+"</code>"}),a},C=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=N(a,"*_{}[]\\",!1),a},D=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),a},E=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=o(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /mg,"~0"),c=c.replace(/~0/g,""),c}),A("<blockquote>\n"+c+"\n</blockquote>")}),a},F=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?c.push(g):g.search(/\S/)>=0&&(g=p(g),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(/~K(\d+)K/)>=0){var h=d[RegExp.$1];h=h.replace(/\$/g,"$$$$"),c[f]=c[f].replace(/~K\d+K/,h)}return c.join("\n\n")},G=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),a},H=function(a){return a=a.replace(/\\(\\)/g,O),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,O),a},I=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">'),a},K=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,""),a},M=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,""),a},N=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown}),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="notifications",d.prototype.className="notifications-view",d.prototype.initialize=function(a){return a==null&&(a={}),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.onRemove),this.notifications_list_view=[],this.notif_id=a.notif_id},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this._template&&!this.rendered)return $(this.el).html(this._template()),this.rendered=!0,this.renderSubviews();if(this.rendered)return this.renderSubviews()},d.prototype.renderSubviews=function(){var b,c,d;d=""+this.collection.pageURL(),this.collection.sync_status?(this.$(".notifications-list-wrap").html(""),_.each(this.collection.models,function(b){var c;return this.notifications_list_view[b.get("id")]||(this.notifications_list_view[b.get("id")]=new a.NotificationsListView({model:b,parent:this}),this.add_subview(this.notifications_list_view[b.get("id")])),c=b.toJSON(),this.$(".notifications-list-wrap").append("<div data-id='"+c.id+"'></div>"),this.notifications_list_view[b.get("id")].setElement(this.$("div[data-id="+c.id+"]")).render()},this),this.collection.models.length===0&&this.$(".notifications-list-wrap").html("<div class='gray'>No news is good news</div>")):this.$(".notifications-list-wrap").html(a.appController.viewLoader(64)),a.util.pagination(this.$(".pagination-wrapper"),this.collection.total,""+d+"/page/",this.collection.page,null,this.collection.limit),c=this,b=function(){var a;a=$("div[data-id="+c.notif_id+"]");if(a.length>0)return $("html body").animate({scrollTop:a.offset().top},400),c.notifications_list_view[parseInt(c.notif_id)].model.markRead(),$("div[data-id="+c.notif_id+"]").effect("highlight",{},2500),c.notif_id=null};if(this.notif_id)return setTimeout(function(){return b.call(c)},300)},d.prototype.onRemove=function(a){if(this.notifications_list_view[a.get("id")])return this.notifications_list_view[a.get("id")].destroy()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NotificationsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="notifications-list",d.prototype.className="notifications-list-view",d.prototype.initialize=function(a){return this.listenTo(this.model,"render",this.render),this.parent=a.parent},d.prototype.events={"click a.mark-as-read":"markAsRead","click a.delete":"deleteNotification","click a.show-body":"showBody"},d.prototype.render=function(){var b;return b=this,this.has_template?this.renderView():a.requires("moment",function(){return a.appController.getTemplate(b.template,function(a){return b._template=a,b.has_template=!0,b.renderView()},b)}),this},d.prototype.renderView=function(){if(this._template&&!this.rendered&&_.size(this.model.toJSON())>0&&this.model.get("notification_status")<=this.model.STATUS.READ)return $(this.el).html(this._template({model:this.model,_model:this.model.toJSON(),showbody:this.showbody})),this.renderSubviews();if(this.rendered)return this.renderSubviews()},d.prototype.renderSubviews=function(){this.showbody&&this.$(".notification-body").show();if(this.model.get("notification_status")===this.model.STATUS.UNSEEN&&$(this.el).offset()&&$(this.el).offset().top!==0)return this.model.markSeen();if(this.model.get("notification_status")>this.model.STATUS.READ)return $(this.el).fadeOut()},d.prototype.markAsRead=function(a){return a==null&&(a=null),a&&a.preventDefault(),this.model.markRead()},d.prototype.deleteNotification=function(b){var c,d;return b.preventDefault(),d=this,c=this.model.get("id"),this.model.destroy({success:function(b){return function(b,d){a.appView.navigationView.updateNotificationsCount(d.unread_count);if(a.cachedNotificationsCollection)return a.cachedNotificationsCollection.remove(c)}}(this)})},d.prototype.showBody=function(a){return this.showbody?(this.showbody=!1,this.$(".notification-body").hide()):(this.showbody=!0,this.$(".notification-body").fadeIn(),this.markAsRead()),!1},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NotificationsListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="participant-application",d.prototype.initialize=function(a){return this.hacker=a.hacker,this.companies_collection=a.companies,this.listenTo(this.hacker,"reset",this.render),this.listenTo(this.hacker,"change",this.render),this.listenTo(this.companies_collection,"reset",this.render),this.listenTo(this.companies_collection,"change",this.render)},d.prototype.events={"click .update-applicant-btn":"showApplicantProfileEditor","click .cancel-update-applicant-btn":"cancelApplicantProfileEditor","change input.hacker_resume":"uploadResume","click .upload-resume-btn":"uploadResumePrompt","focusout textarea.hacker_about":"persistAboutMe","focusout input.hacker_school":"persistSchool","focusout input.hacker_name":"persistName","focusout input.hacker_phone":"persistPhone","click button.more-info":"showCompanyInfo","click button.apply":"applyCompanyDialog"},d.prototype.render=function(){return this.has_template?this.renderCurrentView():a.appController.getTemplate(this.template,function(a){return this.has_template=!0,this._template=a,this.renderCurrentView()},this),this},d.prototype.renderCurrentView=function(){var b,c,d,e;if(this._template&&(this.hacker.get("username")||this.companies_collection.errors.length>0))return $(this.el).html(this._template({companies:this.companies_collection.toJSON(),errors:this.companies_collection.errors,contest:a.model("contest").cached().toJSON(),profile:this.hacker,current_hacker:this.companies_collection.current_hacker,meta_contest:this.companies_collection.contest})),b=window.countries_mapping,c=[],_.each(b,function(a){return function(a,b){return c.push({id:b,text:b})}}(this)),this.$("#country").select2({data:c,width:"copy"}),e=this.hacker.get("country"),e&&this.setCountry(e),d=this,this.$("#country").on("change",function(a){return d.updateCountry(a)}),this.$("input.hacker_school").completer("school")},d.prototype.setCountry=function(a){return this.$("#country").val(a),$(this.el).find("#s2id_country .select2-choice span").text(a)},d.prototype.showApplicantProfileEditor=function(a){return a.preventDefault(),$(".applicant-profile-editor").show(),$(".cancel-update-applicant-profile-container").show(),$(".update-applicant-profile-container").hide()},d.prototype.cancelApplicantProfileEditor=function(a){return a.preventDefault(),$(".applicant-profile-editor").hide(),$(".cancel-update-applicant-profile-container").hide(),$(".update-applicant-profile-container").show()},d.prototype.uploadResume=function(a){var b,c;if(!a.currentTarget.files[0])return;return b=new FormData,b.append("resume",a.currentTarget.files[0]),this.$("#hacker_resume_status").text("Uploading"),c=this,this.$(".resume-iframe").hide(),this.$(".upload-resume-btn").hide(),$.ajax({url:"/rest/hackers/"+this.hacker.get("id"),type:"PUT",data:b,cache:!1,contentType:!1,processData:!1,success:function(a){var b;c.$(".upload-resume-btn").show(),a.model.errors.resume?c.$("#hacker_resume_status").text(a.model.errors.resume):c.$("#hacker_resume_status").text("");if(!a.model.resume_url)return;return b="https://docs.google.com/viewer?url="+encodeURIComponent(a.model.resume_url)+"&embedded=true",c.$(".resume-iframe iframe").length===0?(c.$(".resume-iframe").html("<iframe width='600' height='780' src='"+b+"' style='border: none; margin-left: 222px; margin-top: 20px;'></iframe>"),c.$(".upload-resume-btn").text("Upload a new resume")):c.$(".resume-iframe iframe").attr("src",b),c.$(".resume-iframe").show()},error:function(a){return c.$(".upload-resume-btn").show(),c.$("#hacker_resume_status").text("there was an error")}})},d.prototype.uploadResumePrompt=function(a){return this.$(".upload-resume-input").show(),this.$(".upload-resume-input input[type=file]").click()},d.prototype.persistAboutMe=function(a){return this.persist("hack",$(a.currentTarget).val())},d.prototype.updateCountry=function(a){return this.persist("country",a.val)},d.prototype.persistSchool=function(a){return this.persist("school",$(a.currentTarget).val())},d.prototype.persistName=function(a){return this.persist("name",$(a.currentTarget).val())},d.prototype.persistPhone=function(b){var c;return c=a.util.trim($(b.currentTarget).val().replace(" ","")),/^\+[0-9]{5,15}$/.test(c)?this.persist("phone",c):this.$(".hacker_phone_status").html("please provide a valid phone number").show()},d.prototype.persist=function(a,b){var c,d;return this.$(".hacker_"+a+"_status").text("saving").show(),d=this,c={},c[a]=b,this.hacker.save(c,{silent:!0,success:function(b){return d.$(".hacker_"+a+"_status").text("saved").show(),setTimeout(function(){return d.$(".hacker_"+a+"_status").text("").hide()},1e3)},error:function(b){return d.$(".hacker_"+a+"_status").text("there was an error").show()}})},d.prototype.showCompanyInfo=function(b){var c,d,e,f;return f=this,c=parseInt($(b.currentTarget).attr("data-id")),e=this.companies_collection.get(c),d=new a.ParticipantApplicationCompanyInfoView({meta_model:e,parent:this}),(new a.util.ShowDialog({title:""+e.get("name")+" | Company Info",body_view:d,width:600,height:350,buttons:[{name:"Apply to "+e.get("name"),"class":"btn-primary",callback:function(a){return a.destroy(),f.applyCompanyDialog(b)}}]})).render()},d.prototype.applyCompanyDialog=function(b){var c,d,e,f;return f=this,d=parseInt($(b.currentTarget).attr("data-id")),e=this.companies_collection.get(d),c=new a.ParticipantApplicationCompanyApplyView({meta_model:e,parent:this,collection:this.companies_collection}),(new a.util.ShowDialog({title:""+e.get("name")+" | Apply",body_view:c,width:600,height:400,buttons:[{name:"Apply","class":"btn-primary",callback:function(a){return c.applyConfirm(this,a)}}]})).render()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ParticipantApplicationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="participant-application-company-info",d.prototype.initialize=function(a){return a==null&&(a={}),this.meta_model=a.meta_model,this.parent=a.parent},d.prototype.events={"click button.apply":"applyCompany"},d.prototype.render=function(){return this.has_template?this.renderCurrentView():a.appController.getTemplate(this.template,function(a){return this.has_template=!0,this._template=a,this.renderCurrentView()},this),this},d.prototype.renderCurrentView=function(){if(this._template&&this.meta_model)return $(this.el).html(this._template({meta_model:this.meta_model.toJSON()}))},d.prototype.set_dialog=function(a){this.dialog=a},d.prototype.applyCompany=function(a){return this.dialog.destroy(),this.parent.applyCompanyDialog(a)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ParticipantApplicationCompanyInfoView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="participant-application-company-apply",d.prototype.initialize=function(a){return a==null&&(a={}),this.meta_model=a.meta_model,this.parent=a.parent,this.collection=a.collection},d.prototype.render=function(){return this.has_template?this.renderCurrentView():a.appController.getTemplate(this.template,function(a){return this.has_template=!0,this._template=a,this.renderCurrentView()},this),this},d.prototype.renderCurrentView=function(){if(this._template&&this.meta_model)return $(this.el).html(this._template({meta_model:this.meta_model.toJSON()})),this.$("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"20%"}),this.$("input[name=offices]").on("ifChecked",function(a){return $(a.currentTarget).parent().parent().parent().find("select").removeAttr("disabled")}),this.$("input[name=offices]").on("ifUnchecked",function(a){var b;return b=$(a.currentTarget).parent().parent().parent().find("select"),b.val(b.find("option:first").val()),b.attr("disabled","disabled")}),this.$("input[type=radio]").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"20%"})},d.prototype.set_dialog=function(a){this.dialog=a},d.prototype.applyConfirm=function(b,c){var d,e,f,g,h,i,j,k,l,m;return g={},_.each(this.$("input"),function(a){return g[$(a).attr("id")]=$(a).is(":checked")}),j=[],i={},k=null,_.each(g,function(a,b){var c;if(b.startsWith("position_")&&a===!0)return j.push(parseInt(b.substring(9)));if(b.startsWith("office_")&&a===!0)return c=parseInt(b.substring(7)),i[c]=this.$("select#visa_status_"+c).val();if(b.startsWith("role_")&&a===!0)return k=b.substring(5)}),h={},_.size(j)===0&&(h.positions="select atleast one position"),_.size(i)===0&&(h.offices="select atleast one office"),k===null&&(h.role="select a role"),l=this,_.size(h)>0?(m=_.map(h,function(a,b){return"<li><p><em><strong>"+_.capitalize(b)+":</strong></em> "+a+"</p></li>"}),e="<ul style='list-style: none;'>"+m.join("")+"</ul>",(new a.util.ShowDialog({title:"There were error(s)",body:e,buttons:[{name:"Got it!","class":"btn-primary",callback:function(a){return a.destroy()}}]})).render()):(d=new a.HackerApplicationModel({positions:j,offices:i,role:k,company_id:this.meta_model.get("id")}),d.contest_slug=a.appController.get_current_contest_slug(),f=new a.ParticipantApplicationCompanyApplyConfirmView({model:d,meta_model:this.meta_model,parent_dialog:this.dialog,collection:this.collection}),(new a.util.ShowDialog({title:"Application Confirmation",body_view:f,width:500,buttons:[{name:"Looks Good! Apply","class":"btn-primary",callback:function(a){return f.confirmApply(this,a)}},{name:"Cancel",callback:function(a){return a.destroy()}}]})).render()),b.setActive()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ParticipantApplicationCompanyApplyView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="participant-application-company-apply-confirm",d.prototype.initialize=function(a){return a==null&&(a={}),this.model=a.model,this.meta_model=a.meta_model,this.parent_dialog=a.parent_dialog,this.collection=a.collection},d.prototype.render=function(){return this.has_template?this.renderCurrentView():a.appController.getTemplate(this.template,function(a){return this.has_template=!0,this._template=a,this.renderCurrentView()},this),this},d.prototype.set_dialog=function(a){this.dialog=a},d.prototype.renderCurrentView=function(){this._template&&$(this.el).html(this._template({model:this.model.toJSON(),meta_model:this.meta_model.toJSON(),visa_statuses:{"not-required":"Not required","already-have":"Already have","dont-have":"Don't have"}}));if(this.dialog)return this.dialog.renderPosition()},d.prototype.confirmApply=function(b,c){var d;return b.setInactive(),d=this,this.model.save(null,{success:function(e,f){return b.setActive(),f.errors?b.setFailedMsg(a.util.error_html(f.errors)):(alert("Your application has been accepeted! Thanks!"),c.destroy(),d.parent_dialog.destroy(),d.collection.fetch())},error:function(a){return b.setActive(),b.setFailedMsg("Internal Server Error")}})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ParticipantApplicationCompanyApplyConfirmView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.tagName="tr",d.prototype.template="manage/challenge-association-item",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.has_template=!1,this.rendered=!1,this.editDialog=!1,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"sync",this.render),this.timebound=!1,this.model.dirty=!1},d.prototype.events={"click .delete":"confirmDelete","change .ca-attr":"setData","click .ca-save":"save","change .ca-timebound":"changeTimebound"},d.prototype.changeTimebound=function(a){return this.timebound=$(a.target).is(":checked"),this.timebound||(this.model.set("start_time",""),this.model.set("end_time","")),this.model.dirty=!0,this.render(),this},d.prototype.setData=function(a){return this.model.set("dynamic",this.$(".ca-dynamic").is(":checked")),this.model.set("binary_scoring",this.$(".ca-binary_scoring").is(":checked")),this.model.set("weight",parseInt(this.$(".ca-weight").val())),this.model.set("priority",parseInt(this.$(".ca-priority").val())),this.model.set("start_time",this.$(".ca-start_time").val()||""),this.model.get("start_time")&&this.model.set("start_time",moment.utc(this.model.get("start_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm")),this.model.set("end_time",this.$(".ca-end_time").val()||""),this.model.get("end_time")&&this.model.set("end_time",moment.utc(this.model.get("end_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm")),this.model.dirty=!0,this.render()},d.prototype.save=function(a){return a.preventDefault(),a.stopPropagation(),this.setData(),this.model.save("","",{success:function(a){return function(){return a.$(".ca-save").remove(),a.$(".msg").html("saving..."),a.model.fetch({success:function(){return a.render()}})}}(this)}),this},d.prototype.confirmDelete=function(b){var c;return b.preventDefault(),c={title:"Confirm Delete",body:"<div class='row' style='margin-left:0px'> Are you sure you want to delete "+this.model.get("challenge").name+" from this contest? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(a){return function(b){return b.preventDefault(),a.dialog.destroy(),a["delete"]()}}(this),"click .confirm-no":function(a){return function(b){return b
.preventDefault(),a.dialog.destroy()}}(this)}},this.dialog=new a.util.ShowConfirmationDialog(c),this.dialog.render()},d.prototype.showEditDialog=function(a){var b;return a.preventDefault(),this.editDialog=!0,b=this.model.get("binary_scoring"),this.model.isNew()?b=$(".edit-contest #binary_scoring").is(":checked"):this.model.cached(),this.model.isNew()?(this.dialog.$body().find("label#challengename").hide(),this.dialog.$body().find("input#challengename").select2({minimumInputLength:1,ajax:{url:"/rest/contests/"+this.model.getContestId()+"/challengeassociations/available",quietMillis:100,data:function(a){return function(a,b){return{filter:a}}}(this),results:function(a){return function(a,b){var c;return c=[],_.each(a,function(a){return c.push({id:a.id,text:a.name})}),{results:c,more:!1}}}(this)}}),this.dialog.$body().find("input#challengename").on("change",function(a){return function(b){var c;return b.preventDefault(),c=$(b.target).select2("data"),a.model.set("challenge_id",c.id),a.model.set("challenge_name",c.text)}}(this))):(this.dialog.$body().find("label#challengename").show(),this.dialog.$body().find("input#challengename").hide())},d.prototype["delete"]=function(){return a.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(a){return function(b,c){if(c.status==="deleted")return $(a.el).html("")}}(this)}),this.remove()},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this.delegateEvents(),this},d.prototype.renderView=function(){var a,b;if(this.has_template)return b="",this.model.get("start_time")&&(b=moment.utc(this.model.get("start_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm"),this.timebound=!0),a="",this.model.get("end_time")&&(a=moment.utc(this.model.get("end_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm"),this.timebound=!0),$(this.el).html(this._template({model:this.model.toJSON(),starttime:b,endtime:a,timebound:this.timebound}))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ChallengeAssociationItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/challenge-association",d.prototype["class"]="dummy",d.prototype.events={"click .add-ca-btn":"addChallenge","click button#search":"filterList"},d.prototype.addChallenge=function(a){var b,c;return b=$("input#addnewca").select2("data"),c=this,this.collection.create({challenge_id:b.id,contest_id:this.collection.getContestId(),challenge_name:b.text},{success:function(a,b,d){if(a&&a.errors&&a.errors.length>0)return c.collection.remove(c.collection.last()),c.resetSubviews().render(),alert(a.errors[0])}}),this.resetSubviews().render(),this},d.prototype.resetSubviews=function(){return this.subviews=_.map(this.collection.models,function(b){return function(c,d){var e;return c.contestId=b.collection.getContestId(),e=new a.Manage_ChallengeAssociationItemView({model:c})}}(this)),this},d.prototype.filterList=function(a){var b;return a.preventDefault(),b=$(this.el).find("#filter").val(),this.collection.setFilter(b),this.collection.fetch({success:function(a){return function(){return a.collection.trigger("reset")}}(this)})},d.prototype.initialize=function(a){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render),this.listenTo(this.collection,"add",this.render)},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({collection:this.collection})),this.collection.length>0&&$(this.el).find(".challenges-list-wrapper").html(""),this.subviews||(this.subviews=_.map(this.collection.models,function(b){return function(c,d){var e;return c.contestId=b.collection.getContestId(),e=new a.Manage_ChallengeAssociationItemView({model:c}),b.add_subview(e),e}}(this))),_.each(this.subviews,function(a){return function(b,c){var d;return d=$("<tr>"),b.setElement(d).render(),a.$(".challenges-list-wrapper").append(d)}}(this)),this.$("input#addnewca").select2({minimumInputLength:1,ajax:{url:"/rest/contests/"+this.collection.getContestId()+"/challengeassociations/available",quietMillis:100,data:function(a){return function(a,b){return{filter:a}}}(this),results:function(a){return function(a,b){var c;return c=[],_.each(a,function(a){return c.push({id:a.id,text:a.name})}),{results:c,more:!1}}}(this)}})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ChallengeAssociationView=c})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};jQuery(function(){var b,d,e;return d=function(d){function e(){return this.updatePreview=a(this.updatePreview,this),e.__super__.constructor.apply(this,arguments)}return c(e,d),e.prototype.template="manage/challenge-edit",e.prototype["class"]="dummy",e.prototype.initialize=function(a){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,a.current_tab&&(this.current_tab=a.current_tab),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),this.model.isNew()||(this.autocreate_slug=!1,this.model.fetch({success:function(a,b,c){},error:function(a,c){return b.router.e404()}})),this.converter=new Showdown.converter,this.preview_sync=!0,this.codeMirrorRefresh(),this.current_hacker=b.profile()},e.prototype.events={"click a.judgebot":"changeJudgeBotLang","click a.checker_program":"changeCheckerProgramLang","click a.template_lang":"changeTemplateLang","click .save":"save","change #sync":"toggleSync","keyup #name":"nameChanged","keypress #slug":"slugChanged","click a[data-toggle=tab]":"tabChanged","click #statementEditTab > .CodeMirror":"focusEditor","click .hr_judgebot-code > .CodeMirror":"focusJudgebot","click .hr_checker-program > .CodeMirror":"focusCheckerProgram","click .hr_checker-limits > .CodeMirror":"focusCheckerLimits","click .hr_lang-template-head > .CodeMirror":"focusLangHead","click .hr_lang-template-body > .CodeMirror":"focusLangBody","click .hr_lang-template-tail > .CodeMirror":"focusLangTail"},e.prototype.focusEditor=function(a){if(this.editor)return this.editor.focus()},e.prototype.focusJudgebot=function(a){if(this.judgebot)return this.judgebot.focus()},e.prototype.focusCheckerProgram=function(a){if(this.checker_program)return this.checker_program.focus()},e.prototype.focusCheckerLimits=function(a){if(this.checker_limits)return this.checker_limits.focus()},e.prototype.focusLangHead=function(a){if(this.lang_template_head)return this.lang_template_head.focus()},e.prototype.focusLangTail=function(a){if(this.lang_template_tail)return this.lang_template_tail.focus()},e.prototype.focusLangBody=function(a){if(this.lang_template)return this.lang_template.focus()},e.prototype.tabChanged=function(a){return this.current_tab=$(a.target).attr("data-target").slice(1),b.router.navigate("/manage/challenge/edit/"+this.model.get("id")+"/"+this.current_tab,{trigger:!1}),this},e.prototype.codeMirrorRefresh=function(){this.editor&&this.editor.refresh(),this.judgebot&&this.judgebot.refresh(),this.checker_program&&this.checker_program.refresh(),this.lang_template_head&&this.lang_template_head.refresh(),this.lang_template&&this.lang_template.refresh(),this.lang_template_tail&&this.lang_template_tail.refresh();if(this.checker_limits)return this.checker_limits.refresh()},e.prototype.slugChanged=function(a){return this.autocreate_slug=!1,this},e.prototype.nameChanged=function(a){return this.autocreate_slug&&this.$("#slug").val(b.util.slugify(this.$("#name").val())),this},e.prototype.toggleSync=function(a){return this.preview_sync=$(a.target).get(0).checked},e.prototype.changeJudgeBotLang=function(a){var b,c;b=$(a.target);if(this.judgebot)return this.judgebot.setOption("mode",b.data("mime")),this.$("span#judgebot_lang").html(b.html()),c=this.model.get("_data"),c.judgebot_language=b.data("lang"),this.model.set({_data:c})},e.prototype.changeCheckerProgramLang=function(a){var b,c;b=$(a.target);if(this.checker_program)return this.checker_program.setOption("mode",b.data("mime")),this.$("span#custom_lang").html(b.html()),c=this.model.get("_data"),c.custom_language=b.data("lang")},e.prototype.changeTemplateLang=function(a){var b,c,d,e;return b=$(a.target),c=b.data("lang")+"_template",d=b.data("lang"),e=b.data("mime"),this.updateTemplate(function(a){return function(){var f;return f=a.model.get("_data"),a.$("#current_lang").val(d),a.$("span#lang_template_lang").html(b.html()),a.lang_template.setOption("mode",e),a.lang_template_head.setOption("mode",e),a.lang_template_tail.setOption("mode",e),f[c]||f[c]===""?(a.lang_template.setValue(f[c]),a.lang_template_head.setValue(f[c+"_head"]||""),a.lang_template_tail.setValue(f[c+"_tail"]||"")):(a.lang_template.setValue(lang_default_text[b.data("lang")]||""),a.lang_template_head.setValue(""),a.lang_template_tail.setValue(""))}}(this))},e.prototype.updateTemplate=function(a){var b,c,d,e,f,g,h;if(!this.lang_template){a();return}return h=this.model.get("_data"),c=this.$("#current_lang").val()+"_template",d=this.$("#current_lang").val(),e=this.lang_template.getValue().trim(),f=this.lang_template_head.getValue().trim(),g=this.lang_template_tail.getValue().trim(),b=!h[c]&&lang_default_text[d]&&lang_default_text[d].trim()!==e&&e!=="",b=b||h[c]&&h[c].trim()!==e&&lang_default_text[d]&&lang_default_text[d].trim()!==e,b=b||h[c+"_head"]&&h[c+"_head"].trim()!==f||!h[c+"_head"]&&f!=="",b=b||h[c+"_tail"]&&h[c+"_tail"].trim()!==g||!h[c+"_tail"]&&g!=="",b&&this.current_lang&&(h[c]=e,h[c+"_head"]=f,h[c+"_tail"]=g,this.model.set({_data:h})),this.current_lang=d,a()},e.prototype.render=function(){return this.has_template?this.renderView():b.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this.current_tab&&this.$("[data-toggle=tab][data-target=#"+this.current_tab+"]").trigger("click"),this},e.prototype.renderView=function(){var a,c;if(this.has_template)return $(this.el).html(this._template({model:this.model.toJSON(),new_model:this.model.isNew(),current_hacker:this.current_hacker.toJSON()})),b.util.ajaxmsg("Loading...",!0,!0,.5),this.model.isNew()||this.renderTestCaseView(),this.renderProblemStatementEditor(),a={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:lang_mime_mapping[this.model.get("_data").judgebot_language],indentUnit:4},this.$("#judgebot").get(0)&&(this.judgebot=CodeMirror.fromTextArea(this.$("#judgebot").get(0),a)),this.$("#checker_program").get(0)&&(a.mode=lang_mime_mapping[this.model.get("_data").custom_language],a.value=this.model.get("_data").checker_program,this.checker_program=CodeMirror.fromTextArea(this.$("#checker_program").get(0),a),a.value=""),a.mode="text/x-c++src",this.$("#lang_template").get(0)&&(c=this.current_lang,this.current_lang=!1,this.lang_template_head=CodeMirror.fromTextArea(this.$("#lang_template_head").get(0),a),this.lang_template=CodeMirror.fromTextArea(this.$("#lang_template").get(0),a),this.lang_template_tail=CodeMirror.fromTextArea(this.$("#lang_template_tail").get(0),a),this.$("a.template_lang[data-lang="+(c||"cpp")+"]").trigger("click")),$(this.el).find("#custom")[0]&&($(this.el).find("#custom")[0].checked=this.model.get("custom")),b.profile().get("is_admin")&&($(this.el).find("#submit_disabled")[0].checked=this.model.get("submit_disabled")),this.updatePreview(),this.renderCheckerLimitsEditor(),this.model.isNew()||this.renderModeratorsView(),this.$(".manage-switch").not(".has-switch").bootstrapSwitch()},e.prototype.renderProblemStatementEditor=function(){var a,b;a=this.$("textarea#statement").get(0);if(a)return b={lineNumbers:!1,lineWrapping:!0,matchBrackets:!1,mode:"text/x-markdown",indentUnit:4,value:this.model.get("body")},this.editor=CodeMirror.fromTextArea(a,b),this.editor.on("change",this.updatePreview)},e.prototype.renderCheckerLimitsEditor=function(){var a,b,c;a=this.$("textarea#checkerlimits").get(0);if(a){b={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,mode:"application/json",indentUnit:4},this.checker_limits=CodeMirror.fromTextArea(a),c=this.model.get("_data")&&this.model.get("_data").checkerlimits?this.model.get("_data").checkerlimits:void 0;if(!c||_.isEmpty(c))c=default_checker_limits,this.model.set("checkerlimits",c);return typeof c=="object"&&(c=JSON.stringify(c,null,4)),this.checker_limits.setValue(c)}},e.prototype.renderModeratorsView=function(){var a,c;if(!this.model.get("id"))return;return a=new b.Manage_Moderators({permissible_id:this.model.get("id"),permissible_type:"Challenge"}),c=new b.Manage_ModeratorsView({el:this.$(".moderators-view"),collection:a}),a.fetch({disable_throbber:!0,success:function(){return c.render()}})},e.prototype.updatePreview=function(){var a,b;return b=this.editor.getValue(),a=this.converter.makeHtml(b),this.$("#statementPreview").html(a)},e.prototype.save=function(a){return a.preventDefault(),$(this.el).find(".message").removeClass("error success").addClass("info").html("<p>Saving!</p>"),this.updateTemplate(function(a){return function(){var c,d,e,f,g;return g=a.model.get("_data"),a.judgebot&&(g.judgebot=a.judgebot.getValue()),a.checker_program&&(g.checker_program=a.checker_program.getValue()),d=["public_test_cases","public_solutions"],a.$("#kind").val()==="game"&&d.push("player_count"),b.profile().get("is_admin")&&d.push("submit_disabled"),f=b.util.formData($(a.el),d),_.extend(g,f),c=b.util.formData($(a.el),["name","slug","kind","preview","custom"]),c.body=a.editor.getValue(),a.checker_limits&&(c.checkerlimits=a.checker_limits.getValue()),c._data=g,e=a.model.isNew(),a.model.save(c,{success:function(b,c){return a.parseErrors(c.errors,c.status),a.renderTestCaseView()},error:function(b,c){return $(a.el).find(".message").show().removeClass("error success").addClass("info").html("<p>Problem in Connecting to server.</p>"),setTimeout(function(){return a.$(".message").hide().html("")},4e3)}})}}(this))},e.prototype.parseErrors=function(a,b){var c;return b?($(this.el).find(".message").show().removeClass("error info").addClass("success").html("<i class='icon-ok'>Your changes have been saved.</i>"),setTimeout(function(a){return function(){return a.$(".message").hide().html("")}}(this),4e3),this.renderTestCaseView()):($(this.el).find(".message").show().removeClass("success info").addClass("error"),setTimeout(function(a){return function(){return a.$(".message").hide().html("")}}(this),4e3),c="",_.each(a,function(a){return function(b){var d,e;return d="",e=$(a.el).find("[for="+b.field+"]"),b.field==="body"&&(e=$(a.el).find("[for=statement]")),e.length>0&&($(e).addClass("error"),d=$(e).html()+" "),_.each(b.errors,function(a){return c+=d+a+"<br >"})}}(this)),$(this.el).find(".message").show().html("<i class='icon-alert'>"+c+"</i>"),setTimeout(function(a){return function(){return a.$(".message").hide().html("")}}(this),4e3))},e.prototype.renderTestCaseView=function(){var a;if(this.model.isNew())return;return this.testcaseview||(this.testcaseview=new b.Manage_TestCaseView({challenge:this.model,collection:b.collection("test-case")}),this.add_subview(this.testcaseview)),(a=this.testcaseview.collection).challenge_id||(a.challenge_id=this.model.id),this.testcaseview.collection.fetch({success:function(a){return function(){return a.testcaseview.render().setElement($(a.el).find(".test-case")).render()}}(this)})},e}(window.HR.GenericView),b=(e=window.HR)!=null?e:{},b.Manage_ChallengeEditView=d})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/challenge-list-item",d.prototype["class"]="dummy",d.prototype.events={"click .delete":"confirmDelete"},d.prototype.initialize=function(a){return this.index=a.index,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.confirmDelete=function(b){var c;return b.preventDefault(),c={title:"Confirm Delete",body:"<div class='row'> Are you sure you want to delete "+this.model.get("name")+" challenge? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(a){return function(b){return b.preventDefault(),a["delete"](),a.dialog.destroy()}}(this),"click .confirm-no":function(a){return function(b){return b.preventDefault(),a.dialog.destroy()}}(this)}},this.dialog=new a.util.ShowConfirmationDialog(c),this.dialog.render()},d.prototype["delete"]=function(){return a.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(a){return function(b,c){if(c.status==="deleted")return $(a.el).html("")}}(this)})},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({model:this.model.toJSON(),index:this.index}))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ChallengeListItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/challenge-list",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},d.prototype.events={"keyup input.search":"filterList"},d.prototype.filterList=function(a){var b;a.preventDefault();if(a.keyCode!==13)return;return b=$(this.el).find("input.search").val(),this.collection.setFilter(b),this.collection.fetch({success:function(a){return function(){return a.collection.trigger("reset")}}(this)})},d.prototype.render=function(){return $(this.el).html(a.appController.viewLoader(64)),this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({collection:this.collection})),a.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),null,this.collection.getLimit()),_.each(this.collection.models,function(b,c){var d;return d=new a.Manage_ChallengeListItemView({model:b,index:(this.collection.page-1)*10+c+1}),$(this.el).find(".challenge-list-wrapper").append(d.render().el),this.add_subview(d)},this),a.util.ajaxmsg("Loading...",!0,!0,.5)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ChallengeListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/contest-access",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render)},d.prototype.events={"click .add_emails ":"add_emails","click .add_hacker":"add_hacker","click .delete":"delete_item"},d.prototype.add_emails=function(b){var c,d;return b.preventDefault(),d=$(this.el).find(".emails").val().trim(),c=d.split(","),_.each(c,function(b){return function(c){var d;return d=new a.ContestAccessModel,d.setContestId(b.collection.getContestId()),d.set({email:c}),d.save(null,{success:function(a,c){if(!c.error)return b.collection.add(a)}})}}(this))},d.prototype.add_hacker=function(b){var c;return b.preventDefault(),c=new a.ContestAccessModel,c.setContestId(this.collection.getContestId()),c.set({username:$(this.el).find(".hacker").val()}),c.save(null,{success:function(a){return function(b,c){return c.error?$(a.el).find(".hacker_error").html(""+c.error):a.collection.add(b)}}(this)})},d.prototype.delete_item=function(a){var b,c,d;return a.preventDefault(),b=$(a.target),c=b.data("id"),d=this.collection.get(c),d.setContestId(this.collection.getContestId()),d.destroy()},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var a;if(this.has_template)return $(this.el).html(this._template({collection:this.collection.toJSON()})),a=[],_.each(this.collection.models,function(b){return function(b){if(b.get("username"))return a.push(b.get("username"))}}(this)),this.$(".hacker").unbind(),this.$(".hacker").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu clear-margin"></ul>',source:function(b){return function(b,c){return $.ajax({url:"/rest/hackers/autocomplete?q="+c+"&without="+a.join(","),type:"GET",success:function(a,c){return b.process(a)}})}}(this)})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ContestAccessView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/contest-edit",d.prototype["class"]="dummy",d.prototype.initialize=function(b){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),b.current_tab&&(this.current_tab=b.current_tab),this.model.isNew()||(this.autocreate_slug=!1,this.model.fetch({error:function(b,c){return a.router.e404()}})),this.converter=new Showdown.converter,this.current_hacker=a.profile()},d.prototype.events={"click .save":"save","click #newTemplate":"newTemplate","click #editTemplate":"editTemplate","click #previewTemplate":"previewTemplate","click [data-id]":"setCurrentTemplate","click .circle_add":"add_circle","click .circle_remove":"remove_circle","click a[data-toggle=tab]":"tabChanged","keyup #name":"nameChanged","keyup #slug":"slugChanged"},d.prototype.tabChanged=function(b){return this.current_tab=$(b.target).attr("data-target").slice(1),a.router.navigate("/manage/contest/edit/"+this.model.get("slug")+"/"+this.current_tab,{trigger:!1})},d.prototype.slugChanged=function(a){return this.autocreate_slug=!1,this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this.$("#contest-url").attr("href","https://hackerrank.com/"+this.$("#slug").val()),this},d.prototype.nameChanged=function(b){return this.autocreate_slug&&(this.$("#slug").val(a.util.slugify(this.$("#name").val())),this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this.$("#contest-url").attr("href","https://hackerrank.com/"+this.$("#slug").val())),this},d.prototype.add_circle=function(a){var b,c,d,e,f;return d=this.model.get("prizes"),c=d.circles||[],e=this.$("#circle_src").val(),b=this.$("#circle_alt").val(),f=this.$("#circle_text").val(),this.setData(),c.push({src:e,alt:b,text:f}),this.model.set({prizes:{circles:c,tagline:this.$("#prizes_tagline").val()}}),this.model_save(),this},d.prototype.remove_circle=function(a){var b,c,d,e;return this.setData(),e=$(a.target).data("index"),d=this.model.get("prizes"),b=d.circles||[],c=[],_.each(b,function(a){return function(a,b){if(b!==e)return c.push(a)}}(this)),this.model.set({prizes:{circles:c,tagline:this.$("#prizes_tagline").val()}})},d.prototype.setCurrentTemplate=function(a){var b;return b=$(a.target),this.template_id=b.data("id"),$(this.el).find("span#templateSlug").html(b.html()),b.data("sample")===!0?$(this.el).find("#editTemplate").hide():$(this.el).find("#editTemplate").show()},d.prototype.editTemplate=function(a){return a.preventDefault(),window.open("/manage/template/edit/"+this.template_id)},d.prototype.previewTemplate=function(a){return a.preventDefault(),window.open("/rest/templates/"+this.template_id+"/preview?contest_id="+this.model.get("id"))},d.prototype.newTemplate=function(b){var c,d;return b.preventDefault(),this.dialog=!0,c={title:"Add New Template",width:275,body:"<div class='loader'>"+a.appController.viewLoader(64)+"</div> <form class='hide'> <div class='row'> <div class='span4'> <label>Select Sample Template</label> </div> </div> <div class='row'> <div class='span4'> <select id='sample_id' class='span4 input_text'> </select> </div> </div> <div class='row'> <div class='span4'> <a id='preview' target='_blank' href='#'>Preview</a> </div> </div> <div class='row'> <div class='span4' style='text-align:right;' > <a class='btn btn-green save_template' href='#'>Add Template</a> </div> </div> </form>",events:{"click .save_template":function(a){return function(b){var c,d;return b.preventDefault(),d=b.data.$dialog,c={contest_id:a.model.get("id"),sample_id:$(d).find("#sample_id").val()},$.ajax({url:"/rest/templates",type:"POST",data:c,success:function(b){if(b.model)return a.log("MSOF"),a.model.fetch(),a.dialog.destroy()}})}}(this),"click .close":function(a){return function(b){return b.preventDefault(),a.dialog.destroy()}}(this),"click #preview":function(a){return function(b){return b.preventDefault(),window.open("/rest/templates/"+a.dialog.$body().find("#sample_id").val()+"/preview?contest_id="+a.model.get("id"),"_blank")}}(this)}},d={updateData:function(a){return function(b){var c,d;return d=b.get("sample_templates"),c="",_.each(d,function(a,b){var d;return d="<option value='"+a.id+"'>"+a.slug+"</option>",c=c+d}),a.dialog.$body().find("#sample_id").html(c),a.dialog.$body().find(".loader").hide(),a.dialog.$body().find("form").show()}}(this)},this.dialog=new a.util.ShowDialog(c,d),this.dialog.render().updateData(this.model)},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this.current_tab&&this.$("[data-toggle=tab][data-target=#"+this.current_tab+"]").trigger("click"),this},d.prototype.renderView=function(){var b,c,d;if(this.has_template)return $(this.el).html(this._template({model:this.model.toJSON(),_model:this.model,current_hacker:this.current_hacker.toJSON()})),c={lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:"text/html",indentUnit:4,onChange:function(a){return function(b){return a.updatePreview(),a}}(this)},b=this.$("#description").get(0),b&&(this.editor=CodeMirror.fromTextArea(b,c)),this.updatePreview(),this.scrollView(),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),this.picker_start=$(this.el).find("#stdate").data("datetimepicker"),this.picker_end=$(this.el).find("#endate").data("datetimepicker"),this.setDateTime(),d=["submit_disabled","penalty","binary_scoring","participant_restriction"],this.current_hacker.get("is_admin")===!0&&(d=_.union(d,["hacker_application","enable_olark","public","is_private"])),_.each(d,function(a){return function(b){var c;return c=$(a.el).find("#"+b),c.is("select")?c.val(b):c[0].checked=a.model.get(b)}}(this)),this.template_id=this.model.get("template_id"),_.each(this.model.get("templates"),function(a){return function(b){if(b.id===a.model.get("template_id"))return $(a.el).find("span#templateSlug").html(b.slug)}}(this)),a.util.ajaxmsg("Loading...",!0,!0,.5),this.renderChallengeAssociationView(),this.renderContestAccessView(),this.model.isNew()||(this.renderModeratorsView(),this.renderNotifications()),this.$(".manage-switch").not(".has-switch").bootstrapSwitch()},d.prototype.renderModeratorsView=function(){var b,c;if(!this.model.get("id"))return;return b=new a.Manage_Moderators({permissible_id:this.model.get("id"),permissible_type:"Contest"}),c=new a.Manage_ModeratorsView({el:this.$(".moderators-view"),collection:b}),b.fetch({disable_throbber:!0,success:function(){return c.render()}})},d.prototype.renderNotifications=function(){var b,c;return b=a.model("manage_-notification"),b.set("contest_id",this.model.get("id")),c=new a.Manage_NotificationView({model:b,contest:this.model,el:this.$(".notifications-view")}),c.render(),this},d.prototype.setDateTime=function(){var a,b;this.model.get("epoch_starttime")!==""&&this.model.get("epoch_starttime")!==null&&parseInt(this.model.get("epoch_starttime"))!==0&&(b=new Date(parseInt(this.model.get("epoch_starttime"))),$(this.el).find("#startDate").val($.format.date(b,"yyyy-MM-dd hh:mm")),this.picker_start.setLocalDate(b));if(this.model.get("epoch_endtime")!==null&&this.model.get("epoch_endtime")!==""&&parseInt(this.model.get("epoch_endtime"))!==0)return a=new Date(parseInt(this.model.get("epoch_endtime"))),$(this.el).find("#endDate").val($.format.date(a,"yyyy-MM-dd hh:mm")),this.picker_end.setLocalDate(a)},d.prototype.updatePreview=function(){var a,b;return b=this.editor.getValue(),a=this.converter.makeHtml(b),this.$("#descriptionPreview").html(a)},d.prototype.scrollView=function(){var a,b,c,d,e,f,g,h;return a=$(this.el).find(".CodeMirror-scrollbar"),e=$(this.el).find(".preview"),e.height($(this.el).find(".CodeMirror").height()),c=a.prop("scrollHeight"),g=e.prop("scrollHeight"),b=a.height(),f=e.height(),c<=0&&(g*=-1),d=Math.abs((g-f)/(c-b)-1),d<1&&(d=1),h=this.editor.cursorCoords(!0,"local").y*d,e.stop(!0,!1).animate({scrollTop:h},200)},d.prototype.setData=function(b){var c,d,e,f,g;b==null&&(b=null),this.starttime=$(this.el).find("#startDate").val(),this.endtime=$(this.el).find("#endDate").val(),e=d=null,this.starttime.trim()!==""&&(e=(new Date(this.starttime)).getTime()),this.endtime.trim()!==""&&(d=(new Date(this.endtime)).getTime()),f=["name","slug","submit_disabled","penalty","tagline","binary_scoring","description","homepage_background_color","homepage_background_image","participant_restriction","is_private"],this.current_hacker.get("is_admin")===!0&&(f=_.union(f,["scoring_template","faq_template","cutoff_score","hacker_application","public","notification","enable_olark"])),c=a.util.formData($(this.el),f),g={notification:[this.$("#notification").val()],description:this.editor.getValue(),starttime:this.starttime,endtime:this.endtime,epoch_starttime:e,epoch_endtime:d,template_id:this.template_id},this.$("#prizes_tagline").val()!==""||!!this.model.get("prizes").circles&&this.model.get("prizes").circles!==null&&this.model.get("prizes").circles.length!==0?g.prizes={tagline:this.$("#prizes_tagline").val(),circles:this.model.get("prizes").circles||[]}:g.prizes={},_.extend(c,g),this.model.set(c);if(b!==null&&typeof b!="object")return b()},d.prototype.save=function(a){return a.preventDefault(),_(this.challenges.models).each(function(a){return function(a){if(a.dirty)return a.save()}}(this)),this.setData(function(a){return function(){return a.model_save()}}(this))},d.prototype.model_save=function(){return this.model.save({},{success:function(a){return function(b,c){return a.parseErrors(c.errors,c.status)}}(this),error:function(a){return function(b,c){return $(a.el).find(".message").show().removeClass("error success").addClass("info").html("<ul style='margin-left:15px'><li>Problem in Connecting to server.</li></ul>"),setTimeout(function(){return a.$(".message").hide().html("")},4e3)}}(this)})},d.prototype.parseErrors=function(
a,b){var c;return b?($(this.el).find(".message").show().removeClass("error").addClass("success").html("<i class='icon-ok'>Your changes have been saved.</i>"),setTimeout(function(a){return function(){return $(a.el).find(".message").hide().html("")}}(this),4e3)):($(this.el).find(".message").show().removeClass("success").addClass("error"),setTimeout(function(a){return function(){return a.$(".message").hide().html("")}}(this),4e3),c=_.map(a,function(a){return function(b){return a.$("[for="+b.split(" ")[0].toLowerCase()+"]").addClass("error"),"<br>"+b}}(this)).join(""),$(this.el).find(".message").show().html("<i class='icon-alert'>"+c+"</i>"))},d.prototype.renderContestAccessView=function(){var b,c,d;if(this.model.isNew()||!this.model.get("id")||this.model.get("participant_restriction")===!1)return;return c=b=a.appController.getCollection("contestaccess","contest-"+this.model.get("id"),function(a){return function(b){return b.setContestId(a.model.get("id")),b.fetch()}}(this),!1,!1),d=new a.Manage_ContestAccessView({collection:c}),d.setElement($(this.el).find(".contestaccess")).render(),this.add_subview(d)},d.prototype.renderChallengeAssociationView=function(){if(!this.model.get("id"))return;if(this.model.isNew()||!this.model.get("id"))return;return this.challenges=a.collection("challenge-association"),this.challenges.setContestId(this.model.get("id")),this.challenges.fetch({success:function(b){return function(c,d,e){var f;return f=new a.Manage_ChallengeAssociationView({collection:b.challenges,contest:b.model}),f.setElement($(b.el).find(".hr_challenge-associations")).render(),b.add_subview(f)}}(this)})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ContestEditView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/contest-list-item",d.prototype["class"]="dummy",d.prototype.events={"click .delete":"confirmDelete"},d.prototype.initialize=function(a){return this.index=a.index,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.confirmDelete=function(b){var c;return b.preventDefault(),c={title:"Confirm Delete",body:"<div class='row'> Are you sure you want to delete "+this.model.get("name")+"? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(a){return function(b){return b.preventDefault(),a["delete"](),a.dialog.destroy()}}(this),"click .confirm-no":function(a){return function(b){return b.preventDefault(),a.dialog.destroy()}}(this)}},this.dialog=new a.util.ShowConfirmationDialog(c),this.dialog.render()},d.prototype["delete"]=function(){return a.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(a){return function(b,c){if(c.status==="deleted")return $(a.el).html("")}}(this)})},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var a;if(this.has_template)return a="Not Available",this.model.get("started")===!0&&this.model.get("ended")===!0?a="Ended":this.model.get("started")===!0&&this.model.get("ended")===!1?a="Going On":a="Not Started",$(this.el).html(this._template({model:this.model.toJSON(),index:this.index,status:a}))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ContestListItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/contest-list",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},d.prototype.events={"keyup input.search":"filterList"},d.prototype.filterList=function(a){var b;a.preventDefault();if(a.keyCode!==13)return;return b=$(this.el).find("input.search").val(),this.collection.setFilter(b),this.collection.fetch({success:function(a){return function(){return a.collection.trigger("reset")}}(this)})},d.prototype.render=function(){return $(this.el).html(a.appController.viewLoader(64)),this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({collection:this.collection,query:this.collection.query})),a.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),null,this.collection.getLimit()),_.each(this.collection.models,function(b,c){var d;return d=new a.Manage_ContestListItemView({model:b,index:(this.collection.page-1)*10+c+1}),$(this.el).find(".contest-list-wrapper").append(d.render().el),this.add_subview(d)},this),a.util.ajaxmsg("Loading...",!0,!0,.5)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ContestListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/emailnotification-send",d.prototype.setContest=function(b){return this.contest=b,this.challenges={},this.model.set("contest_id",b.get("id")),this.challengeassociations=new a.ChallengeAssociationCollection,this.challengeassociations.getAll=!0,this.challengeassociations.setContestId(b.get("id"))},d.prototype.initialize=function(a){this.challenges={},a.contest&&this.setContest(a.contest);if(a.el)return this.el=a.el},d.prototype.events={"submit form":"sendEmails","change #email-notif-recipient-type":"recipientTypeChanged"},d.prototype.setRecipientDsl=function(){var a,b;return b=this.$("#email-notif-recipient-type").val().toLowerCase(),a=this.$("#email-notif-challenge-input").val(),b!=="all"&&b!=="submitted-*"&&a&&(b+="-"+a),this.model.set("recipient_dsl",b)},d.prototype.sendEmails=function(){return this.$(".send-btn").attr("disabled","disabled"),this.model.set("message",this.$("#email-notif-message").val()),this.model.set("subject",this.$("#email-notif-subject").val()),this.model.set("type",this.$("#notif-type").val()),this.model.set("id",void 0),this.setRecipientDsl(),setTimeout(function(){return this.$(".send-btn").removeAttr("disabled")},2e4),this.model.save({},{success:function(){return this.$(".error").html("Sent!"),setTimeout(function(){return this.$(".error").html("")},18e3)},error:function(){return this.$(".error").html("Failed!"),setTimeout(function(){return this.$(".error").html("")},18e3)}})},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){this._template=a,this.has_template=!0,this.renderView();if(this.model.get("contest_id"))return this.challengeassociations.fetch({success:function(a){return function(){return _.each(a.challengeassociations.models,function(b){return a.challenges[b.get("challenge_name")]=b.get("challenge_id")}),a.challenge_autocomp=[],_.each(a.challenges,function(b,c){return a.challenge_autocomp.push({id:b,text:c})}),$(function(){return a.$("#email-notif-challenge-input").select2({data:a.challenge_autocomp})})}}(this)})},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({model:this.model.toJSON(),contest:this.contest.toJSON()}))},d.prototype.recipientTypeChanged=function(a){return a.srcElement.value==="All"?this.$("#email-notif-challenge-input").select2("destroy").hide():this.$("#email-notif-challenge-input").show().select2({data:this.challenge_autocomp})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_NotificationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/hacker-applications-item",d.prototype["class"]="dummy",d.prototype.getVisaStatus=function(a){var b;return b={not_applicable:"Not Applicable",available:"Available",not_available:"Not Available"},b[a]?b[a]:"Not Available"},d.prototype.getRole=function(a){var b;return b={intern:"Intern",fulltime:"Full Time"},b[a]?b[a]:"Not Available"},d.prototype.initialize=function(a){return this.contest=a.contest,this.key=a.key,this.index=a.index,this.hackerId=a.hacker_id,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.events={"click .change-tab":"renderChallengeTab"},d.prototype.renderChallengeTab=function(a){var b;return b=$(a.target),this.challenge_models[b.attr("data-id")].fetch({disableThrobber:!0})},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var b;if(this.has_template)return b=this.model.toJSON(),$(this.el).html(this._template({model:b,index:this.index,visa_status:this.getVisaStatus(this.model.get("visa_status")),role:this.getRole(this.model.get("role"))})),this.challenge_models=new Object,_.each(b.challenges,function(c){var d;return this.challenge_models[c.id]=a.appController.getModel("hackerchallenge","hacker-"+b.hacker_id+"-"+c.id,function(a){return function(d){return d.setKey(a.key),d.setHackerId(b.hacker_id),d.setId(c.id),d.setContest(a.contest.toJSON())}}(this),!1),d=new a.Manage_HackerChallengeView({model:this.challenge_models[c.id]}),d.setElement($(this.el).find(".tab-content #"+c.slug+"-"+this.index)),this.add_subview(d)},this)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HackerApplicationsItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/hacker-applications",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.contest=a.contest,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},d.prototype.events={"click [data-kind]":"filter_data"},d.prototype.render=function(){return this.log("Rendering..."),this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.filter_data=function(a){var b,c,d;a.preventDefault(),b=$(a.target),d=b.data("kind"),c=b.data("filter"),$(this.el).find(".applications-list-wrapper").html('<div class="block-center text-center"> <img src="https://d3rpyts3de3lx8.cloudfront.net/hackerrank/hackerrank_spinner_64x64.gif"><br/><br/> Please wait while we fetch the applications </div>'),this.collection[d]=c,this.collection.setPage(1),this.collection.fetch({disableThrobber:!0}),$(this.el).find("[data-kind="+d+"][data-filter]").show(),$(this.el).find("[data-kind="+d+"][data-filter="+c+"]").hide();if(c==="")return;return $(this.el).find("[data-title="+d+"]").html($(this.el).find("[data-kind="+d+"][data-filter="+c+"]").html())},d.prototype.renderView=function(){var b,c,d,e,f;if(this.has_template)return $(this.el).html(this._template({contest:this.contest,company:this.collection.companyId,key:this.collection.key})),b=_.isEmpty(this.collection.country)?"All":$(this.el).find("[data-filter="+this.collection.country+"]").html().trim(),e=_.isEmpty(this.collection.visa)?"any":$(this.el).find("[data-filter="+this.collection.visa+"]").html().trim(),d=_.isEmpty(this.collection.role)?"any role":$(this.el).find("[data-filter="+this.collection.role+"]").html().trim(),f="Currently showing <strong>"+b+"</strong> hacker(s) who have applied for <strong>"+d+"</strong> and have <strong>"+e+"</strong>",$(this.el).find("#filter_text").html(f),c=this.collection.getFilterString().split("-"),_.each(c,function(a){return function(b,c){var d;d=$(a.el).find("[data-title]:eq("+c+")").data("title"),$(a.el).find("[data-kind="+d+"][data-filter]").show(),$(a.el).find("[data-kind="+d+"][data-filter="+b+"]").hide();if(b==="")return;return $(a.el).find("[data-title="+d+"]").html($(a.el).find("[data-kind="+d+"][data-filter="+b+"]").html())}}(this)),a.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),this.collection,this.collection.getLimit()),this.collection.getTotal()===0?$(this.el).find(".applications-list-wrapper").html("<p class='text-center'>None of the valid candidate has applied yet.</p>"):this.collection.getTotal()>0&&$(this.el).find(".applications-list-wrapper").html(""),_.each(this.collection.models,function(b,c){var d;return d=new a.Manage_HackerApplicationsItemView({contest:this.contest,model:b,index:(this.collection.page-1)*this.collection.getLimit()+c+1,key:this.collection.key}),$(this.el).find(".applications-list-wrapper").append(d.render().el),this.add_subview(d)},this)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HackerApplicationsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/hacker-challenges",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.events={"click [data-toggle=tab]":"switchCode"},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.changeLanguage=function(a){var b;return b=a,a==="c"&&(b="csrc"),a==="cpp"&&(b="c++src"),this.editor.setOption("mode","text/x-"+b)},d.prototype.switchCode=function(a){var b,c,d;return a.preventDefault(),b=$(a.target),c=b.data("index"),d=this.model.get("submissions"),this.changeLanguage(d[c].language),this.editor.setValue(d[c].code),$(this.el).find("#language h5").html(lang_display_mapping[d[c].language]),$(this.el).find("#time_ago h5").html(d[c].time_ago)},d.prototype.renderView=function(){var a,b,c;if(this.has_template&&this.model.get("submissions")){c=this.model.toJSON(),$(this.el).html(this._template({model:c})),b={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,readOnly:!0,mode:"text/x-markdown",indentUnit:4},a=this.$("#hacker_code").get(0);if(a)return this.editor=CodeMirror.fromTextArea(a,b),$(this.el).find(".nav li:first a").trigger("click")}},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HackerChallengeView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/hacker-submissions-item",d.prototype["class"]="dummy",d.prototype.initialize=function(a){return this.contest=a.contest,this.index=a.index,this.filterString=a.filterString,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.events={"click .change-tab":"renderChallengeTab"},d.prototype.renderChallengeTab=function(a){var b;return a.preventDefault(),b=$(a.target),b.data("id")&&this.challenge_models[b.attr("data-id")].fetch({disableThrobber:!0}),$(this.el).find(".tab-pane").removeClass("active").fadeOut(),$(this.el).find(".tab-pane"+b.attr("href")).fadeIn().addClass("active")},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var b;if(this.has_template)return b=this.model.toJSON(),$(this.el).html(this._template({model:b,index:this.index})),this.challenge_models=new Object,_.each(b.challenges,function(c){var d;return this.challenge_models[c.id]=a.appController.getModel("hackerchallenge","hacker-"+b.id+"-"+c.id+"-filter-"+this.filterString,function(a){return function(d){return d.setHackerId(b.id),d.setId(c.id),d.setFilterString(a.filterString),d.setContest(a.contest)}}(this),!1),d=new a.Manage_HackerChallengeView({model:this.challenge_models[c.id]}),d.setElement($(this.el).find(".tab-content #"+c.slug+"-"+this.index)),this.add_subview(d)},this)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HackerSubmissionsItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/hacker-submissions",d.prototype["class"]="dummy",d.prototype.initialize=function(b){var c;return this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),c="id-"+this.collection.contestSlug,this.contest=a.appController.getModel("managecontest",c,function(a){return function(b){b.setId(a.collection.contestSlug);if(!b.sync_status)return b.fetch()}}(this),!1),this.listenTo(this.contest,"change",this.render),this.listenTo(this.contest,"reset",this.render)},d.prototype.events={"click .filter_remove":"removeFilter","click .filter_add":"addFilter","click .filter_apply":"applyFilter"},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.addFilter=function(a){var b,c,d;return a.preventDefault(),b=$(a.target),c=b.data("kind"),d=this.$("#input_"+c).val(),this.collection.addFilter(c,d),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},d.prototype.removeFilter=function(a){var b,c,d;return b=$(a.target),d=b.data("value"),c=b.data("kind"),this.collection.removeFilter(c,d),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},d.prototype.applyFilter=function(a){return this.collection.addFilter("start_date",$(this.el).find("#startDate").val()),this.collection.addFilter("end_date",$(this.el).find("#endDate").val()),this.collection.addFilter("status",$(this.el).find("input:radio[name=status]:checked").val()||"all"),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},d.prototype.setDateTime=function(){var a,b;this.collection.getFilters().start_date!==null&&this.collection.getFilters().start_date.trim()!==""&&(b=new Date(this.collection.getFilters().start_date),$(this.el).find("#startDate").val($.format.date(b,"yyyy-MM-dd hh:mm")),$(this.el).find("#stdate").datetimepicker("setLocalDate",b));if(this.collection.getFilters().end_date!==null&&this.collection.getFilters().end_date.trim()!=="")return a=new Date(this.collection.getFilters().end_date),$(this.el).find("#endDate").val($.format.date(a,"yyyy-MM-dd hh:mm")),$(this.el).find("#endate").datetimepicker("setLocalDate",a)},d.prototype.renderView=function(){if(this.has_template&&this.collection.sync_status&&this.contest.sync_status){$(this.el).html(this._template({filters:this.collection.getFilters(),contestSlug:this.collection.contestSlug,contest:this.contest.toJSON()})),$(".typeahead.dropdown-menu").remove(),this.$(".input_challenges").unbind(),this.$(".input_challenges").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu margin-0" "margin:0px;"></ul>',source:function(a){return function(b,c){return $.ajax({url:"/rest/contests/"+a.collection.contestSlug+"/challenges/autocomplete?q="+c+"&without="+a.collection.getFilters().challenges.join(","),type:"GET",success:function(a,c){return b.process(a)}})}}(this)}),this.$(".input_hackers").unbind(),this.$(".input_hackers").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu margin-0" "margin:0px;"></ul>',source:function(b){return function(c,d){return $.ajax({url:"/rest/contests/"+a.appController.get_current_contest_slug()+"/hackers/autocomplete?q="+d+"&without="+b.collection.getFilters().hackers.join(","),type:"GET",success:function(a,b){return c.process(a)}})}}(this)}),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),a.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),this.collection,this.collection.getLimit()),this.setDateTime();if(this.collection.getTotal()===0&&this.collection.errors.length===0)return $(this.el).find(".submissions-list-wrapper").html("<p class='text-center'>No hackers found matching the filters.</p>");if(this.collection.getTotal()===0)return $(this.el).find(".submissions-list-wrapper").html("<p class='text-center'>"+this.collection.errors+"</p>"),a.appController.cleanCollectionCache("submission_hackers");if(this.collection.getTotal()>0)return $(this.el).find(".submissions-list-wrapper").html(""),_.each(this.collection.models,function(b,c){var d;return d=new a.Manage_HackerSubmissionsItemView({contest:this.contest,model:b,index:(this.collection.page-1)*this.collection.getLimit()+c+1,filterString:this.collection.getFilterString()}),$(this.el).find(".submissions-list-wrapper").append(d.render().el),this.add_subview(d)},this)}},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HackerSubmissionsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/home",d.prototype.className="manage-view",d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a)},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_HomeView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/moderators",d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a),this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},d.prototype.events={"click .moderator-add":"add"},d.prototype.add=function(a){return $(a.target).html("Adding...").attr("disabled","disabled"),this.collection.create({permissible_type:this.collection.permissible_type,permissible_id:this.collection.permissible_id,username:this.$(".moderator-input").val()},{wait:!0,success:function(a){return function(){return a.render()}}(this),error:function(b){return function(){return b.$(".error").html("Failed!"),$(a.target).html("Add").removeAttr("disabled")}}(this)})},d.prototype.render=function(){this.$el.html(a.appController.template(this.template,this));if(this.$(".moderators").length>0)return _.each(this.collection.models,function(b){return function(c,d){var e;return e=new a.Manage_ModeratorView({model:c}),e.render(),b.$(".moderators").append(e.el)}}(this))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ModeratorsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.tagName="tr",d.prototype.template="manage/moderator",d.prototype.initialize=function(a){return d.__super__.initialize.call(this,a),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.events={"click .moderator-del":"del"},d.prototype.del=function(a){return this.model.destroy(),this.remove()},d.prototype.render=function(){return a.appController.getTemplate(this.template,function(a){return function(b){return a.$el.html(b({model:a.model.toJSON()}))}}(this),this),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_ModeratorView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/new-contest",d.prototype["class"]="dummy",d.prototype.initialize=function(b){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,this.converter=new Showdown.converter,this.current_hacker=a.profile(),this},d.prototype.events={"click .save":"save","click .done":"done","click #newTemplate":"newTemplate","click #editTemplate":"editTemplate","click #previewTemplate":"previewTemplate","click [data-id]":"setCurrentTemplate","click .circle_add":"add_circle","click .circle_remove":"remove_circle","click a[data-toggle=tab]":"tabChanged","keyup #name":"nameChanged","keyup #slug":"slugChanged","change [name=preset-choice]":"presetChanged"},d.prototype.presetChanged=function(a){scroll(0,$("#basic").position().top),$("#basic").show(),$("#presets-pane").hide(),$("#name").focus(),$("#title-thing").html($(a.target).attr("title-text"));if($(a.target).attr("value")==="acm")return this.model.set("binary_scoring",!0),this.model.set("penalty",1200)},d.prototype.tabChanged=function(a){return this.current_tab=$(a.target).attr("href")},d.prototype.slugChanged=function(a){return this.autocreate_slug=!1,this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this},d.prototype.nameChanged=function(b){return this.autocreate_slug&&(this.$("#slug").val(a.util.slugify(this.$("#name").val())),this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val())),this},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var a,b,c;if(this.has_template)return $(this.el).html(this._template()),b={lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,mode:"text/html",indentUnit:4,onChange:function(a){return function(b){return a.updatePreview(),a}}(this)},a=this.$("#description").get(0),a&&(this.editor=CodeMirror.fromTextArea(a,b)),this.updatePreview(),this.scrollView(),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),this.picker_start=$(this.el).find("#stdate").data("datetimepicker"),this.picker_end=$(this.el).find("#endate").data("datetimepicker"),c=["submit_disabled","penalty","binary_scoring","participant_restriction"]},d.prototype.updatePreview=function(){var a,b;return b=this.editor.getValue(),a=this.converter.makeHtml(b),this.$("#descriptionPreview").html(a)},d.prototype.scrollView=function(){var a,b,c,d,e,f,g,h;return a=$(this.el).find(".CodeMirror-scrollbar"),e=$(this.el).find(".preview"),e.height($(this.el).find(".CodeMirror").height()),c=a.prop("scrollHeight"),g=e.prop("scrollHeight"),b=a.height(),f=e.height(),c<=0&&(g*=-1),d=Math.abs((g-f)/(c-b)-1),d<1&&(d=1),h=this.editor.cursorCoords(!0,"local").y*d,e.stop(!0,!1).animate({scrollTop:h},200)},d.prototype.setData=function(){var b,c,d,e,f;return this.starttime=$(this.el).find("#startDate").val(),this.endtime=$(this.el).find("#endDate").val(),d=c=null,this.starttime.trim()!==""&&(d=(new Date(this.starttime)).getTime()),this.endtime.trim()!==""&&(c=(new Date(this.endtime)).getTime()),e=["name","slug","tagline"],b=a.util.formData($(this.el),e),f={description:this.editor.getValue(),starttime:this.starttime,endtime:this.endtime,epoch_starttime:d,epoch_endtime:c,template_id:1},_.extend(b,f),this.model.set(b),this},d.prototype.done=function(b){return b.preventDefault(),a.router.navigate("/manage/contest/edit/"+this.model.get("slug"),{trigger:!0})},d.prototype.save=function(a){var b;return a.preventDefault(),b=this.model,this.setData().model_save()},d.prototype.model_save=function(){return this.model.save({},{success:function(a){return function(b,c){return c.status?(a.renderChallengeAssociationView(),a.$("#basic").hide(),a.$("#challenges-pane").show(),scroll(0,$("#challenges-pane").position().top),a.$(".save").hide()):(a.$(".error").show().html(""),_.each(c.errors,function(a){return this.$(".error").append(""+a+"<br />")}))}}(this),error:function(a){return function(b,c){return $(a.el).find(".message").removeClass("error success").addClass("info").html("<ul style='margin-left:15px'><li>Problem in Connecting to server.</li></ul>")}}(this)})},d.prototype.renderChallengeAssociationView=function(){var b,c;return b=new a.ChallengeAssociationCollection,b.setContestId(this.model.get("id")),c=new a.Manage_ChallengeAssociationView({collection:b,contest:this.model}),c.setElement($(this.el).find(".challenges")).render(),this.add_subview(c)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_NewContestView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/template-editor",d.prototype["class"]="dummy",d.prototype.initialize=function(b){return this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),this.model.fetch({disableThrobber:!0,error:function(b,c){return a.router.e404()}})},d.prototype.events={"click .save":"save","click .preview":"preview"},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){var a,b;this.has_template&&$(this.el).html(this._template({model:this.model.toJSON()}));if(this.model){b={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:"text/html",indentUnit:4},a=this.$("#inputstatement").get(0);if(a)return this.editor=CodeMirror.fromTextArea(a,b),window.editor=this.editor}},d.prototype.save=function(a,b){var c;return a==null&&(a=null)
,b==null&&(b=null),a&&a.preventDefault(),c={slug:$(this.el).find("#slug").val(),body:$("<div/>").text(this.editor.getValue()).html()},this.model.save(c,{success:function(a){return function(c,d){return b&&b.call(),a.parseErrors(d.errors,d.status)}}(this),error:function(a){return function(b,c){return $(a.el).find(".message").removeClass("error success").addClass("info").html("<ul style='margin-left:30px'><li>Problem in Connecting to server.</li></ul>")}}(this)})},d.prototype.preview=function(a){return a.preventDefault(),$.ajax({url:"/rest/templates/"+this.model.get("slug")+"/preview",type:"POST",data:{body:$("<div/>").text(this.editor.getValue()).html()},success:function(b,c){return window.open($(a.target).attr("href"))}})},d.prototype.parseErrors=function(a,b){var c;return b?$(this.el).find(".message").removeClass("error").addClass("success").html("<ul style='margin-left:30px'><li>Your Changes have been saved</li></ul>"):($(this.el).find(".message").removeClass("success").addClass("error"),c="",_.each(a,function(a){return function(b){var d,e;return d="",e=$(a.el).find("[for=input"+b.field+"]"),e.length>0&&($(e).addClass("error"),d=$(e).html()+" "),_.each(b.errors,function(a){return c+="<li>"+d+a+"</li>"})}}(this)),$(this.el).find(".message").html("<ul style='margin-left:30px'>"+c+"</ul>")),this.showFloatingMessage()},d.prototype.showFloatingMessage=function(){return $(this.el).find(".floating-message").fadeIn(500,function(a){return function(){return setTimeout(function(){return $(a.el).find(".floating-message").fadeOut()},3e3)}}(this))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_TemplateEditView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/testcase-item",d.prototype["class"]="dummy",d.prototype.events={"click .delete":"confirmDelete","click .edit":"showEditDialog","click .score-edit":"editScore","focusout .score":"restoreScore","click .sample":"updateSample"},d.prototype.editScore=function(a){return a.preventDefault(),$(this.el).find(".score-edit").hide(),$(this.el).find(".score-wrapper").show()},d.prototype.restoreScore=function(a){return this.model.set("score",$(this.el).find(".score").val()),this.model.set("contains_text",!1),this.model.save(),$(this.el).find(".score-edit").html($(this.el).find(".score").val()).show(),$(this.el).find(".score-wrapper").hide()},d.prototype.updateSample=function(a){var b;return this.model.set("sample",(b=!!$(this.el).find(".sample").attr("checked"))!=null?b:{1:0}),this.model.save()},d.prototype.initialize=function(a){return a.challenge&&(this.challenge=a.challenge),this.index=a.index,this.has_template=!1,this.rendered=!1,this.editDialog=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.confirmDelete=function(b){var c;return b.preventDefault(),c={title:"Confirm Delete",body:"<div class='row' style='margin-left:0px'> Are you sure you want to delete "+this.model.get("input")+", "+this.model.get("output")+" testcase? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(a){return function(b){return b.preventDefault(),a.dialog.destroy(),a["delete"]()}}(this),"click .confirm-no":function(a){return function(b){return b.preventDefault(),a.dialog.destroy()}}(this)}},this.dialog=new a.util.ShowConfirmationDialog(c),this.dialog.render()},d.prototype.showEditDialog=function(b){var c,d;return b.preventDefault(),this.model.getEditData(),this.editDialog=!0,this.model.fetch(),c={title:"Edit Test Cases",body:"<div class='loader'>"+a.appController.viewLoader(64)+("</div> <form class='hide'> <div class='row'> <div class='span1'> <p>Input</p> </div> <div class='span6'> <textarea class='span6 input_text'>"+this.model.get("input_text")+"</textarea> </div> </div> <div class='row'> <div class='span1'> <p>Output</p> </div> <div class='span6'> <textarea class='span6 output_text'>"+this.model.get("output_text")+"</textarea> </div> </div> <div class='row'> <div class='span1'> <p>Score</p> </div> <div class='span6'> <p><input class='span1 score' type='text' value='"+this.model.get("score")+"' /></p> </div> </div> <div class='row'> <div class='span3 pull-right' style='text-align:right;' > <a class='btn btn-green save' href='#'>Add Testcase</a> </div> </div> </form>"),events:{"click .save":function(a){return function(b){var c,d;return $(b.currentTarget).html("Adding testcase...").attr("disabled","disabled"),b.preventDefault(),d=b.data.$dialog,c={input_text:$(d).find(".input_text").val(),output_text:$(d).find(".output_text").val(),score:$(d).find(".score").val()},a.model.save(c,{success:function(b,c){return c.status?a.model.collection.fetch({success:function(b){return a.dialog.destroy()}}):$(d).find(".hr-dialog-failed-message").html(c.errors.join(","))}})}}(this),"click .close":function(a){return function(b){return b.preventDefault(),a.model.isNew()&&a.model.destroy(),a.dialog.destroy()}}(this)}},d={updateData:function(a){return function(b){a.dialog.$body().find(".loader").hide(),a.dialog.$body().find("form").show(),a.dialog.$body().find(".input_text").val(b.get("input_text")),a.dialog.$body().find(".output_text").val(b.get("output_text")),a.dialog.$body().find(".score").val(b.get("score"));if(b.get("input_text")!=="")return a.dialog.$body().find(".save").html("Save Testcase")}}(this),onDestroy:function(a){return function(){if(a.model.isNew())return $(a.el).css("display","none")}}(this)},this.dialog=new a.util.ShowDialog(c,d),this.dialog.render()},d.prototype["delete"]=function(){return a.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(a){return function(b,c){if(c.status==="deleted")return $(a.el).html("")}}(this)})},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){this.editDialog&&(this.editDialog=!1,this.dialog.updateData(this.model));if(this.has_template)return $(this.el).html(this._template({model:this.model.toJSON(),challenge:this.challenge.toJSON(),index:this.index}))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_TestCaseItemView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="manage/testcase",d.prototype["class"]="dummy",d.prototype.events={"click .addnew":"addTestCase","click .uploadZip":"uploadZipDialog"},d.prototype.addTestCase=function(b){var c,d;return b.preventDefault(),c=new a.TestCaseModel,c.setChallengeId(this.collection.getChallengeId()),this.collection.add(c),d=new a.Manage_TestCaseItemView({model:c,index:this.collection.total+1,challenge:this.challenge}),d.showEditDialog(b)},d.prototype.initialize=function(a){return a.challenge&&(this.challenge=a.challenge),this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render)},d.prototype.uploadZipDialog=function(b){var c,d;return b.preventDefault(),$("#process-message").html(""),d=this,c=new a.util.ShowFormDialog({title:"Upload Dialog",width:650,enctype:"multipart/form-data",fields:[{name:"source_file",title:"Source File",type:"file"},{name:"challenge_id",value:d.collection.getChallengeId(),type:"hidden"},{name:"is_file_upload",value:"1",type:"hidden"}],buttons:[{name:"Upload",callback:function(a){var b,c,e;return c=this,b=a.$form(),e=new FormData(b[0]),c.unSetFailedMsg(),$.ajax({url:"/rest/challenges/"+d.collection.getChallengeId()+"/testcases/upload",type:"POST",data:e,cache:!1,contentType:!1,processData:!1,success:function(b){return c.setInactive(),b.ok?(c.failed(b.message),d.collection.fetch({reset:!0,success:function(b,c){return a.destroy()}})):c.failed(b.message)}})}}]}),c.render()},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template({collection:this.collection})),_.each(this.collection.models,function(b,c){var d;return b.setChallengeId(this.collection.getChallengeId()),d=new a.Manage_TestCaseItemView({challenge:this.challenge,model:b,index:c+1}),$(this.el).find(".testcase-list-wrapper").append(d.render().el),this.add_subview(d)},this),a.util.ajaxmsg("Loading...",!0,!0,.5)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.Manage_TestCaseView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="checklist",d.prototype.className="checklist-view",d.prototype.initialize=function(a){return this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render)},d.prototype.render=function(){var a;return $(this.el).html(c.appController.template(this.template,this)({collection:this.collection,_collection:this.collection.toJSON(),model:this.model,_model:this.model.toJSON()})),a=this,this.$(".accordion-toggle").click(function(b){var c,d;return d=$(b.currentTarget).attr("data-name"),a.$("#"+d).css("display")==="block"?c="fadeOut":c="fadeIn",a.$(".accordion-body").hide(),a.$("#"+d)[c]()}),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.ChecklistView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="playoffs",d.prototype.className="playoffs-view",d.prototype.setChallenge=function(a){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=a,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render},d.prototype.setCollection=function(a){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=a,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render},d.prototype.setContest=function(a){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=a,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render},d.prototype.applyTemplate=function(){return this.has_template&&!this.rendered&&($(this.el).html(this._template()),this.rendered=!0),this.rendered&&(this.playoff_header_view||(this.playoff_header_view=new a.PlayoffHeaderView),this.playoff_header_view.setChallenge(this.challenge),this.playoff_header_view.setCollection(this.collection),this.playoff_header_view.setContest(this.contest),this.playoff_body_view||(this.playoff_body_view=new a.PlayoffBodyView),this.playoff_body_view.setChallenge(this.challenge),this.playoff_body_view.setCollection(this.collection),this.playoff_body_view.setContest(this.contest),this.playoff_body_view.once=!1,this.assign({".playoffs .header":this.playoff_header_view,".playoffs .body":this.playoff_body_view})),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.PlayoffsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.template="playoff-header",c.prototype.setChallenge=function(a){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=a,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render()},c.prototype.setCollection=function(a){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=a,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render()},c.prototype.setContest=function(a){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=a,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render()},c.prototype.applyTemplate=function(){return!this.collection||!this.collection.sync_status?this:!this.contest||!this.contest.sync_status?this:!this.challenge||!this.challenge.sync_status?this:(this.has_template&&$(this.el).html(this._template({contest:this.contest.toJSON(),challenge:this.challenge.toJSON(),round_data:this.collection.round_data})),this)},c}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.PlayoffHeaderView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="playoff-body",d.prototype.setChallenge=function(a){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=a,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render},d.prototype.setCollection=function(a){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=a,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render},d.prototype.setContest=function(a){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=a,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render},d.prototype.applyTemplate=function(){return this.collection.sync_status?this.contest.sync_status?this.challenge.sync_status?(this.has_template&&(this.rendered||($(this.el).html(this._template()),this.rendered=!0),this.list_views||(this.list_views={}),_.each(this.collection.models,function(b){var c;return c=b.get("id"),this.list_views[c]||(this.list_views[c]=new a.PlayoffBodyListView({parent:this}),this.add_subview(this.list_views[c])),this.list_views[c].setModel(b),this.$(".playoffs-list-wrap #gameset-"+c).length===0&&this.$(".playoffs-list-wrap").append("<div id='gameset-"+c+"' class='gameset-view'></div>"),this.list_views[c].setElement(this.$(".playoffs-list-wrap #gameset-"+c)).render()},this)),this):this:this:this},d.prototype.closeAllGameContainers=function(){return _.each(this.list_views,function(a){return a.closeGameContainer()})},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.PlayoffBodyView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="playoff-body-list",d.prototype.className="playoff-body-list-view",d.prototype.events={"click .play-game":"playGame"},d.prototype.setModel=function(a){return this.model&&(this.model.unbind("change",this.render,this),this.model.unbind("reset",this.render,this)),this.model=a,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.applyTemplate=function(){return this.has_template&&($(this.el).html(this._template({model:this.model.toJSON()})),this.delegateEvents()),this},d.prototype.playGame=function(b){var c,d,e,f;b&&b.preventDefault(),this.parent.closeAllGameContainers(),this.$(".output-area-wrapper").html("").unbind().die(),this.gameset_model||(c=this.model.get("submission_id1"),d=this.model.get("submission_id2"),f=function(a){return a.set("num_players",2),a.set("player1",c),a.set("player2",d)},this.gameset_model=a.appController.getModel("gameset","player1-"+c+"-"+d,f),this.gameset_model.unbind("reset",this.playGame,this),this.gameset_model.bind("reset",this.playGame,this)),e=this;if(this.gameset_model)return a.requires("compound/game-views",function(){return e.game_container_view=new a.GameContainerView({collection:e.gameset_model.getGameCollection(),gameset:e.gameset_model}),e.game_container_view.setElement(e.$(".output-area-wrapper")).render(),e.add_subview(e.game_container_view)}),this},d.prototype.closeGameContainer=function(){if(this.game_container_view)return this.game_container_view.closeContainer()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.PlayoffBodyListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.initialize=function(a){return a==null&&(a={}),a.template&&(this.template=a.template),c.__super__.initialize.apply(this,arguments)},c.prototype.applyTemplate=function(){return this.$el.html(this._template())},c}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.SampleTemplateView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="sampletemplate1",d.prototype.className="sampletemplate1-view",d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.SampleTemplate1View=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="sampletemplate2",d.prototype.className="sampletemplate2-view",d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.SampleTemplate2View=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="aboutus",d.prototype.className="aboutus-view",d.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.AboutusView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="careers",d.prototype.className="careers-view",d.prototype.events={"click a[data-toggle=tab]":"tabClick","click .icon-twitter":"tweetClick","click .btn-apply":"apply"},d.prototype.initialize=function(a){return this.position=a.position},d.prototype.render=function(){var a,b,d,e;b=[{slug:"sales-engineer",title:"Sales Engineer"},{slug:"product-hacker",title:"Product Hacker"},{slug:"challenge-curator",title:"Challenge Curator"},{slug:"product-evangelist",title:"Product Evangelist"},{slug:"product-designer",title:"Product Designer"},{slug:"content-creator",title:"Content Creator"},{slug:"acm-world-finals-hacker",title:"ACM World Finals Hacker"},{slug:"backend-cpp-hacker",title:"Backend C++ Hacker"}],this.pos={};for(d=0,e=b.length;d<e;d++)a=b[d],this.pos[a.slug]=a;return $(this.el).html(c.appController.template(this.template,this)({positions:b,position:this.position,base_url:"http://"+document.location.host})),$("a[data-toggle=tab][href=#"+this.position+"]").click(),this},d.prototype.tabClick=function(a){var b,c;return b=$(a.currentTarget).attr("href"),c=document.location.protocol+"//"+document.location.host+"/careers/"+b.substring(1),window.history&&history.pushState?window.history.pushState(null,document.title,c):document.location.href=c},d.prototype.tweetClick=function(a){var b,c,d,e,f,g,h,i,j;return a.preventDefault(),d=$(a.currentTarget).attr("data-title"),f=this.pos[d].title,i=document.location.protocol+"//"+document.location.host+"/careers/"+d,e="HackerRank is looking for a "+f+" "+i+" /cc. @hackerrank",j=600,b=350,c=screen.width/2-j/2,g=screen.height/2-b/2,h="https://twitter.com/intent/tweet?text="+encodeURIComponent(e),window.open(h,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+j+", height="+b+", top="+g+", left="+c),window.focus()},d.prototype.apply=function(a){var b,d,e;return $(a.currentTarget).removeAttr("target"),a.preventDefault(),d=$(a.currentTarget).attr("id").substring(4),e=this.pos[d].title,b=new c.util.ShowFormDialog({title:"Apply For "+e+" Position",width:650,fields:[{name:"name",title:"Full Name",type:"text",mandatory:!0},{name:"email",title:"Email",type:"email",mandatory:!0},{name:"position",title:"Position",type:"text",value:e,disabled:!0},{name:"_position",type:"hidden",value:e},{name:"online-resume",title:"Online Resume",type:"text",hint:"link to online resume (upload it to dropbox if necessary).<br/><br/> We are also interested to hear about your biggest hack - a task which is not straightforward but that you worked your around to complete. Please include a description, and a link is appropriate.",mandatory:!0}],buttons:[{name:"Close",callback:function(a){return this.setInactive(),a.destroy()}},{name:"Submit","class":"hr_primary-btn",callback:function(a){var b,c,d;return c=this,b=a.$form(),d=new FormData(b[0]),c.unSetFailedMsg(),$.ajax({url:"/rest/apply_position",type:"POST",data:d,cache:!1,contentType:!1,processData:!1,success:function(b){return b.status?(a.$form().find("input, textarea").val(""),c.success("We have received your application! Thanks for your interest! We will get back to you soon.")):c.failed(b.message)}})}}]}),b.render()},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.CareersView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="scoring",d.prototype.className="scoring-view container",d.prototype.initialize=function(b){return this.section=b.section,this.contest=a.model("contest").cached(),this.template=this.contest.get("scoring_template")||this.template,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},d.prototype.render=function(){var b;return $(this.el).html(a.appController.template(this.template,this)({model:this.model})),this.section&&this.$("#"+this.section).length>0&&(b=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+b.section).offset().top-10},800)},800)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ScoringView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="faq",d.prototype.className="faq-view container",d.prototype.initialize=function(a){return a==null&&(a={}),this.tab=a.tab,this.contest=c.model("contest").cached(),this.template=this.contest.get("faq_template")||this.template},d.prototype.render=function(){var a;return $(this.el).html(c.appController.template(this.template,this)),this.tab&&this.$("#"+this.tab).length>0&&(a=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+a.tab).offset().top-10},800)},800)),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.FaqView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="privacy",d.prototype.className="privacy-view",d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.PrivacyView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="environment",d.prototype.className="environment-view container",d.prototype.initialize=function(a){return this.tab=a.tab},d.prototype.render=function(){var a;return $(this.el).html(c.appController.template(this.template,this)({base_url:window.location.pathname})),a=this,this.tab&&this.tab!==""&&setTimeout(function(){return $("html body").animate({scrollTop:a.$("#"+a.tab).offset().top-50},300)},500),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.EnvironmentView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="problem-setter",d.prototype.className="problem-setter-view",d.prototype.initialize=function(a){return this.section=a.section},d.prototype.render=function(){var b;return $(this.el).html(a.appController.template(this.template,this)),this.section&&this.$("#"+this.section).length>0&&(b=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+b.section).offset().top-10},800)},800)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.ProblemSetterView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.initialize=function(){return d.__super__.initialize.apply(this,arguments),this.consumers=new c.APIConsumerCollection,this.errors=[],this.renderConsumers(),this.apiResponseTemplate=_.template("<div class='api-response-wrapper' style='padding: 10px;'> <dl class='api-response'> <dt>URI</dt> <dd><%= data.uri %></dd> <dt>Request Method</dt> <dd><%= data.method %></dd> <dt>Response Code</dt> <dd><%= data.code %></dd> <dt>Response Headers</dt> <dd><%= data.headers %></dd> <dt>Response Body</dt> <dd><pre><%= _.escape(data.response) %></pre></dd> </dl></div>")},d.prototype.template="api",d.prototype.className="api-view",d.prototype.events={"click .try-languages-btn":"tryLanguages","click .try-submission-btn":"trySubmission","click #genkey-api-btn":"genKey"},d.prototype.render=function(){var a;return a=c.profile(),$(this.el).html(c.appController.template(this.template,this)({consumers:this.consumers.toJSON(),errors:this.errors,isLoggedIn:a.isLoggedIn()})),this},d.prototype.renderConsumers=function(){return this.consumers.fetch({success:function(a){return function(){return a.render()}}(this)})},d.prototype.genKey=function(){return this.errors=[],this.consumers.create({name:this.$("#genkey-app-name").val(),description:this.$("#genkey-app-description").val(),website:this.$("#genkey-app-website").val()},{success:function(a){return function(){return a.renderConsumers()}}(this),error:function(a){return function(b,c,d){return a.errors=$.parseJSON(c.responseText).errors,a.renderConsumers()}}(this)})},d.prototype.tryLanguages=function(){return this.$(".try-languages-btn").attr("disabled","disabled").html("Requesting..."),$.ajax("api/shiv/languages",{data:{request_format:this.$("#api-languages-format").val()},context:this,success:function(a,b,c){return this.$("#api-languages-output").html(this.apiResponseTemplate({data:a}))},error:function(){return this.$("#api-languages-output").html("Failed")},complete:function(){return this.$(".try-languages-btn").removeAttr("disabled").html("Try it!")}})},d.prototype.trySubmission=function(){return this.$(".try-submission-btn").attr("disabled","disabled").html("Requesting..."),$.ajax("api/shiv/submission",{type:"POST",data:{request_format:this.$("#api-submission-format").val(),source:this.$("#api-submission-source").val(),lang:this.$("#api-submission-language").val(),testcases:this.$("#api-submission-testcases").val(),callback_url:this.$("#api-submission-callbackurl").val(),wait:this.$("#api-submission-wait").val()},context:this,success:function(a,b,c){return this.$("#api-submission-output").html(this.apiResponseTemplate({data:a}))},error:function(){return this.$("#api-submission-output").html("Failed")},complete:function(){return this.$(".try-submission-btn").removeAttr("disabled").html("Try it!")}})},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.APIView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="apihome",d.prototype.className="apihome-view",d.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.APIHomeView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="nvn-leaderboard",d.prototype
.className="nvn-leaderboard-view",d.prototype.initialize=function(a){return this.listenTo(this.collection,"reset",this.render),this.collection.fetch()},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({leaderboard:this.collection.toJSON(),kind:this.collection.kind})),a.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),"/"+this.collection.pageURL()+"/",this.collection.getCurrentPage()),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NvNLeaderboardView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="hackerclubs",d.prototype.className="hackerclubs-view",d.prototype.initialize=function(a){return this.listenTo(this.collection,"reset",this.render)},d.prototype.render=function(){var b,c;return this.fetching_template?this._template&&this.collection.sync_status&&($(this.el).html(this._template({_collection:this.collection.toJSON(),collection:this.collection})),this.$("#tiles li").length>0&&(c=this,b=function(){return c.$("#tiles li").wookmark({autoResize:!0,offset:2,container:c.$(".hackerclubs"),itemWidth:310})},this.$("img.pin").bind("load",function(a){return b()}),b())):(this.fetching_template=!0,a.appController.getTemplate(this.template,function(a){return this._template=a,this.render()},this)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.HackerClubsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="companies",d.prototype.className="companies-view",d.prototype.render=function(){var a,b;return a=c.profile(),b=_.sortBy(this.collection.toJSON(),function(a){return _.filter(a.challenges,function(a){return a.solved}).length}),b=b.reverse(),_.each(b,function(a){return a.solved_challenges=_.filter(a.challenges,function(a,b){return a.solved}),a.unsolved_challenges=_.filter(a.challenges,function(a,b){return!a.solved})}),$(this.el).html(c.appController.template(this.template,this)({companies:b})),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.CompaniesView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="tracks",d.prototype.className="tracks-view",d.prototype.initialize=function(a){return this.tracks_list_view=[],this.listenTo(this.collection,"reset",this.render)},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this._template&&!this.rendered)return $(this.el).html(this._template()),this.rendered=!0,this.renderSubviews();if(this.rendered)return this.renderSubviews()},d.prototype.renderSubviews=function(){if(this.collection.sync_status)return this.$(".tracks_list").html(""),_.each(this.collection.models,function(b){var c;return c=b.toJSON(),this.track=new a.TracksListView({model:b}),this.add_subview(this.track),this.$(".tracks_list").append("<div class='track_"+c.slug+"'></div>"),this.track.setElement(this.$(".track_"+c.slug)).render()},this)},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.TracksView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="tracks-list",d.prototype.className="tracks-list-view",d.prototype.initialize=function(a){return this.listenTo(this.model,"render",this.render)},d.prototype.render=function(){var b;return b=this.model.toJSON(),$(this.el).html(a.appController.template(this.template,this)({model:b})),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.TracksListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="inbox",d.prototype.className="inbox-view",d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.InboxView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="messagethread-list",d.prototype.className="messagethread-list-view",d.prototype.initialize=function(a){return this.thread=a.thread,this.parent=a.parent,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render)},d.prototype.render=function(){var b;return b=this.model.toJSON(),b.active=parseInt(b.id)===parseInt(this.parent.thread_id),b.last_message.receiver_id===b.user1.id?(b.receiver=b.user1,b.sender=b.user2):(b.receiver=b.user2,b.sender=b.user1),$(this.el).html(a.appController.template(this.template,this)({model:b,profile:a.profile().toJSON()})),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.MessageThreadListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="messagethread",d.prototype.className="messagethread-view",d.prototype.events={"click div[data-thread-id]":"viewThread","click .hr_send_new_message":"newMessage"},d.prototype.initialize=function(a){return this.active_thread_id=a.active_thread_id,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.onAdd),this.listenTo(this.collection,"remove",this.onRemove),this.messages_view={},this.messages_collection={},this.threads_view={}},d.prototype.render=function(){return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this},d.prototype.renderView=function(){if(this.has_template)return $(this.el).html(this._template),this.renderSubviews()},d.prototype.renderSubviews=function(){var b;b=this;if(this.collection.length===0){this.$(".threads_list").html("<p class='gray'>You have no conversation</p>"),this.$(".messaging_content").html("<p class='gray'>No Conversation Selected</p>");return}return this.thread_id||(this.thread_id=this.active_thread_id||this.collection.first().get("id")),this.showThread(),this.$(".threads-list-wrap").html(""),_.each(this.collection.models,function(c){return b.threads_view[c.get("id")]=new a.MessageThreadListView({model:c,parent:this}),b.add_subview(b.threads_view[c.get("id")]),this.$(".threads-list-wrap").append("<div data-thread-id='"+c.get("id")+"'></div>"),b.threads_view[c.get("id")].setElement(this.$("div[data-thread-id="+c.get("id")+"]")).render()},this)},d.prototype.renderMessagesView=function(){var b,c;return(b=this.messages_view)[c=this.thread_id]||(b[c]=new a.MessageView({collection:this.messages_collection[this.thread_id],parent:this.threads_view[this.thread_id],parent2:this})),this.$(".messaging_content").html(""),this.messages_view[this.thread_id].setElement(this.$(".messaging_content")).render()},d.prototype.showThread=function(){var b;return b=this,this.messages_collection[this.thread_id]?b.renderMessagesView():(this.messages_collection[this.thread_id]=new a.collection("messages"),this.messages_collection[this.thread_id].thread_id=this.thread_id,this.messages_collection[this.thread_id].fetch({success:function(){return b.renderMessagesView()}})),this.readThread(this.thread_id)},d.prototype.viewThread=function(a){var b;return b=$(a.currentTarget),this.thread_id=b.attr("data-thread-id"),this.showThread(),Backbone.history.navigate("/inbox/thread/"+this.thread_id),this.$("div li.active").removeClass("active"),this.$("div[data-thread-id="+this.thread_id+"] li").addClass("active")},d.prototype.sortByDate=function(a,b){return new Date(a.get("last_message").created_at)<new Date(b.get("last_message").created_at)},d.prototype.readThread=function(a){if(this.collection.findWhere({id:parseInt(a)}))return this.collection.findWhere({id:parseInt(a)}).markAsRead()},d.prototype.rearrangeThread=function(a){var b;return b=this.threads_view[a].model,this.collection.remove(b),this.collection.add(b,{at:0})},d.prototype.onAdd=function(b){return this.collection.length===1&&this.$(".threads_list").html(""),this.threads_view[b.get("id")]=new a.MessageThreadListView({model:b,parent:this}),$(".threads-list-wrap").prepend("<div data-thread-id='"+b.get("id")+"'></div>"),this.threads_view[b.get("id")].setElement($("div[data-thread-id="+b.get("id")+"]")).render()},d.prototype.onRemove=function(a){var b;return b=this.$("div[data-thread-id="+a.get("id")+"]"),b.remove()},d.prototype.newMessage=function(b){var c;return b.preventDefault(),c=new a.util.ShowMessageDialog,c.render()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.MessageThreadView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="message-list",d.prototype.className="message-list-view",d.prototype.initialize=function(a){return this.thread=a.thread,this.listenTo(this.model,"render",this.render)},d.prototype.nl2br=function(a){var b;return b="<br />",(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+b+"$2")},d.prototype.render=function(){var b;return b=this.model.toJSON(),this.model.get("id")?b.message=this.nl2br(b.message):b.message=this.nl2br(_.escape(b.message)),b.receiver_id===this.thread.user1.id?(b.receiver=this.thread.user1,b.sender=this.thread.user2):(b.receiver=this.thread.user2,b.sender=this.thread.user1),$(this.el).html(a.appController.template(this.template,this)({model:b}))},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.MessageListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="message",d.prototype.className="message-view",d.prototype.events={"click .hr_send":"sendMessage","click .hr_load_more":"loadMore","keydown .hr_message_text":"keyPressed"},d.prototype.initialize=function(a){this.local_id=0,this.messages={},this.parent=a.parent,this.parent2=a.parent2,this.listenTo(this.collection,"add",this.onAdd),$(window).resize(this.resize),this.resize();if(this.collection.length>0)return this.parent.model.set("last_message",this.collection.first().toJSON())},d.prototype.render=function(){var b;if(parseInt(this.parent.model.get("id"))!==parseInt(this.parent2.thread_id))return;return this.has_template?this.renderView():a.appController.getTemplate(this.template,function(a){return this._template=a,this.has_template=!0,this.renderView()},this),this,b=function(){return $(".hr_message_text").focus()},setTimeout(b,1)},d.prototype.resize=function(){var a,b;return b=$(window).height(),a=.75*b,$(".messaging_content").css("height",a)},d.prototype.renderView=function(){return this.has_template&&($(this.el).html(this._template({has_more:this.collection.has_more})),this.renderSubviews()),$(".message_history").scrollTop($(".message_history")[0].scrollHeight),this.resize()},d.prototype.prependElement=function(b){var c,d;if(parseInt(this.parent.model.get("id"))!==parseInt(this.parent2.thread_id))return;return d=new a.MessageListView({model:b,thread:this.collection.thread,parent:this}),this.add_subview(d),c=b.get("id")||b.get("local_id"),this.messages[c]=d,this.$(".message_list").prepend("<div data-id='"+c+"'></div>"),d.setElement(this.$("div[data-id="+c+"]")).render(),this.from_bottom||(this.from_bottom=0),$(".message_history").scrollTop($(".message_history")[0].scrollHeight-this.from_bottom)},d.prototype.appendElement=function(b){var c,d;if(parseInt(this.parent.model.get("id"))!==parseInt(this.parent2.thread_id))return;return d=new a.MessageListView({model:b,thread:this.collection.thread,parent:this}),this.add_subview(d),c=b.get("id")||b.get("local_id"),this.messages[c]=d,this.$(".message_list").append("<div data-id='"+c+"'></div>"),d.setElement(this.$("div[data-id="+c+"]")).render(),this.from_bottom||(this.from_bottom=0),$(".message_history").scrollTop($(".message_history")[0].scrollHeight-this.from_bottom)},d.prototype.renderSubviews=function(){var a;a=this;if(this.collection.sync_status)return this.$(".message_list").html(""),_.each(this.collection.models,function(b){return a.prependElement(b)},this)},d.prototype.loadMore=function(){var b,c;if(parseInt(this.parent.model.get("id"))!==parseInt(this.parent2.thread_id))return;if(this.loading_more)return;this.loading_more=!0,c=this,this.from_bottom=$(".message_history")[0].scrollHeight;if(this.collection.length>0)return b=new a.collection("messages"),b.thread_id=this.collection.thread_id,b.setUntil(this.collection.last().get("id")),b.fetch({success:function(){var a;c.loading_more=!1,c.collection.has_more=b.has_more,a=0,_.each(b.models,function(b){return c.ignore=!0,c.collection.add(b),c.ignore=!1,c.prependElement(b),a++});if(c.collection.has_more===!1)return $(".hr_load_more").hide()},error:function(){return c.loading_more=!1}})},d.prototype.keyPressed=function(a){if(a.keyCode===13&&!a.shiftKey)return a.preventDefault(),this.sendMessage()},d.prototype.sendMessage=function(){var b,c,d;if(parseInt(this.parent.model.get("id"))!==parseInt(this.parent2.thread_id))return;if($(".hr_message_text").val()==="")return;return this.from_bottom=0,d=this,c=new a.MessageModel,b={sender_id:this.collection.thread.user1.id,receiver_id:this.collection.thread.user2.id,message:$(".hr_message_text").val()},c.set("message",b.message),c.set("sender_id",b.sender_id),c.set("receiver_id",b.receiver_id),c.set("created_at",new Date),d.collection.add(c,{at:0}),$(".hr_message_text").val(""),c.save(b,{success:function(a){return function(a){return c.set("created_at",a.get("created_at")),d.messages[c.get("local_id")].render()}}(this)})},d.prototype.onAdd=function(a){if(this.ignore)return;return a.set("local_id",this.local_id),this.parent2.rearrangeThread(this.parent.model.get("id")),this.local_id-=1,this.appendElement(a),this.parent.model.set("last_message",a.toJSON()),this.parent.render()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.MessageView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="navigation-message",d.prototype.initialize=function(b){return this.collection=a.cachedMessagesCollection,this.thread_views={},this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.onRemove),this.listenTo(this.collection,"add",this.onAdd)},d.prototype.render=function(){var b;return $(this.el).html(a.appController.template(this.template,this,!1)),b=this,this.thread_views={},this.$(".hr_nav_messages_list").html(""),_.each(this.collection.models,function(c){return b.thread_views[c.get("id")]=new a.NavigationMessageListView({model:c}),b.$(".hr_nav_messages_list").append(b.thread_views[c.get("id")].render().el)})},d.prototype.onAdd=function(b){return this.thread_views[b.get("id")]=new a.NavigationMessageListView({model:b}),this.$(".hr_nav_messages_list").prepend(this.thread_views[b.get("id")].render().el)},d.prototype.onRemove=function(a){return this.thread_views[a.get("id")].remove()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NavigationMessageView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="navigation-message-list",d.prototype["class"]="navigation-message-list-view",d.prototype.events={"click a.message_status":"markAsRead","click li.notify_item":"goToThread"},d.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render)},d.prototype.goToThread=function(b){if(b.target.tagName==="I"&&b.target.className!=="icon-reply")return;return a.router.navigate("/inbox/thread/"+this.model.get("id"),{trigger:!0,replace:!0}),$(".notify_dropdown").removeClass("open")},d.prototype.markAsRead=function(a){return $(a.currentTarget).attr("data-original-title")==="mark as read"?this.model.markAsRead():this.model.markAsUnread()},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this,!1)({model:this.model})),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NavigationMessageListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="navigation-notification",d.prototype.events={"click .hr_archive_all":"archiveAll","click .no-propagation":"stopPropagation","click li[data-id]":"clickNotification"},d.prototype.initialize=function(b){return a.cachedNotificationsCollection?this.collection=a.cachedNotificationsCollection:(this.collection=a.collection("notifications"),this.collection.unread_only=!0,a.cachedNotificationsCollection=this.collection,this.collection.cached()),this.list_views={},this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.onRemove)},d.prototype.showLoader=function(){var b;return b=$(a.appController.viewLoader(32)),b.css({"padding-top":"20px","padding-bottom":"20px"}),this.$(".hr_nav_notifications_list").html(b)},d.prototype.archiveAll=function(b){var c,d,e;b.stopPropagation();if(this.collection.sync_status)return d=[],_.each(this.collection.models,function(a){return d.push(a.get("id"))}),e=this,c=a.collection("notifications"),c.unread_only=!0,c.offset=this.collection.length,this.collection.reset(),this.showLoader(),c.fetch({success:function(b){return $.ajax({type:"POST",url:"/rest/contests/master/notifications/archive_all",data:{notif_ids:d},success:function(b){return a.appView.navigationView.updateNotificationsCount(b.unread_count)}}),_.each(b.models,function(a){return e.collection.add(a)}),e.collection.has_more=c.has_more,e.render()},error:function(){return e.render()}})},d.prototype.stopPropagation=function(a){return a.stopPropagation()},d.prototype.clickNotification=function(b){var c,d;return c=$(b.currentTarget).attr("data-id"),d=this,a.router.navigate("/notifications/notif_id/"+c,!0)},d.prototype.render=function(){var b,c;if(!this.collection.sync_status){this.showLoader();return}return c=this,b=function(){var b,d,e,f;b=$(".hr_nav_notifications_list"),f=b.scrollTop();if(f+b.height()===b[0].scrollHeight&&c.collection.has_more&&!c.loading_more)return c.loading_more=!0,d=$(a.appController.viewLoader(32)),d.css({"padding-top":"20px","padding-bottom":"20px"}),b.append(d),e=a.collection("notifications"),e.unread_only=!0,e.offset=c.collection.length,e.fetch({success:function(a){return _.each(a.models,function(a){return c.collection.add(a)}),c.collection.has_more=e.has_more,c.loading_more=!1,d.remove()},error:function(){return d.remove()}})},this.$(".hr_nav_notifications_list").scroll(b),this.collection.length===0?this.$(".hr_nav_notifications_list").html("<div class='no-propagation text-center' style='padding: 30px 0px 30px 0px; font-size:16px'>You have no unread notifications</div>"):(c=this,this.$(".hr_nav_notifications_list").html(""),_.each(this.collection.models,function(b){var d;if(b.get("notification_status")<2)return d=new a.NavigationNotificationListView({model:b}),c.list_views[b.get("id")]=d,c.$(".hr_nav_notifications_list").append(d.render().el)})),this},d.prototype.onRemove=function(a){return this.collection.length===0&&(this.collection.sync_status=!1,this.collection.cached({fetch:!0})),this.render()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NavigationNotificationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="navigation-notification-list",d.prototype.events={"click a.close":"archive"},d.prototype.initialize=function(){return this.listenTo(this.model,"destroy",this.remove)},d.prototype.archive=function(a){return a.stopPropagation(),this.model.markRead()},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this,!1)({model:this.model.toJSON()})),this},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.NavigationNotificationListView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="blogindex",d.prototype.className="blogindex-view",d.prototype.initialize=function(a){return this.collection=a.collection,this.current_hacker=a.current_hacker,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render)},d.prototype.render=function(){var a;return this.collection.sync_status&&$(this.el).html(c.appController.template(this.template,this)({collection:this.collection.toJSON(),current_hacker:this.current_hacker.toJSON()})),a=""+this.collection.pageURL(),c.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),""+a+"/page/",this.collection.getCurrentPage(),null,this.collection.limit),this},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.BlogIndexView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return a=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,a),d.prototype.template="blogadmin",d.prototype.template404="dashboard/e404",d.prototype.className="blogadmin-view",d.prototype.initialize=function(a){return this.templates=c.collection("blog-templates").cached(),this.current_hacker=a.current_hacker.toJSON(),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.listenTo(this.templates,"reset",this.render),this.listenTo(this.templates,"change",this.render),this.render},d.prototype.render=function(){var a,b,d;return a=this,b=this.model.toJSON(),d=this.templates.toJSON(),this.current_hacker.is_admin?(c.appController.setTitle("Blog-Edit"),$(this.el).html(c.appController.template(this.template,this)({model:b,templates:d})),d&&$("select.js-template").val(b.blog_template_id),this.setFields()):(c.appController.setTitle("HTTP 404: Page Not Found"),$(this.el).html(c.appController.template(this.template404,this))),this},d.prototype.setFields=function(){var a;return a=this.model.toJSON(),$("#postTitle").val(a.title),$("#postContent").val(a.content),$("#postSlug").val(a.slug)},d.prototype.events={"click a.js-save-draft":"saveDraft","click a.js-publish-post":"publishPost","click a.js-unpublish":"unpublishPost","click a.js-preview-post":"saveDraft","change select.js-template":"selectTemplate","change input.js-slug":"editSlug"},d.prototype.publishPost=function(a){return a.preventDefault(),this.model.set({content:$("#postContent").val(),title:$("#postTitle").val(),slug:$("#postSlug").val(),draft:!1}),this.saveModel()},d.prototype.saveDraft=function(a){return a.preventDefault(),this.model.set({content:$("#postContent").val(),title:$("#postTitle").val(),slug:$("#postSlug").val()}),this.saveModel()},d.prototype.unpublishPost=function(a){return a.preventDefault(),this.model.set({draft:!0}),this.saveModel()},d.prototype.saveModel=function(){return this.model.save(null,{success:function(a){return function(b,d){return a.model=b,(new c.BlogsCollection).cached({fetch:!0}),c.router.navigate("/blog/"+b.id+"/edit",!0)}}(this),error:function(a){return function(a,b){}}(this)})},d.prototype.selectTemplate=function(a){var b;return b=this.templates.toJSON()[parseInt($("select.js-template").val())-1],this.model.set({blog_template_id:$("select.js-template").val(),content:b.template})},d.prototype.editSlug=function(a){return this.model.set({manual_slug:!0})},d}(window.HR.GenericView),c=(d=window.HR)!=null?d:{},c.BlogAdminView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="singlepost",d.prototype.template404="dashboard/e404",d.prototype.className="singlepost-view container",d.prototype.initialize=function(a){return this.current_hacker=a.current_hacker,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.render()},d.prototype.render=function(){var b;return b=this.model.toJSON(),this.model.sync_status&&(a.appController.setTitle("Blogs-"+b.title),$(this.el).html(a.appController.template(this.template,this)({model:b,current_hacker:this.current_hacker.toJSON()}))),this},d.prototype.events={"click a.js-blog-tweet":"tweet","click a.js-blog-fb-share":"fbshare"},d.prototype.fbshare=function(a){var b,c,d,e,f,g;return d=this.getPermaLink(),a.preventDefault(),g=600,b=350,c=screen.width/2-g/2,e=screen.height/2-b/2,f="https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.location.href)+"&p[title]="+encodeURIComponent(this.model.get("title"))+"&p[summary]="+encodeURIComponent(this.model.get("preview_plain")),window.open(f,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+g+", height="+b+", top="+e+", left="+c),window.focus()},d.prototype.tweet=function(a){var b,c,d,e,f,g,h;return d=this.getPermaLink(),a.preventDefault(),h=600,b=350,c=screen.width/2-h/2,f=screen.height/2-b/2,e="Awesome blog post from @HackerRank. Read it: "+d,g="https://twitter.com/intent/tweet?text="+encodeURIComponent(e),window.open(g,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+h+", height="+b+", top="+f+", left="+c),window.focus()},d.prototype.getPermaLink=function(){return""+document.location.protocol+"//"+document.location.host+"/blog/"+this.model.get("slug")},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.SinglePostView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d;return c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return b(d,c),d.prototype.template="team",d.prototype.className="team-view",d.prototype.initialize=function(a){this.action=a.action||"create";if(this.model)return this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"sync",this.render),this.model.fetch()},d.prototype.events={"click a[data-toggle=tab]":"changeTab","keyup input#name":"updateHandle","keyup input#slug":"enableSave","click button.team-submit":"updateTeam","click button.add-member-submit":"addMember","click button.remove-member":"removeMember"},d.prototype.render=function(){var b;return this.hacker=a.profile(),this.model&&_.size(this.model.attributes)>0&&this.model.sync_status&&this.model.get("manager_id")!==this.hacker.get("id")&&this.action!=="view"&&(a.CONTEST_NAMESPACE?a.router.navigate("/contests/"+a.CONTEST_NAMESPACE+"/teams/"+this.model.get("id")+"/view",!0):a.router.navigate("/teams/"+this.model.get("id")+"/view",!0)),this.render_locked||($(this.el).html(a.appController.template(this.template,this)({team:this.model,hacker:this.hacker,action:this.action})),this.action==="create"&&(b=this,this.$("input#contest_id").select2({minimumInputLength:1,query:function(a){return $.ajax("/rest/contests/team_events",{success:function(c){return a.callback(c),b.enableSave()}})}}))),this},d.prototype.destroy=function(){return this.$("input#contest_id").select2("close"),d.__super__.destroy.call(this)},d.prototype.changeTab=function(b){var c;b.preventDefault();if(this.action==="create")return;if(!$(b.currentTarget).hasClass("active"))return c=$(b.currentTarget).parent().attr("data-action"),a.CONTEST_NAMESPACE?a.router.navigate("/contests/"+a.CONTEST_NAMESPACE+"/teams/"+this.model.get("id")+"/"+c,!0):a.router.navigate("/teams/"+this.model.get("id")+"/"+c,!0)},d.prototype.updateHandle=function(b){return this.$("input#slug").val(a.util.slugify($(b.currentTarget).val(),"_")),this.enableSave(b)},d.prototype.enableSave=function(a){return this.$("button.team-submit").removeClass("disabled")},d.prototype.updateTeam=function(b){var c,d;b.preventDefault();if($(b.currentTarget).hasClass("disabled"))return;return $(b.currentTarget).html("Saving..."),this.$("article#details p.success").addClass("hide").html(""),this.$("article#details p.error").addClass("hide").html(""),this.$("article#details small.error").html(""),c=["name","slug"],this.action==="create"&&c.push("contest_id"),this.model||(this.model=new a.TeamModel),_.each(c,function(a){return this.model.set(a,this.$("article#details form input#"+a).val())},this),d=this,this.render_locked=!0,this.model.save(null,{success:function(c,f,g){return c.status?d.action==="details"?d.$("article#details p.success").removeClass("hide").html("Changes have been saved successfully"):d.action==="create"&&a.router.navigate((a.CURRENT_NAMESPACE?"/contest/"+a.CURRENT_NAMESPACE:"")+("/teams/"+c.get("id")+"/details"),!0):(c.errors._global?d.$("article#details p.error").removeClass("hide").html(c.errors._global):d.$("article#details p.error").removeClass("hide").html("There was an error").show(),_.each(c.errors,function(a,b){if(b!=="_global")return d.$("article#details input#"+b).parent().find(".error").html(a[0])})),$(b.currentTarget).html("Save").addClass("disabled")}})},d.prototype.addMember=function(b){var c,d;b.preventDefault();if(this.$("input.add-member-username"
).val())return c=new a.TeamMemberModel,c.set("team_id",this.model.get("id")),c.set("username",this.$("input.add-member-username").val()),d=this,c.save(null,{success:function(a,b,c){return a.status?(d.model.members().add(a),d.render_locked=!1,d.model.fetch()):(a.errors._global?d.$("article#members p.error").removeClass("hide").html(a.errors._global):d.$("article#members p.error").removeClass("hide").html("There was an error").show(),_.each(a.errors,function(a,b){if(b!=="_global")return d.$("article#members input#"+b).parent().find(".error").html(a[0])}))}})},d.prototype.removeMember=function(b){var c,d;b.preventDefault();if($(b.currentTarget).hasClass("disabled"))return;return $(b.currentTarget).addClass("disabled"),d=this,c=a.util.ShowConfirmationDialog({title:"Confirm Removal",body:"Are you sure?",onDestroy:function(){return $(b.currentTarget).removeClass("disabled")},buttons:[{name:"Yes",callback:function(a){var c,f;return c=this,f=d.model.members().get($(b.currentTarget).attr("data-id")),d.model.members().remove(f),f.destroy({success:function(b){return c.setInactive(),a.destroy(),d.render_locked=!1,d.model.fetch()}})}},{name:"No",callback:function(a){return this.setInactive(),a.destroy()}}]}),c.render()},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.TeamView=c})}.call(this)