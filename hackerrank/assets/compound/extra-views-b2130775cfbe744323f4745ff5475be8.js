!function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[];n.Jan="01",n.Feb="02",n.Mar="03",n.Apr="04",n.May="05",n.Jun="06",n.Jul="07",n.Aug="08",n.Sep="09",n.Oct="10",n.Nov="11",n.Dec="12",t.format=function(){function t(t){return e[parseInt(t,10)]||t}function o(t){var e=parseInt(t,10)-1;return i[e]||t}function s(t){var e=parseInt(t,10)-1;return r[e]||t}var a=function(t){return n[t]||t},l=function(t){var e=t,i="";if(-1!==e.indexOf(".")){var r=e.split(".");e=r[0],i=r[1]}var n=e.split(":");return 3===n.length?(hour=n[0],minute=n[1],second=n[2],{time:e,hour:hour,minute:minute,second:second,millis:i}):{time:"",hour:"",minute:"",second:"",millis:""}};return{date:function(e,i){try{var r=null,n=null,c=null,h=null,p=null,u=null;if("number"==typeof e)return this.date(new Date(e),i);if("function"==typeof e.getFullYear)n=e.getFullYear(),c=e.getMonth()+1,h=e.getDate(),p=e.getDay(),u=l(e.toTimeString());else if(-1!=e.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[-+]?\d{2}:?\d{2}/)){var d=e.split(/[T\+-]/);n=d[0],c=d[1],h=d[2],u=l(d[3].split(".")[0]),r=new Date(n,c-1,h),p=r.getDay()}else{var d=e.split(" ");switch(d.length){case 6:n=d[5],c=a(d[1]),h=d[2],u=l(d[3]),r=new Date(n,c-1,h),p=r.getDay();break;case 2:var m=d[0].split("-");n=m[0],c=m[1],h=m[2],u=l(d[1]),r=new Date(n,c-1,h),p=r.getDay();break;case 7:case 9:case 10:n=d[3],c=a(d[1]),h=d[2],u=l(d[4]),r=new Date(n,c-1,h),p=r.getDay();break;case 1:var m=d[0].split("");n=m[0]+m[1]+m[2]+m[3],c=m[5]+m[6],h=m[8]+m[9],u=l(m[13]+m[14]+m[15]+m[16]+m[17]+m[18]+m[19]+m[20]),r=new Date(n,c-1,h),p=r.getDay();break;default:return e}}for(var f="",_="",g="",y=0;y<i.length;y++){var v=i.charAt(y);switch(f+=v,g="",f){case"ddd":_+=t(p),f="";break;case"dd":if("d"==i.charAt(y+1))break;1===String(h).length&&(h="0"+h),_+=h,f="";break;case"d":if("d"==i.charAt(y+1))break;_+=parseInt(h,10),f="";break;case"MMMM":_+=s(c),f="";break;case"MMM":if("M"===i.charAt(y+1))break;_+=o(c),f="";break;case"MM":if("M"==i.charAt(y+1))break;1===String(c).length&&(c="0"+c),_+=c,f="";break;case"M":if("M"==i.charAt(y+1))break;_+=parseInt(c,10),f="";break;case"yyyy":_+=n,f="";break;case"yy":if("y"==i.charAt(y+1)&&"y"==i.charAt(y+2))break;_+=String(n).slice(-2),f="";break;case"HH":_+=u.hour,f="";break;case"hh":var w=0==u.hour?12:u.hour<13?u.hour:u.hour-12;w=1==String(w).length?"0"+w:w,_+=w,f="";break;case"h":if("h"==i.charAt(y+1))break;var w=0==u.hour?12:u.hour<13?u.hour:u.hour-12;_+=parseInt(w,10),f="";break;case"mm":_+=u.minute,f="";break;case"ss":_+=u.second.substring(0,2),f="";break;case"SSS":_+=u.millis.substring(0,3),f="";break;case"a":_+=u.hour>=12?"PM":"AM",f="";break;case" ":_+=v,f="";break;case"/":_+=v,f="";break;case":":_+=v,f="";break;default:2===f.length&&0!==f.indexOf("y")&&"SS"!=f?(_+=f.substring(0,1),f=f.substring(1,2)):3===f.length&&-1===f.indexOf("yyy")?f="":g=f}}return _+=g}catch(b){throw b}}}}()}(jQuery),jQuery.format.date.defaultShortDateFormat="dd/MM/yyyy",jQuery.format.date.defaultLongDateFormat="dd/MM/yyyy hh:mm:ss",jQuery(document).ready(function(){jQuery(".shortDateFormat").each(function(t,e){jQuery(e).is(":input")?jQuery(e).val(jQuery.format.date(jQuery(e).val(),jQuery.format.date.defaultShortDateFormat)):jQuery(e).text(jQuery.format.date(jQuery(e).text(),jQuery.format.date.defaultShortDateFormat))}),jQuery(".longDateFormat").each(function(t,e){jQuery(e).is(":input")?jQuery(e).val(jQuery.format.date(jQuery(e).val(),jQuery.format.date.defaultLongDateFormat)):jQuery(e).text(jQuery.format.date(jQuery(e).text(),jQuery.format.date.defaultLongDateFormat))})}),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="notifications",r.prototype.className="notifications-view",r.prototype.initialize=function(t){return null==t&&(t={}),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.onRemove),this.notifications_list_view=[],this.notif_id=t.notif_id},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this._template&&!this.rendered?($(this.el).html(this._template()),this.rendered=!0,this.renderSubviews()):this.rendered?this.renderSubviews():void 0},r.prototype.renderSubviews=function(){var e,i,r;return r=""+this.collection.pageURL(),this.collection.sync_status?(this.$(".notifications-list-wrap").html(""),_.each(this.collection.models,function(e){var i;return this.notifications_list_view[e.get("id")]||(this.notifications_list_view[e.get("id")]=new t.NotificationsListView({model:e,parent:this}),this.add_subview(this.notifications_list_view[e.get("id")])),i=e.toJSON(),this.$(".notifications-list-wrap").append("<div data-id='"+i.id+"'></div>"),this.notifications_list_view[e.get("id")].setElement(this.$("div[data-id="+i.id+"]")).render()},this),0===this.collection.models.length&&this.$(".notifications-list-wrap").html("<div class='gray'>No news is good news</div>")):this.$(".notifications-list-wrap").html(t.appController.viewLoader(64)),t.util.pagination(this.$(".pagination-wrapper"),this.collection.total,""+r+"/page/",this.collection.page,null,this.collection.limit),i=this,e=function(){var t;return t=$("div[data-id="+i.notif_id+"]"),t.length>0?($("html body").animate({scrollTop:t.offset().top},400),i.notifications_list_view[parseInt(i.notif_id)].model.markRead(),$("div[data-id="+i.notif_id+"]").effect("highlight",{},2500),i.notif_id=null):void 0},this.notif_id?setTimeout(function(){return e.call(i)},300):void 0},r.prototype.onRemove=function(t){return this.notifications_list_view[t.get("id")]?this.notifications_list_view[t.get("id")].destroy():void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NotificationsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="notifications-list",r.prototype.className="notifications-list-view",r.prototype.initialize=function(t){return this.listenTo(this.model,"render",this.render),this.parent=t.parent},r.prototype.events={"click a.mark-as-read":"markAsRead","click a.delete":"deleteNotification","click a.show-body":"showBody"},r.prototype.render=function(){var e;return e=this,this.has_template?this.renderView():t.requires(["moment"],function(){return t.appController.getTemplate(e.template,function(t){return e._template=t,e.has_template=!0,e.renderView()},e)}),this},r.prototype.renderView=function(){return this._template&&!this.rendered&&_.size(this.model.toJSON())>0&&this.model.get("notification_status")<=this.model.STATUS.READ?($(this.el).html(this._template({model:this.model,_model:this.model.toJSON(),showbody:this.showbody})),this.renderSubviews()):this.rendered?this.renderSubviews():void 0},r.prototype.renderSubviews=function(){return this.showbody&&this.$(".notification-body").show(),this.model.get("notification_status")===this.model.STATUS.UNSEEN&&$(this.el).offset()&&0!==$(this.el).offset().top?this.model.markSeen():this.model.get("notification_status")>this.model.STATUS.READ?$(this.el).fadeOut():void 0},r.prototype.markAsRead=function(t){return null==t&&(t=null),t&&t.preventDefault(),this.model.markRead()},r.prototype.deleteNotification=function(e){var i,r;return e.preventDefault(),r=this,i=this.model.get("id"),this.model.destroy({success:function(){return function(e,r){return t.appView.navigationView.updateNotificationsCount(r.unread_count),t.cachedNotificationsCollection?t.cachedNotificationsCollection.remove(i):void 0}}(this)})},r.prototype.showBody=function(){return this.showbody?(this.showbody=!1,this.$(".notification-body").hide()):(this.showbody=!0,this.$(".notification-body").fadeIn(),this.markAsRead()),!1},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NotificationsListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="participant-application",r.prototype.initialize=function(t){return this.hacker=t.hacker,this.companies_collection=t.companies,this.listenTo(this.hacker,"reset",this.render),this.listenTo(this.hacker,"change",this.render),this.listenTo(this.companies_collection,"reset",this.render),this.listenTo(this.companies_collection,"change",this.render)},r.prototype.events={"click button.more-info":"showCompanyInfo","click button.apply":"applyCompanyDialog"},r.prototype.render=function(){return this.has_template?this.renderCurrentView():t.appController.getTemplate(this.template,function(t){return this.has_template=!0,this._template=t,this.renderCurrentView()},this),this},r.prototype.renderCurrentView=function(){return this._template&&(this.hacker.get("username")||this.companies_collection.errors.length>0)?$(this.el).html(this._template({companies:this.companies_collection.toJSON(),current_hacker:this.companies_collection.current_hacker,meta_contest:this.companies_collection.contest})):void 0},r.prototype.showCompanyInfo=function(e){var i,r,n,o;return o=this,i=parseInt($(e.currentTarget).attr("data-id")),n=this.companies_collection.get(i),r=new t.ParticipantApplicationCompanyInfoView({meta_model:n,parent:this}),new t.util.ShowDialog({title:""+n.get("name")+" | Company Info",body_view:r,width:600,height:350,buttons:[{name:"Apply to "+n.get("name"),"class":"btn-primary",callback:function(t){return t.destroy(),o.applyCompanyDialog(e)}}]}).render()},r.prototype.applyCompanyDialog=function(e){var i,r,n,o;return o=this,r=parseInt($(e.currentTarget).attr("data-id")),n=this.companies_collection.get(r),i=new t.ParticipantApplicationCompanyApplyView({meta_model:n,parent:this,collection:this.companies_collection}),new t.util.ShowDialog({title:""+n.get("name")+" | Apply",body_view:i,width:600,height:400,buttons:[{name:"Apply","class":"btn-primary",callback:function(t){return i.applyConfirm(this,t)}}]}).render()},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ParticipantApplicationView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="participant-application-company-info",r.prototype.initialize=function(t){return null==t&&(t={}),this.meta_model=t.meta_model,this.parent=t.parent},r.prototype.events={"click button.apply":"applyCompany"},r.prototype.render=function(){return this.has_template?this.renderCurrentView():t.appController.getTemplate(this.template,function(t){return this.has_template=!0,this._template=t,this.renderCurrentView()},this),this},r.prototype.renderCurrentView=function(){return this._template&&this.meta_model?$(this.el).html(this._template({meta_model:this.meta_model.toJSON()})):void 0},r.prototype.set_dialog=function(t){this.dialog=t},r.prototype.applyCompany=function(t){return this.dialog.destroy(),this.parent.applyCompanyDialog(t)},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ParticipantApplicationCompanyInfoView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="participant-application-company-apply",r.prototype.initialize=function(t){return null==t&&(t={}),this.meta_model=t.meta_model,this.parent=t.parent,this.collection=t.collection},r.prototype.render=function(){return this.has_template?this.renderCurrentView():t.appController.getTemplate(this.template,function(t){return this.has_template=!0,this._template=t,this.renderCurrentView()},this),this},r.prototype.renderCurrentView=function(){return this._template&&this.meta_model?($(this.el).html(this._template({meta_model:this.meta_model.toJSON()})),this.$("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"20%"}),this.$("input[name=offices]").on("ifChecked",function(t){return $(t.currentTarget).parent().parent().parent().find("select").removeAttr("disabled")}),this.$("input[name=offices]").on("ifUnchecked",function(t){var e;return e=$(t.currentTarget).parent().parent().parent().find("select"),e.val(e.find("option:first").val()),e.attr("disabled","disabled")}),this.$("input[type=radio]").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"20%"})):void 0},r.prototype.set_dialog=function(t){this.dialog=t},r.prototype.applyConfirm=function(e){var i,r,n,o,s,a,l,c,h,p;return o={},_.each(this.$("input"),function(t){return o[$(t).attr("id")]=$(t).is(":checked")}),l=[],a={},c=null,_.each(o,function(t,e){var i;return e.startsWith("position_")&&t===!0?l.push(parseInt(e.substring(9))):e.startsWith("office_")&&t===!0?(i=parseInt(e.substring(7)),a[i]=this.$("select#visa_status_"+i).val()):e.startsWith("role_")&&t===!0?c=e.substring(5):void 0}),s={},0===_.size(l)&&(s.positions="select atleast one position"),0===_.size(a)&&(s.offices="select atleast one office"),null===c&&(s.role="select a role"),h=this,_.size(s)>0?(p=_.map(s,function(t,e){return"<li><p><em><strong>"+_.capitalize(e)+":</strong></em> "+t+"</p></li>"}),r="<ul style='list-style: none;'>"+p.join("")+"</ul>",new t.util.ShowDialog({title:"There were error(s)",body:r,buttons:[{name:"Got it!","class":"btn-primary",callback:function(t){return t.destroy()}}]}).render()):(i=new t.HackerApplicationModel({positions:l,offices:a,role:c,company_id:this.meta_model.get("id")}),i.contest_slug=t.appController.get_current_contest_slug(),n=new t.ParticipantApplicationCompanyApplyConfirmView({model:i,meta_model:this.meta_model,parent_dialog:this.dialog,collection:this.collection}),new t.util.ShowDialog({title:"Application Confirmation",body_view:n,width:500,buttons:[{name:"Looks Good! Apply","class":"btn-primary",callback:function(t){return n.confirmApply(this,t)}},{name:"Cancel",callback:function(t){return t.destroy()}}]}).render()),e.setActive()},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ParticipantApplicationCompanyApplyView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="participant-application-company-apply-confirm",r.prototype.initialize=function(t){return null==t&&(t={}),this.model=t.model,this.meta_model=t.meta_model,this.parent_dialog=t.parent_dialog,this.collection=t.collection},r.prototype.render=function(){return this.has_template?this.renderCurrentView():t.appController.getTemplate(this.template,function(t){return this.has_template=!0,this._template=t,this.renderCurrentView()},this),this},r.prototype.set_dialog=function(t){this.dialog=t},r.prototype.renderCurrentView=function(){return this._template&&$(this.el).html(this._template({model:this.model.toJSON(),meta_model:this.meta_model.toJSON(),visa_statuses:{"not-required":"Not required","already-have":"Already have","dont-have":"Don't have"}})),this.dialog?this.dialog.renderPosition():void 0},r.prototype.confirmApply=function(e,i){var r;return e.setInactive(),r=this,this.model.save(null,{success:function(n,o){return e.setActive(),o.errors?e.setFailedMsg(t.util.error_html(o.errors)):(alert("Your application has been accepeted! Thanks!"),i.destroy(),r.parent_dialog.destroy(),r.collection.fetch())},error:function(){return e.setActive(),e.setFailedMsg("Internal Server Error")}})},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ParticipantApplicationCompanyApplyConfirmView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="hacker-application-profile-update",r.prototype.initialize=function(t){return this.hacker=t.hacker,this.companies_collection=t.companies,this.listenTo(this.hacker,"reset",this.render),this.listenTo(this.hacker,"change",this.render),this.listenTo(this.companies_collection,"reset",this.render),this.listenTo(this.companies_collection,"change",this.render)},r.prototype.events={"click .update-applicant-btn":"showApplicantProfileEditor","click .cancel-update-applicant-btn":"cancelApplicantProfileEditor","change input.hacker_resume":"uploadResume","click .upload-resume-btn":"uploadResumePrompt","focusout textarea.hacker_about":"persistAboutMe","focusout input.hacker_school":"persistSchool","focusout input.hacker_name":"persistName","focusout input.hacker_phone":"persistPhone"},r.prototype.render=function(){return this.has_template?this.renderCurrentView():t.appController.getTemplate(this.template,function(t){return this.has_template=!0,this._template=t,this.renderCurrentView()},this),this},r.prototype.renderCurrentView=function(){var t,e,i,r;return this._template&&(this.hacker.get("username")||this.companies_collection.errors.length>0)?($(this.el).html(this._template({companies:this.companies_collection.toJSON(),profile:this.hacker})),t=window.countries_mapping,e=[],_.each(t,function(){return function(t,i){return e.push({id:i,text:i})}}(this)),this.$("#country").select2({data:e,width:"210px"}),r=this.hacker.get("country"),r&&this.setCountry(r),i=this,this.$("#country").on("change",function(t){return i.updateCountry(t)}),this.$("input.hacker_school").completer("school")):void 0},r.prototype.setCountry=function(t){return this.$("#country").val(t),$(this.el).find("#s2id_country .select2-choice span").text(t)},r.prototype.showApplicantProfileEditor=function(t){return t.preventDefault(),$(".applicant-profile-editor").show(),$(".cancel-update-applicant-profile-container").show(),$(".update-applicant-profile-container").hide()},r.prototype.cancelApplicantProfileEditor=function(t){return t.preventDefault(),$(".applicant-profile-editor").hide(),$(".cancel-update-applicant-profile-container").hide(),$(".update-applicant-profile-container").show()},r.prototype.uploadResume=function(t){var e,i;if(t.currentTarget.files[0])return e=new FormData,e.append("resume",t.currentTarget.files[0]),this.$("#hacker_resume_status").text("Uploading"),i=this,this.$(".upload-resume-btn").hide(),this.$(".download-resume-btn").hide(),$.ajax({url:"/rest/hackers/"+this.hacker.get("id"),type:"PUT",data:e,cache:!1,contentType:!1,processData:!1,success:function(t){return i.$(".upload-resume-btn").show(),t.model.errors.resume?i.$("#hacker_resume_status").text(t.model.errors.resume):i.$("#hacker_resume_status").text(""),t.model.resume_url?(i.$(".upload-resume-btn").html("<i class='icon--single icon-upload'></i> Upload a new resume"),i.$(".download-resume-btn").attr("href",t.model.resume_url).show()):void 0},error:function(){return i.$(".upload-resume-btn").show(),i.$("#hacker_resume_status").text("there was an error")}})},r.prototype.uploadResumePrompt=function(){return this.$(".upload-resume-input").show(),this.$(".upload-resume-input input[type=file]").click()},r.prototype.persistAboutMe=function(t){return this.persist("hack",$(t.currentTarget).val())},r.prototype.updateCountry=function(t){return this.persist("country",t.val)},r.prototype.persistSchool=function(t){return this.persist("school",$(t.currentTarget).val())},r.prototype.persistName=function(t){return this.persist("name",$(t.currentTarget).val())},r.prototype.persistPhone=function(e){var i;return i=t.util.trim($(e.currentTarget).val().replace(" ","")),/^\+[0-9]{5,15}$/.test(i)?this.persist("phone",i):this.$(".hacker_phone_status").html("please provide a valid phone number").show()},r.prototype.persist=function(t,e){var i,r;return this.$(".hacker_"+t+"_status").text("saving").show(),r=this,i={},i[t]=e,this.hacker.save(i,{silent:!0,success:function(){return r.$(".hacker_"+t+"_status").text("saved").show(),setTimeout(function(){return r.$(".hacker_"+t+"_status").text("").hide()},1e3)},error:function(){return r.$(".hacker_"+t+"_status").text("there was an error").show()}})},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.HackerApplicationProfileUpdateView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.tagName="tr",r.prototype.template="manage/challenge-association-item",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.editDialog=!1,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"sync",this.render),this.timebound=!1,this.model.dirty=!1},r.prototype.events={"click .delete":"confirmDelete","change .ca-attr":"setData","click .ca-save":"save","change .ca-timebound":"changeTimebound"},r.prototype.changeTimebound=function(t){return this.timebound=$(t.target).is(":checked"),this.timebound||(this.model.set("start_time",""),this.model.set("end_time","")),this.model.dirty=!0,this.render(),this},r.prototype.setData=function(){return this.model.set("dynamic",this.$(".ca-dynamic").is(":checked")),this.model.set("binary_scoring",this.$(".ca-binary_scoring").is(":checked")),this.model.set("weight",parseInt(this.$(".ca-weight").val())),this.model.set("priority",parseInt(this.$(".ca-priority").val())),this.model.set("start_time",this.$(".ca-start_time").val()||""),this.model.get("start_time")&&this.model.set("start_time",moment.utc(this.model.get("start_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm")),this.model.set("end_time",this.$(".ca-end_time").val()||""),this.model.get("end_time")&&this.model.set("end_time",moment.utc(this.model.get("end_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm")),this.model.dirty=!0,this.render()},r.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.setData(),this.model.save("","",{success:function(t){return function(){return t.$(".ca-save").remove(),t.$(".msg").html("saving..."),t.model.fetch({success:function(){return t.render()}})}}(this)}),this},r.prototype.confirmDelete=function(e){var i;return e.preventDefault(),i={title:"Confirm Delete",body:"<div class='row' style='margin-left:0px'> Are you sure you want to delete "+this.model.get("challenge").name+" from this contest? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(t){return function(e){return e.preventDefault(),t.dialog.destroy(),t["delete"]()}}(this),"click .confirm-no":function(t){return function(e){return e.preventDefault(),t.dialog.destroy()}}(this)}},this.dialog=new t.util.ShowConfirmationDialog(i),this.dialog.render()},r.prototype.showEditDialog=function(t){var e;return t.preventDefault(),this.editDialog=!0,e=this.model.get("binary_scoring"),this.model.isNew()?e=$(".edit-contest #binary_scoring").is(":checked"):this.model.cached(),this.model.isNew()?(this.dialog.$body().find("label#challengename").hide(),this.dialog.$body().find("input#challengename").select2({minimumInputLength:1,ajax:{url:"/rest/contests/"+this.model.getContestId()+"/challengeassociations/available",quietMillis:100,data:function(){return function(t){return{filter:t}}}(this),results:function(){return function(t){var e;return e=[],_.each(t,function(t){return e.push({id:t.id,text:t.name})}),{results:e,more:!1}}}(this)}}),this.dialog.$body().find("input#challengename").on("change",function(t){return function(e){var i;return e.preventDefault(),i=$(e.target).select2("data"),t.model.set("challenge_id",i.id),t.model.set("challenge_name",i.text)}}(this))):(this.dialog.$body().find("label#challengename").show(),this.dialog.$body().find("input#challengename").hide())},r.prototype["delete"]=function(){return t.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(t){return function(e,i){return"deleted"===i.status?$(t.el).html(""):void 0}}(this)}),this.remove()},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this.delegateEvents(),this},r.prototype.renderView=function(){var t,e;return this.has_template?(e="",this.model.get("start_time")&&(e=moment.utc(this.model.get("start_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm"),this.timebound=!0),t="",this.model.get("end_time")&&(t=moment.utc(this.model.get("end_time"),"YYYY-MM-DD HH:mmZ").format("YYYY-MM-DD HH:mm"),this.timebound=!0),$(this.el).html(this._template({model:this.model.toJSON(),starttime:e,endtime:t,timebound:this.timebound}))):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ChallengeAssociationItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/challenge-association",r.prototype["class"]="dummy",r.prototype.events={"click .add-ca-btn":"addChallenge","click button#search":"filterList"},r.prototype.addChallenge=function(){var t,e;return t=$("input#addnewca").select2("data"),e=this,this.collection.create({challenge_id:t.id,contest_id:this.collection.getContestId(),challenge_name:t.text},{success:function(t){return t&&t.errors&&t.errors.length>0?(e.collection.remove(e.collection.last()),e.resetSubviews().render(),alert(t.errors[0])):void 0}}),this.resetSubviews().render(),this},r.prototype.resetSubviews=function(){return this.subviews=_.map(this.collection.models,function(e){return function(i){var r;return i.contestId=e.collection.getContestId(),r=new t.Manage_ChallengeAssociationItemView({model:i})}}(this)),this},r.prototype.filterList=function(t){var e;return t.preventDefault(),e=$(this.el).find("#filter").val(),this.collection.setFilter(e),this.collection.fetch({success:function(t){return function(){return t.collection.trigger("reset")}}(this)})},r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render),this.listenTo(this.collection,"add",this.render)},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?($(this.el).html(this._template({collection:this.collection})),this.collection.length>0&&$(this.el).find(".challenges-list-wrapper").html(""),this.subviews||(this.subviews=_.map(this.collection.models,function(e){return function(i){var r;return i.contestId=e.collection.getContestId(),r=new t.Manage_ChallengeAssociationItemView({model:i}),e.add_subview(r),r}}(this))),_.each(this.subviews,function(t){return function(e){var i;return i=$("<tr>"),e.setElement(i).render(),t.$(".challenges-list-wrapper").append(i)}}(this)),this.$("input#addnewca").select2({minimumInputLength:1,ajax:{url:"/rest/contests/"+this.collection.getContestId()+"/challengeassociations/available",quietMillis:100,data:function(){return function(t){return{filter:t}}}(this),results:function(){return function(t){var e;return e=[],_.each(t,function(t){return e.push({id:t.id,text:t.name})}),{results:e,more:!1}}}(this)}})):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ChallengeAssociationView=i})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){function r(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};jQuery(function(){var e,r,n;return r=function(r){function n(){return this.updatePreview=t(this.updatePreview,this),n.__super__.constructor.apply(this,arguments)}return i(n,r),n.prototype.template="manage/challenge-edit",n.prototype["class"]="dummy",n.prototype.initialize=function(t){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,t.current_tab&&(this.current_tab=t.current_tab),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),this.model.isNew()||(this.autocreate_slug=!1,this.model.fetch({success:function(){},error:function(){return e.router.e404()}})),this.preview_sync=!0,this.codeMirrorRefresh(),this.current_hacker=e.profile()},n.prototype.events={"click a.judgebot":"changeJudgeBotLang","click a.checker_program":"changeCheckerProgramLang","click a.template_lang":"changeTemplateLang","click .save":"save","change #sync":"toggleSync","keyup #name":"nameChanged","keypress #slug":"slugChanged","click #statementEditTab > .CodeMirror":"focusEditor","click .hr_judgebot-code > .CodeMirror":"focusJudgebot","click .hr_checker-program > .CodeMirror":"focusCheckerProgram","click .hr_checker-limits > .CodeMirror":"focusCheckerLimits","click .hr_lang-template-head > .CodeMirror":"focusLangHead","click .hr_lang-template-body > .CodeMirror":"focusLangBody","click .hr_lang-template-tail > .CodeMirror":"focusLangTail"},n.prototype.focusEditor=function(){return this.editor?this.editor.focus():void 0},n.prototype.focusJudgebot=function(){return this.judgebot?this.judgebot.focus():void 0},n.prototype.focusCheckerProgram=function(){return this.checker_program?this.checker_program.focus():void 0},n.prototype.focusCheckerLimits=function(){return this.checker_limits?this.checker_limits.focus():void 0},n.prototype.focusLangHead=function(){return this.lang_template_head?this.lang_template_head.focus():void 0},n.prototype.focusLangTail=function(){return this.lang_template_tail?this.lang_template_tail.focus():void 0},n.prototype.focusLangBody=function(){return this.lang_template?this.lang_template.focus():void 0},n.prototype.codeMirrorRefresh=function(){return this.editor&&this.editor.refresh(),this.judgebot&&this.judgebot.refresh(),this.checker_program&&this.checker_program.refresh(),this.lang_template_head&&this.lang_template_head.refresh(),this.lang_template&&this.lang_template.refresh(),this.lang_template_tail&&this.lang_template_tail.refresh(),this.checker_limits?this.checker_limits.refresh():void 0},n.prototype.slugChanged=function(){return this.autocreate_slug=!1,this},n.prototype.nameChanged=function(){return this.autocreate_slug&&this.$("#slug").val(e.util.slugify(this.$("#name").val())),this},n.prototype.toggleSync=function(t){return this.preview_sync=$(t.target).get(0).checked},n.prototype.changeJudgeBotLang=function(t){var i;return i=$(t.target),this.judgebot?e.appController.loadCodeMirrorMode(i.data("lang"),function(t){return function(){var e;return t.judgebot.setOption("mode",i.data("mime")),t.$("span#judgebot_lang").html(i.html()),e=t.model.get("_data"),e.judgebot_language=i.data("lang"),t.model.set({_data:e})}}(this)):void 0},n.prototype.changeCheckerProgramLang=function(t){var i;
return i=$(t.target),this.checker_program?e.appController.loadCodeMirrorMode(i.data("lang"),function(t){return function(){var e;return t.checker_program.setOption("mode",i.data("mime")),t.$("span#custom_lang").html(i.html()),e=t.model.get("_data"),e.custom_language=i.data("lang")}}(this)):void 0},n.prototype.changeTemplateLang=function(t){var i,r,n,o;return i=$(t.target),r=i.data("lang")+"_template",n=i.data("lang"),o=i.data("mime"),e.appController.loadCodeMirrorMode(n,function(t){return function(){return t.updateTemplate(function(){var e;return e=t.model.get("_data"),t.$("#current_lang").val(n),t.$("span#lang_template_lang").html(i.html()),t.lang_template.setOption("mode",o),t.lang_template_head.setOption("mode",o),t.lang_template_tail.setOption("mode",o),e[r]||""===e[r]?(t.lang_template.setValue(e[r]),t.lang_template_head.setValue(e[r+"_head"]||""),t.lang_template_tail.setValue(e[r+"_tail"]||"")):(t.lang_template.setValue(lang_default_text[i.data("lang")]||""),t.lang_template_head.setValue(""),t.lang_template_tail.setValue(""))})}}(this))},n.prototype.updateTemplate=function(t){var e,i,r,n,o,s,a;return this.lang_template?(a=this.model.get("_data"),i=this.$("#current_lang").val()+"_template",r=this.$("#current_lang").val(),n=this.lang_template.getValue().trim(),o=this.lang_template_head.getValue().trim(),s=this.lang_template_tail.getValue().trim(),e=!a[i]&&lang_default_text[r]&&lang_default_text[r].trim()!==n&&""!==n,e=e||a[i]&&a[i].trim()!==n&&lang_default_text[r]&&lang_default_text[r].trim()!==n,e=e||a[i+"_head"]&&a[i+"_head"].trim()!==o||!a[i+"_head"]&&""!==o,e=e||a[i+"_tail"]&&a[i+"_tail"].trim()!==s||!a[i+"_tail"]&&""!==s,e&&this.current_lang&&(a[i]=n,a[i+"_head"]=o,a[i+"_tail"]=s,this.model.set({_data:a})),this.current_lang=r,t()):(t(),void 0)},n.prototype.render=function(){return this.has_template?this.renderView():e.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this.current_tab&&this.$("[data-toggle=tab][data-target=#"+this.current_tab+"]").trigger("click"),this},n.prototype.renderView=function(){var t;return this.has_template?($(this.el).html(this._template({model:this.model.toJSON(),new_model:this.model.isNew(),current_hacker:this.current_hacker.toJSON()})),e.util.ajaxmsg("Loading...",!0,!0,.5),this.model.isNew()||this.renderTestCaseView(),this.renderProblemStatementEditor(),t={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:lang_mime_mapping[this.model.get("_data").judgebot_language],indentUnit:4},e.appController.loadCodeMirrorMode(this.model.get("_data").judgebot_language||"python",function(e){return function(){return e.$("#judgebot").get(0)?e.judgebot=CodeMirror.fromTextArea(e.$("#judgebot").get(0),t):void 0}}(this)),e.appController.loadCodeMirrorMode(this.model.get("_data").custom_language||"python",function(e){return function(){return e.$("#checker_program").get(0)?(t.mode=lang_mime_mapping[e.model.get("_data").custom_language],t.value=e.model.get("_data").checker_program,e.checker_program=CodeMirror.fromTextArea(e.$("#checker_program").get(0),t),t.value=""):void 0}}(this)),t.mode="text/x-c++src",e.appController.loadCodeMirrorMode("cpp",function(i){return function(){var r;return i.$("#lang_template").get(0)&&(r=i.current_lang,i.current_lang=!1,i.lang_template_head=CodeMirror.fromTextArea(i.$("#lang_template_head").get(0),t),i.lang_template=CodeMirror.fromTextArea(i.$("#lang_template").get(0),t),i.lang_template_tail=CodeMirror.fromTextArea(i.$("#lang_template_tail").get(0),t),i.$("a.template_lang[data-lang="+(r||"cpp")+"]").trigger("click")),$(i.el).find("#custom")[0]&&($(i.el).find("#custom")[0].checked=i.model.get("custom")),e.profile().get("is_admin")?$(i.el).find("#submit_disabled")[0].checked=i.model.get("submit_disabled"):void 0}}(this)),this.renderCheckerLimitsEditor(),this.model.isNew()||this.renderModeratorsView(),this.$(".manage-switch").not(".has-switch").bootstrapSwitch()):void 0},n.prototype.renderProblemStatementEditor=function(){var t;return t=this.$("textarea#statement").get(0),e.appController.loadCodeMirrorMode("markdown",function(e){return function(){var i;return t?(i={lineNumbers:!1,lineWrapping:!0,matchBrackets:!1,mode:"text/x-markdown",indentUnit:4,value:e.model.get("body")},e.editor=CodeMirror.fromTextArea(t,i),e.editor.on("change",e.updatePreview),e.updatePreview()):void 0}}(this))},n.prototype.renderCheckerLimitsEditor=function(){var t,i;return t=this.$("textarea#checkerlimits").get(0),t?(i={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,mode:"application/json",indentUnit:4},e.appController.loadCodeMirrorMode("javascript",function(e){return function(){var i;return e.checker_limits?void 0:(e.checker_limits=CodeMirror.fromTextArea(t),i=e.model.get("_data")&&e.model.get("_data").checkerlimits?e.model.get("_data").checkerlimits:void 0,(!i||_.isEmpty(i))&&(i=default_checker_limits,e.model.set("checkerlimits",i)),"object"==typeof i&&(i=JSON.stringify(i,null,4)),e.checker_limits.setValue(i))}}(this))):void 0},n.prototype.renderModeratorsView=function(){var t,i;if(this.model.get("id"))return t=new e.Manage_Moderators({permissible_id:this.model.get("id"),permissible_type:"Challenge"}),i=new e.Manage_ModeratorsView({el:this.$(".moderators-view"),collection:t}),t.fetch({disable_throbber:!0,success:function(){return i.render()}})},n.prototype.updatePreview=function(){var t;return t=this,e.requires(["sanitize"],function(){return function(){var e;return e=HackDown.processData(t.editor.getValue()),t.$("#statementPreview").html(e)}}(this))},n.prototype.save=function(t){return t.preventDefault(),$(this.el).find(".message").removeClass("error success").addClass("info").html("<p>Saving!</p>"),this.updateTemplate(function(t){return function(){var i,r,n,o,s;return s=t.model.get("_data"),t.judgebot&&(s.judgebot=t.judgebot.getValue()),t.checker_program&&(s.checker_program=t.checker_program.getValue()),r=["public_test_cases","public_solutions"],"game"===t.$("#kind").val()&&r.push("player_count"),e.profile().get("is_admin")&&r.push("submit_disabled"),o=e.util.formData($(t.el),r),_.extend(s,o),i=e.util.formData($(t.el),["name","slug","kind","preview","custom"]),i.body=t.editor.getValue(),t.checker_limits&&(i.checkerlimits=t.checker_limits.getValue()),i._data=s,n=t.model.isNew(),t.model.save(i,{success:function(e,i){return t.parseErrors(i.errors,i.status),t.renderTestCaseView()},error:function(){return $(t.el).find(".message").show().removeClass("error success").addClass("info").html("<p>Problem in Connecting to server.</p>"),setTimeout(function(){return t.$(".message").hide().html("")},4e3)}})}}(this))},n.prototype.parseErrors=function(t,e){var i;return e?($(this.el).find(".message").show().removeClass("error info").addClass("success").html("<i class='icon-ok'>Your changes have been saved.</i>"),setTimeout(function(t){return function(){return t.$(".message").hide().html("")}}(this),4e3),this.renderTestCaseView()):($(this.el).find(".message").show().removeClass("success info").addClass("error"),setTimeout(function(t){return function(){return t.$(".message").hide().html("")}}(this),4e3),i="",_.each(t,function(t){return function(e){var r,n;return r="",n=$(t.el).find("[for="+e.field+"]"),"body"===e.field&&(n=$(t.el).find("[for=statement]")),n.length>0&&($(n).addClass("error"),r=$(n).html()+" "),_.each(e.errors,function(t){return i+=r+t+"<br >"})}}(this)),$(this.el).find(".message").show().html("<i class='icon-alert'>"+i+"</i>"),setTimeout(function(t){return function(){return t.$(".message").hide().html("")}}(this),4e3))},n.prototype.renderTestCaseView=function(){var t;if(!this.model.isNew())return this.testcaseview||(this.testcaseview=new e.Manage_TestCaseView({challenge:this.model,collection:e.collection("test-case")}),this.add_subview(this.testcaseview)),(t=this.testcaseview.collection).challenge_id||(t.challenge_id=this.model.id),this.testcaseview.collection.fetch({success:function(t){return function(){return t.testcaseview.render().setElement($(t.el).find(".test-case")).render()}}(this)})},n}(window.HR.GenericView),e=null!=(n=window.HR)?n:{},e.Manage_ChallengeEditView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/challenge-list-item",r.prototype["class"]="dummy",r.prototype.events={"click .delete":"confirmDelete"},r.prototype.initialize=function(t){return this.index=t.index,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.confirmDelete=function(e){var i;return e.preventDefault(),i={title:"Confirm Delete",body:"<div class='row'> Are you sure you want to delete "+this.model.get("name")+" challenge? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(t){return function(e){return e.preventDefault(),t["delete"](),t.dialog.destroy()}}(this),"click .confirm-no":function(t){return function(e){return e.preventDefault(),t.dialog.destroy()}}(this)}},this.dialog=new t.util.ShowConfirmationDialog(i),this.dialog.render()},r.prototype["delete"]=function(){return t.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(t){return function(e,i){return"deleted"===i.status?$(t.el).html(""):void 0}}(this)})},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?$(this.el).html(this._template({model:this.model.toJSON(),index:this.index})):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ChallengeListItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/challenge-list",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},r.prototype.events={"keyup input.search":"filterList"},r.prototype.filterList=function(t){var e;return t.preventDefault(),13===t.keyCode?(e=$(this.el).find("input.search").val(),this.collection.setFilter(e),this.collection.fetch({success:function(t){return function(){return t.collection.trigger("reset")}}(this)})):void 0},r.prototype.render=function(){return $(this.el).html(t.appController.viewLoader(64)),this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?($(this.el).html(this._template({collection:this.collection})),t.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),null,this.collection.getLimit()),_.each(this.collection.models,function(e,i){var r;return r=new t.Manage_ChallengeListItemView({model:e,index:10*(this.collection.page-1)+i+1}),$(this.el).find(".challenge-list-wrapper").append(r.render().el),this.add_subview(r)},this),t.util.ajaxmsg("Loading...",!0,!0,.5)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ChallengeListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/contest-access",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render)},r.prototype.events={"click .add_emails ":"add_emails","click .add_hacker":"add_hacker","click .delete":"delete_item"},r.prototype.add_emails=function(e){var i,r;return e.preventDefault(),r=$(this.el).find(".emails").val().trim(),i=r.split(","),_.each(i,function(e){return function(i){var r;return r=new t.ContestAccessModel,r.setContestId(e.collection.getContestId()),r.set({email:i}),r.save(null,{success:function(t,i){return i.error?void 0:e.collection.add(t)}})}}(this))},r.prototype.add_hacker=function(e){var i;return e.preventDefault(),i=new t.ContestAccessModel,i.setContestId(this.collection.getContestId()),i.set({username:$(this.el).find(".hacker").val()}),i.save(null,{success:function(t){return function(e,i){return i.error?$(t.el).find(".hacker_error").html(""+i.error):t.collection.add(e)}}(this)})},r.prototype.delete_item=function(t){var e,i,r;return t.preventDefault(),e=$(t.target),i=e.data("id"),r=this.collection.get(i),r.setContestId(this.collection.getContestId()),r.destroy()},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var t;return this.has_template?($(this.el).html(this._template({collection:this.collection.toJSON()})),t=[],_.each(this.collection.models,function(){return function(e){return e.get("username")?t.push(e.get("username")):void 0}}(this)),this.$(".hacker").unbind(),this.$(".hacker").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu clear-margin"></ul>',source:function(){return function(e,i){return $.ajax({url:"/rest/hackers/autocomplete?q="+i+"&without="+t.join(","),type:"GET",success:function(t){return e.process(t)}})}}(this)})):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ContestAccessView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/contest-edit",r.prototype["class"]="dummy",r.prototype.initialize=function(e){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),e.current_tab&&(this.current_tab=e.current_tab),this.model.isNew()||(this.autocreate_slug=!1,this.model.fetch({error:function(){return t.router.e404()}})),this.current_hacker=t.profile()},r.prototype.events={"click .save":"save","click #newTemplate":"newTemplate","click #editTemplate":"editTemplate","click #previewTemplate":"previewTemplate","click [data-id]":"setCurrentTemplate","click .circle_add":"add_circle","click .circle_remove":"remove_circle","keyup #name":"nameChanged","keyup #slug":"slugChanged"},r.prototype.tabChanged=function(e){return this.current_tab=$(e.target).attr("data-target").slice(1),t.router.navigate("/manage/contest/edit/"+this.model.get("slug")+"/"+this.current_tab,{trigger:!1})},r.prototype.slugChanged=function(){return this.autocreate_slug=!1,this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this.$("#contest-url").attr("href","https://hackerrank.com/"+this.$("#slug").val()),this},r.prototype.nameChanged=function(){return this.autocreate_slug&&(this.$("#slug").val(t.util.slugify(this.$("#name").val())),this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this.$("#contest-url").attr("href","https://hackerrank.com/"+this.$("#slug").val())),this},r.prototype.add_circle=function(){var t,e,i,r,n;return i=this.model.get("prizes"),e=i.circles||[],r=this.$("#circle_src").val(),t=this.$("#circle_alt").val(),n=this.$("#circle_text").val(),this.setData(),e.push({src:r,alt:t,text:n}),this.model.set({prizes:{circles:e,tagline:this.$("#prizes_tagline").val()}}),this.model_save(),this},r.prototype.remove_circle=function(t){var e,i,r,n;return this.setData(),n=$(t.target).data("index"),r=this.model.get("prizes"),e=r.circles||[],i=[],_.each(e,function(){return function(t,e){return e!==n?i.push(t):void 0}}(this)),this.model.set({prizes:{circles:i,tagline:this.$("#prizes_tagline").val()}})},r.prototype.setCurrentTemplate=function(t){var e;return e=$(t.target),this.template_id=e.data("id"),$(this.el).find("span#templateSlug").html(e.html()),e.data("sample")===!0?$(this.el).find("#editTemplate").hide():$(this.el).find("#editTemplate").show()},r.prototype.editTemplate=function(t){return t.preventDefault(),window.open("/manage/template/edit/"+this.template_id)},r.prototype.previewTemplate=function(t){return t.preventDefault(),window.open("/rest/templates/"+this.template_id+"/preview?contest_id="+this.model.get("id"))},r.prototype.newTemplate=function(e){var i,r;return e.preventDefault(),this.dialog=!0,i={title:"Add New Template",width:275,body:"<div class='loader'>"+t.appController.viewLoader(64)+"</div> <form class='hide'> <div class='row'> <div class='span4'> <label>Select Sample Template</label> </div> </div> <div class='row'> <div class='span4'> <select id='sample_id' class='span4 input_text'> </select> </div> </div> <div class='row'> <div class='span4'> <a id='preview' target='_blank' href='#'>Preview</a> </div> </div> <div class='row'> <div class='span4' style='text-align:right;' > <a class='btn btn-green save_template' href='#'>Add Template</a> </div> </div> </form>",events:{"click .save_template":function(t){return function(e){var i,r;return e.preventDefault(),r=e.data.$dialog,i={contest_id:t.model.get("id"),sample_id:$(r).find("#sample_id").val()},$.ajax({url:"/rest/templates",type:"POST",data:i,success:function(e){return e.model?(t.log("MSOF"),t.model.fetch(),t.dialog.destroy()):void 0}})}}(this),"click .close":function(t){return function(e){return e.preventDefault(),t.dialog.destroy()}}(this),"click #preview":function(t){return function(e){return e.preventDefault(),window.open("/rest/templates/"+t.dialog.$body().find("#sample_id").val()+"/preview?contest_id="+t.model.get("id"),"_blank")}}(this)}},r={updateData:function(t){return function(e){var i,r;return r=e.get("sample_templates"),i="",_.each(r,function(t){var e;return e="<option value='"+t.id+"'>"+t.slug+"</option>",i+=e}),t.dialog.$body().find("#sample_id").html(i),t.dialog.$body().find(".loader").hide(),t.dialog.$body().find("form").show()}}(this)},this.dialog=new t.util.ShowDialog(i,r),this.dialog.render().updateData(this.model)},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this.current_tab&&this.$("[data-toggle=tab][data-target=#"+this.current_tab+"]").trigger("click"),this},r.prototype.renderView=function(){var e,i;return this.has_template?($(this.el).html(this._template({model:this.model.toJSON(),_model:this.model,current_hacker:this.current_hacker.toJSON()})),e=this.$("#description").get(0),t.appController.loadCodeMirrorMode("html",function(t){return function(){var i;return i={lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:"text/html",indentUnit:4,value:t.model.get("description")},e?(t.editor=CodeMirror.fromTextArea(e,i),t.editor.on("change",function(){return t.updatePreview()}),t.updatePreview()):void 0}}(this)),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),this.picker_start=$(this.el).find("#stdate").data("datetimepicker"),this.picker_end=$(this.el).find("#endate").data("datetimepicker"),this.setDateTime(),i=["submit_disabled","penalty","binary_scoring","participant_restriction"],this.current_hacker.get("is_admin")===!0&&(i=_.union(i,["hacker_application","enable_olark","public","is_private"])),_.each(i,function(t){return function(e){var i;return i=$(t.el).find("#"+e),i.is("select")?i.val(e):i[0].checked=t.model.get(e)}}(this)),this.template_id=this.model.get("template_id"),_.each(this.model.get("templates"),function(t){return function(e){return e.id===t.model.get("template_id")?$(t.el).find("span#templateSlug").html(e.slug):void 0}}(this)),t.util.ajaxmsg("Loading...",!0,!0,.5),this.renderChallengeAssociationView(),this.renderContestAccessView(),this.model.isNew()||(this.renderModeratorsView(),this.renderNotifications()),this.$(".manage-switch").not(".has-switch").bootstrapSwitch()):void 0},r.prototype.renderModeratorsView=function(){var e,i;if(this.model.get("id"))return e=new t.Manage_Moderators({permissible_id:this.model.get("id"),permissible_type:"Contest"}),i=new t.Manage_ModeratorsView({el:this.$(".moderators-view"),collection:e}),e.fetch({disable_throbber:!0,success:function(){return i.render()}})},r.prototype.renderNotifications=function(){var e,i;return e=t.model("manage_-notification"),e.set("contest_id",this.model.get("id")),i=new t.Manage_NotificationView({model:e,contest:this.model,el:this.$(".notifications-view")}),i.render(),this},r.prototype.setDateTime=function(){var t,e;return""!==this.model.get("epoch_starttime")&&null!==this.model.get("epoch_starttime")&&0!==parseInt(this.model.get("epoch_starttime"))&&(e=new Date(parseInt(this.model.get("epoch_starttime"))),$(this.el).find("#startDate").val($.format.date(e,"yyyy-MM-dd hh:mm")),this.picker_start.setLocalDate(e)),null!==this.model.get("epoch_endtime")&&""!==this.model.get("epoch_endtime")&&0!==parseInt(this.model.get("epoch_endtime"))?(t=new Date(parseInt(this.model.get("epoch_endtime"))),$(this.el).find("#endDate").val($.format.date(t,"yyyy-MM-dd hh:mm")),this.picker_end.setLocalDate(t)):void 0},r.prototype.updatePreview=function(){var e;return e=this,t.requires(["sanitize"],function(){return function(){var t;return t=HackDown.processData(e.editor.getValue()),e.$("#descriptionPreview").html(t)}}(this))},r.prototype.scrollView=function(){var t,e,i,r,n,o,s,a;return t=$(this.el).find(".CodeMirror-scrollbar"),n=$(this.el).find(".preview"),n.height($(this.el).find(".CodeMirror").height()),i=t.prop("scrollHeight"),s=n.prop("scrollHeight"),e=t.height(),o=n.height(),0>=i&&(s*=-1),r=Math.abs((s-o)/(i-e)-1),1>r&&(r=1),a=this.editor.cursorCoords(!0,"local").y*r,n.stop(!0,!1).animate({scrollTop:a},200)},r.prototype.setData=function(e){var i,r,n,o,s;return null==e&&(e=null),this.starttime=$(this.el).find("#startDate").val(),this.endtime=$(this.el).find("#endDate").val(),n=r=null,""!==this.starttime.trim()&&(n=new Date(this.starttime).getTime()),""!==this.endtime.trim()&&(r=new Date(this.endtime).getTime()),o=["name","slug","submit_disabled","penalty","tagline","binary_scoring","description","homepage_background_color","homepage_background_image","participant_restriction","is_private"],this.current_hacker.get("is_admin")===!0&&(o=_.union(o,["scoring_template","faq_template","cutoff_score","hacker_application","public","notification","enable_olark"])),i=t.util.formData($(this.el),o),s={notification:[this.$("#notification").val()],description:this.editor.getValue(),starttime:this.starttime,endtime:this.endtime,epoch_starttime:n,epoch_endtime:r,template_id:this.template_id},s.prizes=""!==this.$("#prizes_tagline").val()||this.model.get("prizes").circles&&null!==this.model.get("prizes").circles&&0!==this.model.get("prizes").circles.length?{tagline:this.$("#prizes_tagline").val(),circles:this.model.get("prizes").circles||[]}:{},_.extend(i,s),this.model.set(i),null!==e&&"object"!=typeof e?e():void 0},r.prototype.save=function(t){return t.preventDefault(),_(this.challenges.models).each(function(){return function(t){return t.dirty?t.save():void 0}}(this)),this.setData(function(t){return function(){return t.model_save()}}(this))},r.prototype.model_save=function(){return this.model.save({},{success:function(t){return function(e,i){return t.parseErrors(i.errors,i.status)}}(this),error:function(t){return function(){return $(t.el).find(".message").show().removeClass("error success").addClass("info").html("<ul style='margin-left:15px'><li>Problem in Connecting to server.</li></ul>"),setTimeout(function(){return t.$(".message").hide().html("")},4e3)}}(this)})},r.prototype.parseErrors=function(t,e){var i;return e?($(this.el).find(".message").show().removeClass("error").addClass("success").html("<i class='icon-ok'>Your changes have been saved.</i>"),setTimeout(function(t){return function(){return $(t.el).find(".message").hide().html("")}}(this),4e3)):($(this.el).find(".message").show().removeClass("success").addClass("error"),setTimeout(function(t){return function(){return t.$(".message").hide().html("")}}(this),4e3),i=_.map(t,function(t){return function(e){return t.$("[for="+e.split(" ")[0].toLowerCase()+"]").addClass("error"),"<br>"+e}}(this)).join(""),$(this.el).find(".message").show().html("<i class='icon-alert'>"+i+"</i>"))},r.prototype.renderContestAccessView=function(){var e,i,r;if(!this.model.isNew()&&this.model.get("id")&&this.model.get("participant_restriction")!==!1)return i=e=t.appController.getCollection("contestaccess","contest-"+this.model.get("id"),function(t){return function(e){return e.setContestId(t.model.get("id")),e.fetch()}}(this),!1,!1),r=new t.Manage_ContestAccessView({collection:i}),r.setElement($(this.el).find(".contestaccess")).render(),this.add_subview(r)},r.prototype.renderChallengeAssociationView=function(){return this.model.get("id")&&!this.model.isNew()&&this.model.get("id")?(this.challenges=t.collection("challenge-association"),this.challenges.setContestId(this.model.get("id")),this.challenges.fetch({success:function(e){return function(){var i;return i=new t.Manage_ChallengeAssociationView({collection:e.challenges,contest:e.model}),i.setElement($(e.el).find(".hr_challenge-associations")).render(),e.add_subview(i)}}(this)})):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ContestEditView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/contest-list-item",r.prototype["class"]="dummy",r.prototype.events={"click .delete":"confirmDelete"},r.prototype.initialize=function(t){return this.index=t.index,this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.confirmDelete=function(e){var i;return e.preventDefault(),i={title:"Confirm Delete",body:"<div class='row'> Are you sure you want to delete "+this.model.get("name")+"? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(t){return function(e){return e.preventDefault(),t["delete"](),t.dialog.destroy()}}(this),"click .confirm-no":function(t){return function(e){return e.preventDefault(),t.dialog.destroy()}}(this)}},this.dialog=new t.util.ShowConfirmationDialog(i),this.dialog.render()},r.prototype["delete"]=function(){return t.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(t){return function(e,i){return"deleted"===i.status?$(t.el).html(""):void 0}}(this)})},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var t;return this.has_template?(t="Not Available",t=this.model.get("started")===!0&&this.model.get("ended")===!0?"Ended":this.model.get("started")===!0&&this.model.get("ended")===!1?"Going On":"Not Started",$(this.el).html(this._template({model:this.model.toJSON(),index:this.index,status:t}))):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ContestListItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/contest-list",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},r.prototype.events={"keyup input.search":"filterList"},r.prototype.filterList=function(t){var e;return t.preventDefault(),13===t.keyCode?(e=$(this.el).find("input.search").val(),this.collection.setFilter(e),this.collection.fetch({success:function(t){return function(){return t.collection.trigger("reset")}}(this)})):void 0},r.prototype.render=function(){return $(this.el).html(t.appController.viewLoader(64)),this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?($(this.el).html(this._template({collection:this.collection,query:this.collection.query})),t.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),null,this.collection.getLimit()),_.each(this.collection.models,function(e,i){var r;return r=new t.Manage_ContestListItemView({model:e,index:10*(this.collection.page-1)+i+1}),$(this.el).find(".contest-list-wrapper").append(r.render().el),this.add_subview(r)},this),t.util.ajaxmsg("Loading...",!0,!0,.5)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ContestListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/emailnotification-send",r.prototype.setContest=function(e){return this.contest=e,this.challenges={},this.model.set("contest_id",e.get("id")),this.challengeassociations=new t.ChallengeAssociationCollection,this.challengeassociations.getAll=!0,this.challengeassociations.setContestId(e.get("id"))},r.prototype.initialize=function(t){return this.challenges={},t.contest&&this.setContest(t.contest),t.el?this.el=t.el:void 0},r.prototype.events={"submit form":"sendEmails","change #email-notif-recipient-type":"recipientTypeChanged"},r.prototype.setRecipientDsl=function(){var t,e;return e=this.$("#email-notif-recipient-type").val().toLowerCase(),t=this.$("#email-notif-challenge-input").val(),"all"!==e&&"submitted-*"!==e&&t&&(e+="-"+t),this.model.set("recipient_dsl",e)},r.prototype.sendEmails=function(){return this.$(".send-btn").attr("disabled","disabled"),this.model.set("message",this.$("#email-notif-message").val()),this.model.set("subject",this.$("#email-notif-subject").val()),this.model.set("type",this.$("#notif-type").val()),this.model.set("id",void 0),this.setRecipientDsl(),setTimeout(function(){return this.$(".send-btn").removeAttr("disabled")},2e4),this.model.save({},{success:function(){return this.$(".error").html("Sent!"),setTimeout(function(){return this.$(".error").html("")},18e3)},error:function(){return this.$(".error").html("Failed!"),setTimeout(function(){return this.$(".error").html("")},18e3)}})},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView(),this.model.get("contest_id")?this.challengeassociations.fetch({success:function(t){return function(){return _.each(t.challengeassociations.models,function(e){return t.challenges[e.get("challenge_name")]=e.get("challenge_id")
}),t.challenge_autocomp=[],_.each(t.challenges,function(e,i){return t.challenge_autocomp.push({id:e,text:i})}),$(function(){return t.$("#email-notif-challenge-input").select2({data:t.challenge_autocomp})})}}(this)}):void 0},this),this},r.prototype.renderView=function(){return this.has_template?$(this.el).html(this._template({model:this.model.toJSON(),contest:this.contest.toJSON()})):void 0},r.prototype.recipientTypeChanged=function(t){return"All"===t.srcElement.value?this.$("#email-notif-challenge-input").select2("destroy").hide():this.$("#email-notif-challenge-input").show().select2({data:this.challenge_autocomp})},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_NotificationView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/hacker-applications-item",r.prototype["class"]="dummy",r.prototype.getVisaStatus=function(t){var e;return e={not_applicable:"Not Applicable",available:"Available",not_available:"Not Available"},e[t]?e[t]:"Not Available"},r.prototype.getRole=function(t){var e;return e={intern:"Intern",fulltime:"Full Time"},e[t]?e[t]:"Not Available"},r.prototype.initialize=function(t){return this.contest=t.contest,this.key=t.key,this.index=t.index,this.hackerId=t.hacker_id,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.events={"click .change-tab":"renderChallengeTab"},r.prototype.renderChallengeTab=function(t){var e;return e=$(t.target),this.challenge_models[e.attr("data-id")].fetch({disableThrobber:!0})},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var e;return this.has_template?(e=this.model.toJSON(),$(this.el).html(this._template({model:e,index:this.index,visa_status:this.getVisaStatus(this.model.get("visa_status")),role:this.getRole(this.model.get("role"))})),this.challenge_models=new Object,_.each(e.challenges,function(i){var r;return this.challenge_models[i.id]=t.appController.getModel("hackerchallenge","hacker-"+e.hacker_id+"-"+i.id,function(t){return function(r){return r.setKey(t.key),r.setHackerId(e.hacker_id),r.setId(i.id),r.setContest(t.contest.toJSON())}}(this),!1),r=new t.Manage_HackerChallengeView({model:this.challenge_models[i.id]}),r.setElement($(this.el).find(".tab-content #"+i.slug+"-"+this.index)),this.add_subview(r)},this)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HackerApplicationsItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/hacker-applications",r.prototype["class"]="dummy",r.prototype.initialize=function(t){return this.contest=t.contest,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},r.prototype.events={"click [data-kind]":"filter_data"},r.prototype.render=function(){return this.log("Rendering..."),this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.filter_data=function(t){var e,i,r;return t.preventDefault(),e=$(t.target),r=e.data("kind"),i=e.data("filter"),$(this.el).find(".applications-list-wrapper").html('<div class="block-center text-center"> <img src="https://d3rpyts3de3lx8.cloudfront.net/hackerrank/hackerrank_spinner_64x64.gif"><br/><br/> Please wait while we fetch the applications </div>'),this.collection[r]=i,this.collection.setPage(1),this.collection.fetch({disableThrobber:!0}),$(this.el).find("[data-kind="+r+"][data-filter]").show(),$(this.el).find("[data-kind="+r+"][data-filter="+i+"]").hide(),""!==i?$(this.el).find("[data-title="+r+"]").html($(this.el).find("[data-kind="+r+"][data-filter="+i+"]").html()):void 0},r.prototype.renderView=function(){var e,i,r,n,o;return this.has_template?($(this.el).html(this._template({contest:this.contest,company:this.collection.companyId,key:this.collection.key})),e=_.isEmpty(this.collection.country)?"All":$(this.el).find("[data-filter="+this.collection.country+"]").html().trim(),n=_.isEmpty(this.collection.visa)?"any":$(this.el).find("[data-filter="+this.collection.visa+"]").html().trim(),r=_.isEmpty(this.collection.role)?"any role":$(this.el).find("[data-filter="+this.collection.role+"]").html().trim(),o="Currently showing <strong>"+e+"</strong> hacker(s) who have applied for <strong>"+r+"</strong> and have <strong>"+n+"</strong>",$(this.el).find("#filter_text").html(o),i=this.collection.getFilterString().split("-"),_.each(i,function(t){return function(e,i){var r;return r=$(t.el).find("[data-title]:eq("+i+")").data("title"),$(t.el).find("[data-kind="+r+"][data-filter]").show(),$(t.el).find("[data-kind="+r+"][data-filter="+e+"]").hide(),""!==e?$(t.el).find("[data-title="+r+"]").html($(t.el).find("[data-kind="+r+"][data-filter="+e+"]").html()):void 0}}(this)),t.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),this.collection,this.collection.getLimit()),0===this.collection.getTotal()?$(this.el).find(".applications-list-wrapper").html("<p class='text-center'>None of the valid candidate has applied yet.</p>"):this.collection.getTotal()>0&&$(this.el).find(".applications-list-wrapper").html(""),_.each(this.collection.models,function(e,i){var r;return r=new t.Manage_HackerApplicationsItemView({contest:this.contest,model:e,index:(this.collection.page-1)*this.collection.getLimit()+i+1,key:this.collection.key}),$(this.el).find(".applications-list-wrapper").append(r.render().el),this.add_subview(r)},this)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HackerApplicationsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/hacker-challenges",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.events={"click [data-toggle=tab]":"switchCode"},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.changeLanguage=function(t){var e;return e=t,"c"===t&&(e="csrc"),"cpp"===t&&(e="c++src"),this.editor.setOption("mode","text/x-"+e)},r.prototype.switchCode=function(t){var e,i,r;return t.preventDefault(),e=$(t.target),i=e.data("index"),r=this.model.get("submissions"),this.changeLanguage(r[i].language),this.editor.setValue(r[i].code),$(this.el).find("#language h5").html(lang_display_mapping[r[i].language]),$(this.el).find("#time_ago h5").html(r[i].time_ago)},r.prototype.renderView=function(){var e,i,r;return this.has_template&&this.model.get("submissions")?(r=this.model.toJSON(),$(this.el).html(this._template({model:r})),i={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,readOnly:!0,mode:"text/x-markdown",indentUnit:4},e=this.$("#hacker_code").get(0),t.appController.loadCodeMirrorMode("markdown",function(t){return function(){return e?(t.editor=CodeMirror.fromTextArea(e,i),$(t.el).find(".nav li:first a").trigger("click")):void 0}}(this))):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HackerChallengeView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/hacker-submissions-item",r.prototype["class"]="dummy",r.prototype.initialize=function(t){return this.contest=t.contest,this.index=t.index,this.filterString=t.filterString,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.events={"click .change-tab":"renderChallengeTab"},r.prototype.renderChallengeTab=function(t){var e;return t.preventDefault(),e=$(t.target),e.data("id")&&this.challenge_models[e.attr("data-id")].fetch({disableThrobber:!0}),$(this.el).find(".tab-pane").removeClass("active").fadeOut(),$(this.el).find(".tab-pane"+e.attr("href")).fadeIn().addClass("active")},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var e;return this.has_template?(e=this.model.toJSON(),$(this.el).html(this._template({model:e,index:this.index})),this.challenge_models=new Object,_.each(e.challenges,function(i){var r;return this.challenge_models[i.id]=t.appController.getModel("hackerchallenge","hacker-"+e.id+"-"+i.id+"-filter-"+this.filterString,function(t){return function(r){return r.setHackerId(e.id),r.setId(i.id),r.setFilterString(t.filterString),r.setContest(t.contest)}}(this),!1),r=new t.Manage_HackerChallengeView({model:this.challenge_models[i.id]}),r.setElement($(this.el).find(".tab-content #"+i.slug+"-"+this.index)),this.add_subview(r)},this)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HackerSubmissionsItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/hacker-submissions",r.prototype["class"]="dummy",r.prototype.initialize=function(){var e;return this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),e="id-"+this.collection.contestSlug,this.contest=t.appController.getModel("managecontest",e,function(t){return function(e){return e.setId(t.collection.contestSlug),e.sync_status?void 0:e.fetch()}}(this),!1),this.listenTo(this.contest,"change",this.render),this.listenTo(this.contest,"reset",this.render)},r.prototype.events={"click .filter_remove":"removeFilter","click .filter_add":"addFilter","click .filter_apply":"applyFilter"},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.addFilter=function(t){var e,i,r;return t.preventDefault(),e=$(t.target),i=e.data("kind"),r=this.$("#input_"+i).val(),this.collection.addFilter(i,r),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},r.prototype.removeFilter=function(t){var e,i,r;return e=$(t.target),r=e.data("value"),i=e.data("kind"),this.collection.removeFilter(i,r),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},r.prototype.applyFilter=function(){return this.collection.addFilter("start_date",$(this.el).find("#startDate").val()),this.collection.addFilter("end_date",$(this.el).find("#endDate").val()),this.collection.addFilter("status",$(this.el).find("input:radio[name=status]:checked").val()||"all"),Backbone.history.navigate("/manage/contests/"+this.collection.contestSlug+"/all_submissions/"+this.collection.getFilterString()+"/",!0)},r.prototype.setDateTime=function(){var t,e;return null!==this.collection.getFilters().start_date&&""!==this.collection.getFilters().start_date.trim()&&(e=new Date(this.collection.getFilters().start_date),$(this.el).find("#startDate").val($.format.date(e,"yyyy-MM-dd hh:mm")),$(this.el).find("#stdate").datetimepicker("setLocalDate",e)),null!==this.collection.getFilters().end_date&&""!==this.collection.getFilters().end_date.trim()?(t=new Date(this.collection.getFilters().end_date),$(this.el).find("#endDate").val($.format.date(t,"yyyy-MM-dd hh:mm")),$(this.el).find("#endate").datetimepicker("setLocalDate",t)):void 0},r.prototype.renderView=function(){if(this.has_template&&this.collection.sync_status&&this.contest.sync_status){if($(this.el).html(this._template({filters:this.collection.getFilters(),contestSlug:this.collection.contestSlug,contest:this.contest.toJSON()})),$(".typeahead.dropdown-menu").remove(),this.$(".input_challenges").unbind(),this.$(".input_challenges").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu margin-0" "margin:0px;"></ul>',source:function(t){return function(e,i){return $.ajax({url:"/rest/contests/"+t.collection.contestSlug+"/challenges/autocomplete?q="+i+"&without="+t.collection.getFilters().challenges.join(","),type:"GET",success:function(t){return e.process(t)}})}}(this)}),this.$(".input_hackers").unbind(),this.$(".input_hackers").typeahead({minLength:3,menu:'<ul class="typeahead dropdown-menu margin-0" "margin:0px;"></ul>',source:function(e){return function(i,r){return $.ajax({url:"/rest/contests/"+t.appController.get_current_contest_slug()+"/hackers/autocomplete?q="+r+"&without="+e.collection.getFilters().hackers.join(","),type:"GET",success:function(t){return i.process(t)}})}}(this)}),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),t.util.pagination($(this.el).find(".pagination-wrapper"),this.collection.getTotal(),this.collection.pageURL(),this.collection.getCurrentPage(),this.collection,this.collection.getLimit()),this.setDateTime(),0===this.collection.getTotal()&&0===this.collection.errors.length)return $(this.el).find(".submissions-list-wrapper").html("<p class='text-center'>No hackers found matching the filters.</p>");if(0===this.collection.getTotal())return $(this.el).find(".submissions-list-wrapper").html("<p class='text-center'>"+this.collection.errors+"</p>"),t.appController.cleanCollectionCache("submission_hackers");if(this.collection.getTotal()>0)return $(this.el).find(".submissions-list-wrapper").html(""),_.each(this.collection.models,function(e,i){var r;return r=new t.Manage_HackerSubmissionsItemView({contest:this.contest,model:e,index:(this.collection.page-1)*this.collection.getLimit()+i+1,filterString:this.collection.getFilterString()}),$(this.el).find(".submissions-list-wrapper").append(r.render().el),this.add_subview(r)},this)}},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HackerSubmissionsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/home",r.prototype.className="manage-view",r.prototype.initialize=function(t){return r.__super__.initialize.call(this,t)},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?$(this.el).html(this._template):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_HomeView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/moderators",r.prototype.initialize=function(t){return r.__super__.initialize.call(this,t),this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render)},r.prototype.events={"click .moderator-add":"add"},r.prototype.add=function(t){return $(t.target).html("Adding...").attr("disabled","disabled"),this.collection.create({permissible_type:this.collection.permissible_type,permissible_id:this.collection.permissible_id,username:this.$(".moderator-input").val()},{wait:!0,success:function(t){return function(){return t.render()}}(this),error:function(e){return function(){return e.$(".error").html("Failed!"),$(t.target).html("Add").removeAttr("disabled")}}(this)})},r.prototype.render=function(){return this.$el.html(t.appController.template(this.template,this)),this.$(".moderators").length>0?_.each(this.collection.models,function(e){return function(i){var r;return r=new t.Manage_ModeratorView({model:i}),r.render(),e.$(".moderators").append(r.el)}}(this)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ModeratorsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.tagName="tr",r.prototype.template="manage/moderator",r.prototype.initialize=function(t){return r.__super__.initialize.call(this,t),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.events={"click .moderator-del":"del"},r.prototype.del=function(){return this.model.destroy(),this.remove()},r.prototype.render=function(){return t.appController.getTemplate(this.template,function(t){return function(e){return t.$el.html(e({model:t.model.toJSON()}))}}(this),this),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_ModeratorView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/new-contest",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.autocreate_slug=!0,this.has_template=!1,this.rendered=!1,this.current_hacker=t.profile(),this},r.prototype.events={"click .save":"save","click .done":"done","click #newTemplate":"newTemplate","click #editTemplate":"editTemplate","click #previewTemplate":"previewTemplate","click [data-id]":"setCurrentTemplate","click .circle_add":"add_circle","click .circle_remove":"remove_circle","click a[data-toggle=tab]":"tabChanged","keyup #name":"nameChanged","keyup #slug":"slugChanged","change [name=preset-choice]":"presetChanged"},r.prototype.presetChanged=function(t){return scroll(0,$("#basic").position().top),$("#basic").show(),$("#presets-pane").hide(),$("#name").focus(),$("#title-thing").html($(t.target).attr("title-text")),"acm"===$(t.target).attr("value")?(this.model.set("binary_scoring",!0),this.model.set("penalty",1200)):void 0},r.prototype.tabChanged=function(t){return this.current_tab=$(t.target).attr("href")},r.prototype.slugChanged=function(){return this.autocreate_slug=!1,this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val()),this},r.prototype.nameChanged=function(){return this.autocreate_slug&&(this.$("#slug").val(t.util.slugify(this.$("#name").val())),this.$("#contest-url").html("https://hackerrank.com/"+this.$("#slug").val())),this},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var e,i,r;return this.has_template?($(this.el).html(this._template()),i={lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,mode:"text/html",indentUnit:4,onChange:function(t){return function(){return t.updatePreview(),t}}(this)},e=this.$("#description").get(0),t.appController.loadCodeMirrorMode("html",function(t){return function(){return e&&(t.editor=CodeMirror.fromTextArea(e,i)),t.updatePreview(),t.scrollView()}}(this)),$(this.el).find("#stdate").datetimepicker(),$(this.el).find("#endate").datetimepicker(),this.picker_start=$(this.el).find("#stdate").data("datetimepicker"),this.picker_end=$(this.el).find("#endate").data("datetimepicker"),r=["submit_disabled","penalty","binary_scoring","participant_restriction"]):void 0},r.prototype.updatePreview=function(){var e;return e=this,t.requires(["sanitize"],function(){return function(){var t;return t=HackDown.processData(e.editor.getValue()),e.$("#descriptionPreview").html(t)}}(this))},r.prototype.scrollView=function(){var t,e,i,r,n,o,s,a;return t=$(this.el).find(".CodeMirror-scrollbar"),n=$(this.el).find(".preview"),n.height($(this.el).find(".CodeMirror").height()),i=t.prop("scrollHeight"),s=n.prop("scrollHeight"),e=t.height(),o=n.height(),0>=i&&(s*=-1),r=Math.abs((s-o)/(i-e)-1),1>r&&(r=1),a=this.editor.cursorCoords(!0,"local").y*r,n.stop(!0,!1).animate({scrollTop:a},200)},r.prototype.setData=function(){var e,i,r,n,o;return this.starttime=$(this.el).find("#startDate").val(),this.endtime=$(this.el).find("#endDate").val(),r=i=null,""!==this.starttime.trim()&&(r=new Date(this.starttime).getTime()),""!==this.endtime.trim()&&(i=new Date(this.endtime).getTime()),n=["name","slug","tagline"],e=t.util.formData($(this.el),n),o={description:this.editor.getValue(),starttime:this.starttime,endtime:this.endtime,epoch_starttime:r,epoch_endtime:i,template_id:1},_.extend(e,o),this.model.set(e),this},r.prototype.done=function(e){return e.preventDefault(),t.router.navigate("/manage/contest/edit/"+this.model.get("slug"),{trigger:!0})},r.prototype.save=function(t){var e;return t.preventDefault(),e=this.model,this.setData().model_save()},r.prototype.model_save=function(){return this.model.save({},{success:function(t){return function(e,i){return i.status?(t.renderChallengeAssociationView(),t.$("#basic").hide(),t.$("#challenges-pane").show(),scroll(0,$("#challenges-pane").position().top),t.$(".save").hide()):(t.$(".error").show().html(""),_.each(i.errors,function(t){return this.$(".error").append(""+t+"<br />")}))}}(this),error:function(t){return function(){return $(t.el).find(".message").removeClass("error success").addClass("info").html("<ul style='margin-left:15px'><li>Problem in Connecting to server.</li></ul>")}}(this)})},r.prototype.renderChallengeAssociationView=function(){var e,i;return e=new t.ChallengeAssociationCollection,e.setContestId(this.model.get("id")),i=new t.Manage_ChallengeAssociationView({collection:e,contest:this.model}),i.setElement($(this.el).find(".challenges")).render(),this.add_subview(i)},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_NewContestView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/template-editor",r.prototype["class"]="dummy",r.prototype.initialize=function(){return this.has_template=!1,this.rendered=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render),this.model.fetch({disableThrobber:!0,error:function(){return t.router.e404()}})},r.prototype.events={"click .save":"save","click .preview":"preview"},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){var e,i;return this.has_template&&$(this.el).html(this._template({model:this.model.toJSON()})),this.model?(i={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,minHeight:250,mode:"text/html",indentUnit:4},e=this.$("#inputstatement").get(0),t.appController.loadCodeMirrorMode("html",function(t){return function(){return e?(t.editor=CodeMirror.fromTextArea(e,i),window.editor=t.editor):void 0}}(this))):void 0},r.prototype.save=function(t,e){var i;return null==t&&(t=null),null==e&&(e=null),t&&t.preventDefault(),i={slug:$(this.el).find("#slug").val(),body:$("<div/>").text(this.editor.getValue()).html()},this.model.save(i,{success:function(t){return function(i,r){return e&&e.call(),t.parseErrors(r.errors,r.status)}}(this),error:function(t){return function(){return $(t.el).find(".message").removeClass("error success").addClass("info").html("<ul style='margin-left:30px'><li>Problem in Connecting to server.</li></ul>")}}(this)})},r.prototype.preview=function(t){return t.preventDefault(),$.ajax({url:"/rest/templates/"+this.model.get("slug")+"/preview",type:"POST",data:{body:$("<div/>").text(this.editor.getValue()).html()},success:function(){return window.open($(t.target).attr("href"))}})},r.prototype.parseErrors=function(t,e){var i;return e?$(this.el).find(".message").removeClass("error").addClass("success").html("<ul style='margin-left:30px'><li>Your Changes have been saved</li></ul>"):($(this.el).find(".message").removeClass("success").addClass("error"),i="",_.each(t,function(t){return function(e){var r,n;return r="",n=$(t.el).find("[for=input"+e.field+"]"),n.length>0&&($(n).addClass("error"),r=$(n).html()+" "),_.each(e.errors,function(t){return i+="<li>"+r+t+"</li>"})}}(this)),$(this.el).find(".message").html("<ul style='margin-left:30px'>"+i+"</ul>")),this.showFloatingMessage()},r.prototype.showFloatingMessage=function(){return $(this.el).find(".floating-message").fadeIn(500,function(t){return function(){return setTimeout(function(){return $(t.el).find(".floating-message").fadeOut()},3e3)}}(this))},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_TemplateEditView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/testcase-item",r.prototype["class"]="dummy",r.prototype.events={"click .delete":"confirmDelete","click .edit":"showEditDialog","click .score-edit":"editScore","focusout .score":"restoreScore","click .sample":"updateSample"},r.prototype.editScore=function(t){return t.preventDefault(),$(this.el).find(".score-edit").hide(),$(this.el).find(".score-wrapper").show()},r.prototype.restoreScore=function(){return this.model.set("score",$(this.el).find(".score").val()),this.model.set("contains_text",!1),this.model.save(),$(this.el).find(".score-edit").html($(this.el).find(".score").val()).show(),$(this.el).find(".score-wrapper").hide()},r.prototype.updateSample=function(){var t;return this.model.set("sample",null!=(t=!!$(this.el).find(".sample").attr("checked"))?t:{1:0}),this.model.save()},r.prototype.initialize=function(t){return t.challenge&&(this.challenge=t.challenge),this.index=t.index,this.has_template=!1,this.rendered=!1,this.editDialog=!1,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.confirmDelete=function(e){var i;return e.preventDefault(),i={title:"Confirm Delete",body:"<div class='row' style='margin-left:0px'> Are you sure you want to delete "+this.model.get("input")+", "+this.model.get("output")+" testcase? </div> <div class='row' style='margin-top:20px;'> <div class='span2 pull-right' > <a class='btn btn-green confirm-yes' href='#'>Yes</a> <a class='btn btn-green confirm-no' href='#'>No</a> </div> </div>",events:{"click .confirm-yes":function(t){return function(e){return e.preventDefault(),t.dialog.destroy(),t["delete"]()}}(this),"click .confirm-no":function(t){return function(e){return e.preventDefault(),t.dialog.destroy()}}(this)}},this.dialog=new t.util.ShowConfirmationDialog(i),this.dialog.render()},r.prototype.showEditDialog=function(e){var i,r;return e.preventDefault(),this.model.getEditData(),this.editDialog=!0,this.model.fetch(),i={title:"Edit Test Cases",body:"<div class='loader'>"+t.appController.viewLoader(64)+("</div> <form class='hide'> <div class='row'> <div class='span1'> <p>Input</p> </div> <div class='span6'> <textarea class='span6 input_text'>"+this.model.get("input_text")+"</textarea> </div> </div> <div class='row'> <div class='span1'> <p>Output</p> </div> <div class='span6'> <textarea class='span6 output_text'>"+this.model.get("output_text")+"</textarea> </div> </div> <div class='row'> <div class='span1'> <p>Score</p> </div> <div class='span6'> <p><input class='span1 score' type='text' value='"+this.model.get("score")+"' /></p> </div> </div> <div class='row'> <div class='span3 pull-right' style='text-align:right;' > <a class='btn btn-green save' href='#'>Add Testcase</a> </div> </div> </form>"),events:{"click .save":function(t){return function(e){var i,r;return $(e.currentTarget).html("Adding testcase...").attr("disabled","disabled"),e.preventDefault(),r=e.data.$dialog,i={input_text:$(r).find(".input_text").val(),output_text:$(r).find(".output_text").val(),score:$(r).find(".score").val()},t.model.save(i,{success:function(e,i){return i.status?t.model.collection.fetch({success:function(){return t.dialog.destroy()}}):$(r).find(".hr-dialog-failed-message").html(i.errors.join(","))}})}}(this),"click .close":function(t){return function(e){return e.preventDefault(),t.model.isNew()&&t.model.destroy(),t.dialog.destroy()}}(this)}},r={updateData:function(t){return function(e){return t.dialog.$body().find(".loader").hide(),t.dialog.$body().find("form").show(),t.dialog.$body().find(".input_text").val(e.get("input_text")),t.dialog.$body().find(".output_text").val(e.get("output_text")),t.dialog.$body().find(".score").val(e.get("score")),""!==e.get("input_text")?t.dialog.$body().find(".save").html("Save Testcase"):void 0}}(this),onDestroy:function(t){return function(){return t.model.isNew()?$(t.el).css("display","none"):void 0}}(this)},this.dialog=new t.util.ShowDialog(i,r),this.dialog.render()},r.prototype["delete"]=function(){return t.util.ajaxmsg("Deleting...",!0,!0),this.model.destroy({success:function(t){return function(e,i){return"deleted"===i.status?$(t.el).html(""):void 0}}(this)})},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.editDialog&&(this.editDialog=!1,this.dialog.updateData(this.model)),this.has_template?$(this.el).html(this._template({model:this.model.toJSON(),challenge:this.challenge.toJSON(),index:this.index})):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_TestCaseItemView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="manage/testcase",r.prototype["class"]="dummy",r.prototype.events={"click .addnew":"addTestCase","click .uploadZip":"uploadZipDialog"},r.prototype.addTestCase=function(e){var i,r;return e.preventDefault(),i=new t.TestCaseModel,i.setChallengeId(this.collection.getChallengeId()),this.collection.add(i),r=new t.Manage_TestCaseItemView({model:i,index:this.collection.total+1,challenge:this.challenge}),r.showEditDialog(e)},r.prototype.initialize=function(t){return t.challenge&&(this.challenge=t.challenge),this.has_template=!1,this.rendered=!1,this.listenTo(this.collection,"change",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"destroy",this.render)
},r.prototype.uploadZipDialog=function(e){var i,r;return e.preventDefault(),$("#process-message").html(""),r=this,i=new t.util.ShowFormDialog({title:"Upload Dialog",width:650,enctype:"multipart/form-data",fields:[{name:"source_file",title:"Source File",type:"file"},{name:"challenge_id",value:r.collection.getChallengeId(),type:"hidden"},{name:"is_file_upload",value:"1",type:"hidden"}],buttons:[{name:"Upload",callback:function(t){var e,i,n;return i=this,e=t.$form(),n=new FormData(e[0]),i.unSetFailedMsg(),$.ajax({url:"/rest/challenges/"+r.collection.getChallengeId()+"/testcases/upload",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(e){return i.setInactive(),e.ok?(i.failed(e.message),r.collection.fetch({reset:!0,success:function(){return t.destroy()}})):i.failed(e.message)}})}}]}),i.render()},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?($(this.el).html(this._template({collection:this.collection})),_.each(this.collection.models,function(e,i){var r;return e.setChallengeId(this.collection.getChallengeId()),r=new t.Manage_TestCaseItemView({challenge:this.challenge,model:e,index:i+1}),$(this.el).find(".testcase-list-wrapper").append(r.render().el),this.add_subview(r)},this),t.util.ajaxmsg("Loading...",!0,!0,.5)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.Manage_TestCaseView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="checklist",r.prototype.className="checklist-view",r.prototype.initialize=function(){return this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render)},r.prototype.render=function(){var t;return $(this.el).html(i.appController.template(this.template,this)({collection:this.collection,_collection:this.collection.toJSON(),model:this.model,_model:this.model.toJSON()})),t=this,this.$(".accordion-toggle").click(function(e){var i,r;return r=$(e.currentTarget).attr("data-name"),i="block"===t.$("#"+r).css("display")?"fadeOut":"fadeIn",t.$(".accordion-body").hide(),t.$("#"+r)[i]()}),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.ChecklistView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="playoffs",r.prototype.className="playoffs-view",r.prototype.setChallenge=function(t){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=t,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render},r.prototype.setCollection=function(t){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=t,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render},r.prototype.setContest=function(t){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=t,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render},r.prototype.applyTemplate=function(){return this.has_template&&!this.rendered&&($(this.el).html(this._template()),this.rendered=!0),this.rendered&&(this.playoff_header_view||(this.playoff_header_view=new t.PlayoffHeaderView),this.playoff_header_view.setChallenge(this.challenge),this.playoff_header_view.setCollection(this.collection),this.playoff_header_view.setContest(this.contest),this.playoff_body_view||(this.playoff_body_view=new t.PlayoffBodyView),this.playoff_body_view.setChallenge(this.challenge),this.playoff_body_view.setCollection(this.collection),this.playoff_body_view.setContest(this.contest),this.playoff_body_view.once=!1,this.assign({".playoffs .header":this.playoff_header_view,".playoffs .body":this.playoff_body_view})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.PlayoffsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="playoff-header",i.prototype.setChallenge=function(t){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=t,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render()},i.prototype.setCollection=function(t){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=t,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render()},i.prototype.setContest=function(t){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=t,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render()},i.prototype.applyTemplate=function(){return this.collection&&this.collection.sync_status?this.contest&&this.contest.sync_status?this.challenge&&this.challenge.sync_status?(this.has_template&&$(this.el).html(this._template({contest:this.contest.toJSON(),challenge:this.challenge.toJSON(),round_data:this.collection.round_data})),this):this:this:this},i}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.PlayoffHeaderView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="playoff-body",r.prototype.setChallenge=function(t){return this.challenge&&(this.challenge.unbind("reset",this.render,this),this.challenge.unbind("change",this.render,this)),this.challenge=t,this.listenTo(this.challenge,"reset",this.render),this.listenTo(this.challenge,"change",this.render),this.render},r.prototype.setCollection=function(t){return this.collection&&(this.collection.unbind("reset",this.render,this),this.collection.unbind("change",this.render,this)),this.collection=t,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),this.render},r.prototype.setContest=function(t){return this.contest&&(this.contest.unbind("reset",this.render,this),this.contest.unbind("change",this.render,this)),this.contest=t,this.listenTo(this.contest,"reset",this.render),this.listenTo(this.contest,"change",this.render),this.render},r.prototype.applyTemplate=function(){return this.collection.sync_status?this.contest.sync_status?this.challenge.sync_status?(this.has_template&&(this.rendered||($(this.el).html(this._template()),this.rendered=!0),this.list_views||(this.list_views={}),_.each(this.collection.models,function(e){var i;return i=e.get("id"),this.list_views[i]||(this.list_views[i]=new t.PlayoffBodyListView({parent:this}),this.add_subview(this.list_views[i])),this.list_views[i].setModel(e),0===this.$(".playoffs-list-wrap #gameset-"+i).length&&this.$(".playoffs-list-wrap").append("<div id='gameset-"+i+"' class='gameset-view'></div>"),this.list_views[i].setElement(this.$(".playoffs-list-wrap #gameset-"+i)).render()},this)),this):this:this:this},r.prototype.closeAllGameContainers=function(){return _.each(this.list_views,function(t){return t.closeGameContainer()})},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.PlayoffBodyView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="playoff-body-list",r.prototype.className="playoff-body-list-view",r.prototype.events={"click .play-game":"playGame"},r.prototype.setModel=function(t){return this.model&&(this.model.unbind("change",this.render,this),this.model.unbind("reset",this.render,this)),this.model=t,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.applyTemplate=function(){return this.has_template&&($(this.el).html(this._template({model:this.model.toJSON()})),this.delegateEvents()),this},r.prototype.playGame=function(e){var i,r,n,o;return e&&e.preventDefault(),this.parent.closeAllGameContainers(),this.$(".output-area-wrapper").html("").unbind().die(),this.gameset_model||(i=this.model.get("submission_id1"),r=this.model.get("submission_id2"),o=function(t){return t.set("num_players",2),t.set("player1",i),t.set("player2",r)},this.gameset_model=t.appController.getModel("gameset","player1-"+i+"-"+r,o),this.gameset_model.unbind("reset",this.playGame,this),this.gameset_model.bind("reset",this.playGame,this)),n=this,this.gameset_model?(t.requires(["compound/game-views"],function(){return n.game_container_view=new t.GameContainerView({collection:n.gameset_model.getGameCollection(),gameset:n.gameset_model}),n.game_container_view.setElement(n.$(".output-area-wrapper")).render(),n.add_subview(n.game_container_view)}),this):void 0},r.prototype.closeGameContainer=function(){return this.game_container_view?this.game_container_view.closeContainer():void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.PlayoffBodyListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(t){return null==t&&(t={}),t.template&&(this.template=t.template),i.__super__.initialize.apply(this,arguments)},i.prototype.applyTemplate=function(){return this.$el.html(this._template())},i}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.SampleTemplateView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="sampletemplate1",r.prototype.className="sampletemplate1-view",r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.SampleTemplate1View=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="sampletemplate2",r.prototype.className="sampletemplate2-view",r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.SampleTemplate2View=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="aboutus",r.prototype.className="aboutus-view",r.prototype.render=function(){return $(this.el).html(i.appController.template(this.template,this)),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.AboutusView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e},i=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};jQuery(function(){var t,r,n;return t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.template="careers",n.prototype.className="careers-view",n.prototype.initialize=function(){var t;return t=this,this.categories=[],this.jobs=[],$.ajax({url:"/rest/job_postings",success:function(e){return _.each(e,function(e){var r;return r=e.categories.team,t.jobs.push(e),i.call(t.categories,r)<0?t.categories.push(r):void 0}),t.render()}})},n.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({categories:this.categories,jobs:this.jobs})),this},n}(window.HR.GenericView),r=null!=(n=window.HR)?n:{},r.CareersView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="scoring",r.prototype.className="scoring-view container",r.prototype.initialize=function(e){return this.section=e.section,this.contest=t.model("contest").cached(),this.template=this.contest.get("scoring_template")||this.template,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reset",this.render)},r.prototype.render=function(){var e;return $(this.el).html(t.appController.template(this.template,this)({model:this.model})),this.section&&this.$("#"+this.section).length>0&&(e=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+e.section).offset().top-10},800)},800)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ScoringView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="faq",r.prototype.className="faq-view container",r.prototype.initialize=function(t){return null==t&&(t={}),this.tab=t.tab,this.contest=i.model("contest").cached(),this.template=this.contest.get("faq_template")||this.template},r.prototype.render=function(){var t;return $(this.el).html(i.appController.template(this.template,this)),this.tab&&this.$("#"+this.tab).length>0&&(t=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+t.tab).offset().top-10},800)},800)),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.FaqView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="writeblog",r.prototype.className="write-blog container",r.prototype.initialize=function(){return this.profile=t.profile()},r.prototype.events=function(){return{"click button#postblog":"postBlog","click a#new-article":"newArticle"}},r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({wordpressbaseurl:this.getWordpressBaseUrl()})),window.addEventListener("message",this.receiveMessage,!1),this},r.prototype.newArticle=function(t){return t.preventDefault(),$(".wp-editor").removeClass("hide"),$("#message").addClass("hide")},r.prototype.getWordpressBaseUrl=function(){return t.development?"http://localhost/wordpress":"https://blog.hackerrank.com"},r.prototype.receiveMessage=function(e){var i,r;return i=$("#postblog"),e&&e.data&&(e.data.status===!0?(r=new t.util.ShowConfirmationDialog({title:"Successfully submitted",body:"Thank you for submitting your article. We will review and publish it soon."}),r.render(),$(".wp-editor").addClass("hide"),$("#message").removeClass("hide")):($("#error-message").html(e.data.error).show(),$("html, body").animate({scrollTop:0},"slow"))),i.removeAttr("btn-disabled"),i.removeClass("disabled")},r.prototype.postBlog=function(e){var i,r,n,o,s;return e.preventDefault(),i=$("#postblog"),"disabled"!==i.attr("btn-disabled")?($("#error-message").html("").hide(),s=this,this.profile.isLoggedIn()?(i.attr("btn-disabled","disabled"),i.addClass("disabled"),r={},r.username=this.profile.get("username"),r.wordpressBaseUrl=this.getWordpressBaseUrl(),o=$("#editor-iframe")[0].contentWindow,o.postMessage(r,""+this.getWordpressBaseUrl()+"/editor/editor.php")):(n=new t.util.ShowLoginDialog({body_text:"Please login in order to submit a blog",success_callback:function(){},show_sign_up_link:!0}),n.render(),void 0)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.WriteblogView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="privacy",r.prototype.className="privacy-view",r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.PrivacyView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="environment",r.prototype.className="environment-view container",r.prototype.initialize=function(t){return this.tab=t.tab},r.prototype.render=function(){var t;return $(this.el).html(i.appController.template(this.template,this)({base_url:window.location.pathname})),t=this,this.tab&&""!==this.tab&&setTimeout(function(){return $("html body").animate({scrollTop:t.$("#"+t.tab).offset().top-50},300)},500),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.EnvironmentView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="problem-setter",r.prototype.className="problem-setter-view",r.prototype.initialize=function(t){return this.section=t.section},r.prototype.render=function(){var e;return $(this.el).html(t.appController.template(this.template,this)),this.section&&this.$("#"+this.section).length>0&&(e=this,setTimeout(function(){return $("body,html").animate({scrollTop:$("#"+e.section).offset().top-10},800)},800)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.ProblemSetterView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.consumers=new i.APIConsumerCollection,this.errors=[],this.renderConsumers(),this.apiResponseTemplate=_.template("<div class='api-response-wrapper' style='padding: 10px;'> <dl class='api-response'> <dt>URI</dt> <dd><%= data.uri %></dd> <dt>Request Method</dt> <dd><%= data.method %></dd> <dt>Response Code</dt> <dd><%= data.code %></dd> <dt>Response Headers</dt> <dd><%= data.headers %></dd> <dt>Response Body</dt> <dd><pre><%= _.escape(data.response) %></pre></dd> </dl></div>")},r.prototype.template="api",r.prototype.className="api-view",r.prototype.events={"click .try-languages-btn":"tryLanguages","click .try-submission-btn":"trySubmission","click #genkey-api-btn":"genKey"},r.prototype.render=function(){var t;return t=i.profile(),$(this.el).html(i.appController.template(this.template,this)({consumers:this.consumers.toJSON(),errors:this.errors,isLoggedIn:t.isLoggedIn()})),this},r.prototype.renderConsumers=function(){return this.consumers.fetch({success:function(t){return function(){return t.render()}}(this)})},r.prototype.genKey=function(){return this.errors=[],this.consumers.create({name:this.$("#genkey-app-name").val(),description:this.$("#genkey-app-description").val(),website:this.$("#genkey-app-website").val()},{success:function(t){return function(){return t.renderConsumers()}}(this),error:function(t){return function(e,i){return t.errors=$.parseJSON(i.responseText).errors,t.renderConsumers()}}(this)})},r.prototype.tryLanguages=function(){return this.$(".try-languages-btn").attr("disabled","disabled").html("Requesting..."),$.ajax("api/shiv/languages",{data:{request_format:this.$("#api-languages-format").val()},context:this,success:function(t){return this.$("#api-languages-output").html(this.apiResponseTemplate({data:t}))},error:function(){return this.$("#api-languages-output").html("Failed")},complete:function(){return this.$(".try-languages-btn").removeAttr("disabled").html("Try it!")}})},r.prototype.trySubmission=function(){return this.$(".try-submission-btn").attr("disabled","disabled").html("Requesting..."),$.ajax("api/shiv/submission",{type:"POST",data:{request_format:this.$("#api-submission-format").val(),source:this.$("#api-submission-source").val(),lang:this.$("#api-submission-language").val(),testcases:this.$("#api-submission-testcases").val(),callback_url:this.$("#api-submission-callbackurl").val(),wait:this.$("#api-submission-wait").val()},context:this,success:function(t){return this.$("#api-submission-output").html(this.apiResponseTemplate({data:t}))},error:function(){return this.$("#api-submission-output").html("Failed")},complete:function(){return this.$(".try-submission-btn").removeAttr("disabled").html("Try it!")}})},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.APIView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="apihome",r.prototype.className="apihome-view",r.prototype.render=function(){return $(this.el).html(i.appController.template(this.template,this)),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.APIHomeView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="nvn-leaderboard",r.prototype.className="nvn-leaderboard-view",r.prototype.initialize=function(){return this.listenTo(this.collection,"reset",this.render),this.collection.fetch()},r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({leaderboard:this.collection.toJSON(),kind:this.collection.kind})),t.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),"/"+this.collection.pageURL()+"/",this.collection.getCurrentPage()),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NvNLeaderboardView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="hackerclubs",r.prototype.className="hackerclubs-view",r.prototype.initialize=function(){return this.listenTo(this.collection,"reset",this.render)},r.prototype.render=function(){var e,i;return this.fetching_template?this._template&&this.collection.sync_status&&($(this.el).html(this._template({_collection:this.collection.toJSON(),collection:this.collection})),this.$("#tiles li").length>0&&(i=this,e=function(){return i.$("#tiles li").wookmark({autoResize:!0,offset:2,container:i.$(".hackerclubs"),itemWidth:310})},this.$("img.pin").bind("load",function(){return e()}),e())):(this.fetching_template=!0,t.appController.getTemplate(this.template,function(t){return this._template=t,this.render()},this)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.HackerClubsView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="companies",r.prototype.className="companies-view",r.prototype.render=function(){var t,e;return t=i.profile(),e=_.sortBy(this.collection.toJSON(),function(t){return _.filter(t.challenges,function(t){return t.solved}).length}),e=e.reverse(),_.each(e,function(t){return t.solved_challenges=_.filter(t.challenges,function(t){return t.solved}),t.unsolved_challenges=_.filter(t.challenges,function(t){return!t.solved})}),$(this.el).html(i.appController.template(this.template,this)({companies:e})),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.CompaniesView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="leaderboard-overall",r.prototype.className="leaderboard-overall-view container",r.prototype.events={"click .js-leaderboard-tab":"changeTab","click .js-weekly":"changeWeeklyTab"},r.prototype.initialize=function(t){return null==t&&(t={}),this.level=t.level,this.listenTo(this.collection,"reset",this.render),this.weekly_type="today",this.weekly_collection={},this.weekly_cache={},this.fetchWeeklyLeaderboard()},r.prototype.changeTab=function(e){var i;return e.preventDefault(),i=$(e.currentTarget).attr("data-level"),this.level!==i?(this.$("a[data-level="+this.level+"]").parent().removeClass("active"),this.$("a[data-level="+i+"]").parent().addClass("active"),this.level=i,t.router.navigate("/leaderboard/level/"+i,!1),this.collection=t.collection("leaderboard"),this.collection.setPage(1),this.collection.setContestSlug("master"),this.collection.setLevel(this.level),this.collection.cached(),this.listenTo(this.collection,"reset",this.render),this.render()):void 0},r.prototype.changeWeeklyTab=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).attr("data-type"),this.weekly_type!==e?(this.$("a[data-type="+this.weekly_type+"]").parent().removeClass("active"),this.$("a[data-type="+e+"]").parent().addClass("active"),this.weekly_type=e,this.fetchWeeklyLeaderboard()):void 0},r.prototype.processBlank=function(){var e;return e=this.$("#blank-reason-container .blank-reason"),this.collection.length>0?(e.parent().hide(),!1):(_.isBoolean(this.collection.sync_status)?this.collection.available?e.html("Sorry, we require a few more submissions before we generate the leaderboard."):e.html("We are currently generating the leaderboard, please bear with us."):e.html(t.appController.viewLoader(64)),this.$("#blank-reason-container").show(),this.$("#leaders").hide(),!0)},r.prototype.render=function(){var e,i;return $(this.el).html(t.appController.template(this.template,this)({level:this.level,current_hacker:this.collection.current_hacker,has_weekly_leaderboard:!1,weekly_contest:this.collection.weekly_contest,weekly_type:this.weekly_type})),this.renderWeekly(),this.processBlank()?this:(this.collection.sync_status&&(e=$(),i=this,_.each(this.collection.models,function(r){var n;return n=new t.OverallLeaderboardListView({leader:r}),i.add_subview(n),e.push(n.render().el)}),this.$("#leaders").append(e)),this.collection.available&&t.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),""+this.collection.pageURL()+"/",this.collection.getCurrentPage(),this.collection,this.collection.limit,10,"backbone",!1),this)},r.prototype.fetchWeeklyLeaderboard=function(){var t;return t=this,this.weekly_cache[this.weekly_type]?(this.weekly_collection=this.weekly_cache[this.weekly_type],this.renderWeekly()):(this.weekly_collection={},t.renderWeekly(),$.ajax({url:"rest/leaderboard/"+this.weekly_type,success:function(e){return t.weekly_collection=e,t.weekly_cache[t.weekly_type]=e,t.renderWeekly()}}))},r.prototype.createLeader=function(t){return"<div class='leaderboard-overall-list-view'> <div class='row padding-small top bottom' style='height: 38px'> <div class='span-flex-2 text-center'> <p>"+t.rank+"</p> </div> <div class='span-flex-10'> <p> <a class='backbone cursor leaderboard-hackername rg_"+t.level+"' data-action='hacker-modal' rel='tooltip' data-value='"+t.hacker+"' href='/"+t.hacker+"' target='_blank'> <img class='avatar' width='30' height='30' src='"+t.avatar+"' onerror='this.onerror=null; this.src='https://d3rpyts3de3lx8.cloudfront.net/hackerrank/assets/gravatar.jpg';'> "+t.hacker+" </a> </p> </div> <div class='span-flex-4'> <p>"+t.score.toFixed(2)+"</p> </div> </div> </div>"},r.prototype.renderWeekly=function(){var e,i,r;if(this.$(".js-weekly-leaderboard").length>0)return e=this.$("#blank-reason-container2 .blank-reason"),this.$("#leaders2").html(""),r=this,this.weekly_collection.models?this.weekly_collection.available?(e.parent().hide(),i=$(),_.each(this.weekly_collection.models,function(t){return $("#leaders2").append(r.createLeader(t))})):(e.html("No challenge at this time."),e.parent().show()):(e.html(t.appController.viewLoader(64)),e.parent().show())},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.OverallLeaderboardView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="leaderboard-overall-list",r.prototype.className="leaderboard-overall-list-view",r.prototype.initialize=function(e){return this.leader=e.leader,this.profile=t.profile()},r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({leader:this.leader.toJSON(),is_current_hacker:this.profile.get("id")===this.leader.get("hacker_id")})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.OverallLeaderboardListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);
return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="leaderboard-main",r.prototype.className="leaderboard-main-view container",r.prototype.events={"click .js-leaderboard-tab":"changeTab","click .switchery":"changeType","click .leaderboard-filters-dropdown":"changeFilter","click .filters-close":"closeFilter","focus .filter-input":"filterInputFocus"},r.prototype.filters=["school","country","company"],r.prototype.initialize=function(t){return null==t&&(t={}),this.level=this.collection.level,this.type=this.collection.type,this.track=this.collection.track,this.scores=[],this.renderScores(),this.listenTo(this.collection,"reset",this.render),r.__super__.initialize.call(this,t)},r.prototype.fetchCollection=function(){var e;return e=this.collection.filters,this.collection=t.collection("track-leaderboard"),this.collection.setPage(1),this.collection.setLevel(this.level),this.collection.setTrack(this.track),this.collection.setType(this.type),this.collection.filters=e,this.collection.cached(),this.listenTo(this.collection,"reset",this.render),t.router.navigate(this.collection.pageURL()+("/"+this.collection.page),!1),this.render()},r.prototype.changeTab=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).attr("data-level"),this.level!==e?(this.$("a[data-level="+this.level+"]").parent().removeClass("active"),this.$("a[data-level="+e+"]").parent().addClass("active"),this.level=e,this.fetchCollection()):void 0},r.prototype.filterInputFocus=function(t){var e;return e=this,$(t.currentTarget).live("keyup",function(t){return e.filterInputKeyup(t)})},r.prototype.setFilter=function(e){return this.$(".filter-input").val(e),this.$(".filter-input").addClass("disabled"),this.collection.addFilter(this.activeFilter,e),this.collection.cached(),t.router.navigate(this.collection.pageURL()+("/"+this.collection.page),!1)},r.prototype.filterInputKeyup=function(t){var e,i,r;return i=$(t.currentTarget),13===t.keyCode?(e=i.attr("data-filter"),r=i.val().replace(/</g,"").replace(/>/g,""),this.setFilter(r)):void 0},r.prototype.closeFilter=function(){return this.$(".btn-group-filters").removeClass("is-open"),this.collection.clearFilters(),this.collection.cached(),t.router.navigate(this.collection.pageURL()+("/"+this.collection.page),!1)},r.prototype.changeFilter=function(t){var e,i;return this.collection.clearFilters(),this.activeFilter=$(t.target).html().toLowerCase(),this.$(".btn-group-filters").addClass("is-open"),this.$(".filter-input").remove(),$("<input type='text' class='filter-input'>").insertBefore(".filters-close"),e=this,i=function(){return e.filterInputKeyup({currentTarget:this.$element,keyCode:13})},this.$(".filter-input").completer(this.activeFilter,{onselect:i})},r.prototype.changeTrack=function(t){return this.track!==t?(this.track=t,this.level=1,this.fetchCollection()):void 0},r.prototype.changeType=function(){var t;return t=this.$(".leaderboard-option").is(":checked")?"contest":"practice",t!==this.type?(this.type=t,this.fetchCollection()):void 0},r.prototype.processBlank=function(){var e;return e=this.$("#blank-reason-container .blank-reason"),this.collection.length>0?(e.parent().hide(),!1):(_.isBoolean(this.collection.sync_status)?this.collection.available?e.html("Sorry, we do not have enough data to generate the leaderboard."):e.html("We are currently generating the leaderboard, please bear with us."):e.html(t.appController.viewLoader(64)),this.$("#blank-reason-container").show(),this.$("#leaders").hide(),!0)},r.prototype.renderScores=function(){var e;if(!(this.scores.count>0||this.rendering_score)&&t.profile().isLoggedIn())return e=this,this.rendering_score=!0,$.ajax({url:"/rest/hackers/me/scores",success:function(t){return e.scores=t,e.rendering_score=!1,e.render()}})},r.prototype.render=function(){var e,i,r,n,o,s,a,l,c,h,p,u,d;for(l=[{slug:"algorithms",name:"Algorithms","short":"AL"},{slug:"ai",name:"Artificial Intelligence","short":"AI"},{slug:"miscellaneous",name:"Miscellaneous","short":"MI"},{slug:"fp",name:"Functional Programming","short":"FP"},{slug:"shell",name:"The Linux Shell","short":"SH"}],d=this.scores,c=0,p=d.length;p>c;c++)for(o=d[c],h=0,u=l.length;u>h;h++)a=l[h],o.slug===a.slug&&(o.short=a.short);return n=["O(1)","O(logN)","O(N)","O(N<sup>2</sup>)","O(2<sup>N</sup>)"],$(this.el).html(t.appController.template(this.template,this)({level:this.level,track:this.track,type:this.type,scores:this.scores,tracks:l,level_to_title:n})),s=this,this.$(".track-selection select").select2({minimumResultsForSearch:-1}),this.$(".track-selection select").on("change",function(t){return s.changeTrack(t.val)}),this.Switchery||(this.Switchery=require__("switchery")),$.map($(".js-switch"),function(t){return $(t).next().hasClass("switchery")?void 0:new s.Switchery(t)}),i=_.keys(this.collection.filters),i.length>0&&(i.length>0&&(this.activeFilter=i[0]),e=this.collection.filters[this.activeFilter],this.$(".filter-value-"+this.activeFilter).click(),this.setFilter(e)),this.processBlank()?this:(this.collection.sync_status&&(r=$(),s=this,_.each(this.collection.models,function(e){var i;return i=new t.OverallLeaderboardListView({leader:e}),s.add_subview(i),r.push(i.render().el)}),this.$("#leaders").append(r),this.collection.available&&t.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),""+this.collection.pageURL()+"/",this.collection.getCurrentPage(),this.collection,this.collection.limit,10,"backbone",!1)),this)},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.LeaderboardMainView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="tracks",r.prototype.className="tracks-view",r.prototype.initialize=function(){return this.tracks_list_view=[],this.listenTo(this.collection,"reset",this.render)},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this._template&&!this.rendered?($(this.el).html(this._template()),this.rendered=!0,this.renderSubviews()):this.rendered?this.renderSubviews():void 0},r.prototype.renderSubviews=function(){return this.collection.sync_status?(this.$(".tracks_list").html(""),_.each(this.collection.models,function(e){var i;return i=e.toJSON(),this.track=new t.TracksListView({model:e}),this.add_subview(this.track),this.$(".tracks_list").append("<div class='track_"+i.slug+"'></div>"),this.track.setElement(this.$(".track_"+i.slug)).render()},this)):void 0},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.TracksView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="tracks-list",r.prototype.className="tracks-list-view",r.prototype.initialize=function(){return this.listenTo(this.model,"render",this.render)},r.prototype.render=function(){var e;return e=this.model.toJSON(),$(this.el).html(t.appController.template(this.template,this)({model:e})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.TracksListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="inbox",r.prototype.className="inbox-view",r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.InboxView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="messagethread-list",r.prototype.className="messagethread-list-view",r.prototype.initialize=function(t){return this.thread=t.thread,this.parent=t.parent,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render)},r.prototype.render=function(){var e;return e=this.model.toJSON(),e.active=parseInt(e.id)===parseInt(this.parent.thread_id),e.last_message.receiver_id===(e.user1||{}).id?(e.receiver=e.user1,e.sender=e.user2):(e.receiver=e.user2,e.sender=e.user1),$(this.el).html(t.appController.template(this.template,this)({model:e,profile:t.profile().toJSON()})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.MessageThreadListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="messagethread",r.prototype.className="messagethread-view",r.prototype.events={"click div[data-thread-id]":"viewThread","click .hr_send_new_message":"newMessage"},r.prototype.initialize=function(t){return this.active_thread_id=t.active_thread_id,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.onAdd),this.listenTo(this.collection,"remove",this.onRemove),this.messages_view={},this.messages_collection={},this.threads_view={}},r.prototype.render=function(){return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),this},r.prototype.renderView=function(){return this.has_template?($(this.el).html(this._template),this.renderSubviews()):void 0},r.prototype.renderSubviews=function(){var e;return e=this,0===this.collection.length?(this.$(".threads_list").html("<p class='gray'>You have no conversation</p>"),this.$(".messaging_content").html("<p class='gray'>No Conversation Selected</p>"),void 0):(this.thread_id||(this.thread_id=this.active_thread_id||this.collection.first().get("id")),this.showThread(),this.$(".threads-list-wrap").html(""),_.each(this.collection.models,function(i){return e.threads_view[i.get("id")]=new t.MessageThreadListView({model:i,parent:this}),e.add_subview(e.threads_view[i.get("id")]),this.$(".threads-list-wrap").append("<div data-thread-id='"+i.get("id")+"'></div>"),e.threads_view[i.get("id")].setElement(this.$("div[data-thread-id="+i.get("id")+"]")).render()},this))},r.prototype.renderMessagesView=function(){var e,i;return(e=this.messages_view)[i=this.thread_id]||(e[i]=new t.MessageView({collection:this.messages_collection[this.thread_id],parent:this.threads_view[this.thread_id],parent2:this})),this.$(".messaging_content").html(""),this.messages_view[this.thread_id].setElement(this.$(".messaging_content")).render()},r.prototype.showThread=function(){var e;return e=this,this.messages_collection[this.thread_id]?e.renderMessagesView():(this.messages_collection[this.thread_id]=new t.collection("messages"),this.messages_collection[this.thread_id].thread_id=this.thread_id,this.messages_collection[this.thread_id].fetch({success:function(){return e.renderMessagesView()}})),this.readThread(this.thread_id)},r.prototype.viewThread=function(t){var e;return e=$(t.currentTarget),this.thread_id=e.attr("data-thread-id"),this.showThread(),Backbone.history.navigate("/inbox/thread/"+this.thread_id),this.$("div li.active").removeClass("active"),this.$("div[data-thread-id="+this.thread_id+"] li").addClass("active")},r.prototype.sortByDate=function(t,e){return new Date(t.get("last_message").created_at)<new Date(e.get("last_message").created_at)},r.prototype.readThread=function(t){return this.collection.findWhere({id:parseInt(t)})?this.collection.findWhere({id:parseInt(t)}).markAsRead():void 0},r.prototype.rearrangeThread=function(t){var e;return e=this.threads_view[t].model,this.collection.remove(e),this.collection.add(e,{at:0})},r.prototype.onAdd=function(e){return 1===this.collection.length&&this.$(".threads_list").html(""),this.threads_view[e.get("id")]=new t.MessageThreadListView({model:e,parent:this}),$(".threads-list-wrap").prepend("<div data-thread-id='"+e.get("id")+"'></div>"),this.threads_view[e.get("id")].setElement($("div[data-thread-id="+e.get("id")+"]")).render()},r.prototype.onRemove=function(t){var e;return e=this.$("div[data-thread-id="+t.get("id")+"]"),e.remove()},r.prototype.newMessage=function(e){var i;return e.preventDefault(),i=new t.util.ShowMessageDialog,i.render()},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.MessageThreadView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="message-list",r.prototype.className="message-list-view",r.prototype.initialize=function(t){return this.thread=t.thread,this.listenTo(this.model,"render",this.render)},r.prototype.nl2br=function(t){var e;return e="<br />",(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+e+"$2")},r.prototype.render=function(){var e;return e=this.model.toJSON(),e.message=this.model.get("id")?this.nl2br(e.message):this.nl2br(_.escape(e.message)),e.receiver_id===this.thread.user1.id?(e.receiver=this.thread.user1,e.sender=this.thread.user2):(e.receiver=this.thread.user2,e.sender=this.thread.user1),$(this.el).html(t.appController.template(this.template,this)({model:e}))},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.MessageListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="message",r.prototype.className="message-view",r.prototype.events={"click .hr_send":"sendMessage","click .hr_load_more":"loadMore","keydown .hr_message_text":"keyPressed"},r.prototype.initialize=function(t){return this.local_id=0,this.messages={},this.parent=t.parent,this.parent2=t.parent2,this.listenTo(this.collection,"add",this.onAdd),$(window).resize(this.resize),this.resize(),this.collection.length>0?this.parent.model.set("last_message",this.collection.first().toJSON()):void 0},r.prototype.render=function(){var e;if(parseInt(this.parent.model.get("id"))===parseInt(this.parent2.thread_id))return this.has_template?this.renderView():t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.renderView()},this),e=function(){return $(".hr_message_text").focus()},setTimeout(e,1)},r.prototype.resize=function(){var t,e;return e=$(window).height(),t=e-272,$(".message_history").css("height",t)},r.prototype.renderView=function(){return this.has_template&&($(this.el).html(this._template({has_more:this.collection.has_more})),this.renderSubviews()),$(".message_history").scrollTop($(".message_history")[0].scrollHeight),this.resize()},r.prototype.prependElement=function(e){var i,r;if(parseInt(this.parent.model.get("id"))===parseInt(this.parent2.thread_id))return r=new t.MessageListView({model:e,thread:this.collection.thread,parent:this}),this.add_subview(r),i=e.get("id")||e.get("local_id"),this.messages[i]=r,this.$(".message_list").prepend("<div data-id='"+i+"'></div>"),r.setElement(this.$("div[data-id="+i+"]")).render(),this.from_bottom||(this.from_bottom=0),$(".message_history").scrollTop($(".message_history")[0].scrollHeight-this.from_bottom)},r.prototype.appendElement=function(e){var i,r;if(parseInt(this.parent.model.get("id"))===parseInt(this.parent2.thread_id))return r=new t.MessageListView({model:e,thread:this.collection.thread,parent:this}),this.add_subview(r),i=e.get("id")||e.get("local_id"),this.messages[i]=r,this.$(".message_list").append("<div data-id='"+i+"'></div>"),r.setElement(this.$("div[data-id="+i+"]")).render(),this.from_bottom||(this.from_bottom=0),$(".message_history").scrollTop($(".message_history")[0].scrollHeight-this.from_bottom)},r.prototype.renderSubviews=function(){var t;return t=this,this.collection.sync_status?(this.$(".message_list").html(""),_.each(this.collection.models,function(e){return t.prependElement(e)},this)):void 0},r.prototype.loadMore=function(){var e,i;if(parseInt(this.parent.model.get("id"))===parseInt(this.parent2.thread_id)&&!this.loading_more)return this.loading_more=!0,i=this,this.from_bottom=$(".message_history")[0].scrollHeight,this.collection.length>0?(e=new t.collection("messages"),e.thread_id=this.collection.thread_id,e.setUntil(this.collection.last().get("id")),e.fetch({success:function(){var t;return i.loading_more=!1,i.collection.has_more=e.has_more,t=0,_.each(e.models,function(e){return i.ignore=!0,i.collection.add(e),i.ignore=!1,i.prependElement(e),t++}),i.collection.has_more===!1?$(".hr_load_more").hide():void 0},error:function(){return i.loading_more=!1}})):void 0},r.prototype.keyPressed=function(t){return 13!==t.keyCode||t.shiftKey?void 0:(t.preventDefault(),this.sendMessage())},r.prototype.sendMessage=function(){var e,i,r;if(parseInt(this.parent.model.get("id"))===parseInt(this.parent2.thread_id)&&""!==$(".hr_message_text").val())return this.from_bottom=0,r=this,i=new t.MessageModel,e={sender_id:this.collection.thread.user1.id,receiver_id:this.collection.thread.user2.id,message:$(".hr_message_text").val()},i.set("message",e.message),i.set("sender_id",e.sender_id),i.set("receiver_id",e.receiver_id),i.set("created_at",new Date),r.collection.add(i,{at:0}),$(".hr_message_text").val(""),i.save(e,{success:function(){return function(t){return i.set("created_at",t.get("created_at")),r.messages[i.get("local_id")].render()}}(this)})},r.prototype.onAdd=function(t){return this.ignore?void 0:(t.set("local_id",this.local_id),this.parent2.rearrangeThread(this.parent.model.get("id")),this.local_id-=1,this.appendElement(t),this.parent.model.set("last_message",t.toJSON()),this.parent.render())},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.MessageView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="navigation-message",r.prototype.initialize=function(){return this.collection=t.cachedMessagesCollection,this.thread_views={},this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.onRemove),this.listenTo(this.collection,"add",this.onAdd)},r.prototype.render=function(){var e;return $(this.el).html(t.appController.template(this.template,this,!1)),e=this,this.thread_views={},this.$(".hr_nav_messages_list").html(""),_.each(this.collection.models,function(i){return e.thread_views[i.get("id")]=new t.NavigationMessageListView({model:i}),e.$(".hr_nav_messages_list").append(e.thread_views[i.get("id")].render().el)})},r.prototype.onAdd=function(e){return this.thread_views[e.get("id")]=new t.NavigationMessageListView({model:e}),this.$(".hr_nav_messages_list").prepend(this.thread_views[e.get("id")].render().el)},r.prototype.onRemove=function(t){return this.thread_views[t.get("id")].remove()},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NavigationMessageView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="navigation-message-list",r.prototype["class"]="navigation-message-list-view",r.prototype.events={"click a.message_status":"markAsRead","click li.notify_item":"goToThread"},r.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render)},r.prototype.goToThread=function(e){return"I"!==e.target.tagName||"icon-reply"===e.target.className?(t.router.navigate("/inbox/thread/"+this.model.get("id"),{trigger:!0,replace:!0}),$(".notify_dropdown").removeClass("open")):void 0},r.prototype.markAsRead=function(t){return"mark as read"===$(t.currentTarget).attr("data-original-title")?this.model.markAsRead():this.model.markAsUnread()},r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this,!1)({model:this.model})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NavigationMessageListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="navigation-notification",r.prototype.events={"click .hr_archive_all":"archiveAll","click .no-propagation":"stopPropagation","click li[data-id]":"clickNotification"},r.prototype.initialize=function(){return t.cachedNotificationsCollection?this.collection=t.cachedNotificationsCollection:(this.collection=t.collection("notifications"),this.collection.unread_only=!0,t.cachedNotificationsCollection=this.collection,this.collection.cached()),this.list_views={},this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.onRemove)},r.prototype.showLoader=function(){var e;return e=$(t.appController.viewLoader(32)),e.css({"padding-top":"20px","padding-bottom":"20px"}),this.$(".hr_nav_notifications_list").html(e)},r.prototype.archiveAll=function(e){var i,r,n;return e.stopPropagation(),this.collection.sync_status?(r=[],_.each(this.collection.models,function(t){return r.push(t.get("id"))}),n=this,i=t.collection("notifications"),i.unread_only=!0,i.offset=this.collection.length,this.collection.reset(),this.showLoader(),i.fetch({success:function(e){return $.ajax({type:"POST",url:"/rest/contests/master/notifications/archive_all",data:{notif_ids:r},success:function(e){return t.appView.navigationView.updateNotificationsCount(e.unread_count)}}),_.each(e.models,function(t){return n.collection.add(t)}),n.collection.has_more=i.has_more,n.render()},error:function(){return n.render()}})):void 0},r.prototype.stopPropagation=function(t){return t.stopPropagation()},r.prototype.clickNotification=function(e){var i,r;return i=$(e.currentTarget).attr("data-id"),r=this,t.router.navigate("/notifications/notif_id/"+i,!0)},r.prototype.render=function(){var e,i;return this.collection.sync_status?(i=this,e=function(){var e,r,n,o;return e=$(".hr_nav_notifications_list"),o=e.scrollTop(),o+e.height()===e[0].scrollHeight&&i.collection.has_more&&!i.loading_more?(i.loading_more=!0,r=$(t.appController.viewLoader(32)),r.css({"padding-top":"20px","padding-bottom":"20px"}),e.append(r),n=t.collection("notifications"),n.unread_only=!0,n.offset=i.collection.length,n.fetch({success:function(t){return _.each(t.models,function(t){return i.collection.add(t)}),i.collection.has_more=n.has_more,i.loading_more=!1,r.remove()},error:function(){return r.remove()}})):void 0},this.$(".hr_nav_notifications_list").scroll(e),0===this.collection.length?this.$(".hr_nav_notifications_list").html("<div class='no-propagation text-center' style='padding: 30px 0px 30px 0px; font-size:16px'>You have no unread notifications</div>"):(i=this,this.$(".hr_nav_notifications_list").html(""),_.each(this.collection.models,function(e){var r;return e.get("notification_status")<2?(r=new t.NavigationNotificationListView({model:e}),i.list_views[e.get("id")]=r,i.$(".hr_nav_notifications_list").append(r.render().el)):void 0})),this):(this.showLoader(),void 0)},r.prototype.onRemove=function(){return 0===this.collection.length&&(this.collection.sync_status=!1,this.collection.cached({fetch:!0})),this.render()},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NavigationNotificationView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="navigation-notification-list",r.prototype.events={"click a.close":"archive"},r.prototype.initialize=function(){return this.listenTo(this.model,"destroy",this.remove)},r.prototype.archive=function(t){return t.stopPropagation(),this.model.markRead()},r.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this,!1)({model:this.model.toJSON()})),this},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.NavigationNotificationListView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="blogindex",r.prototype.template404="dashboard/e404",r.prototype.className="blogindex-view",r.prototype.initialize=function(t){return this.collection=t.collection,this.current_hacker=t.current_hacker,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render)},r.prototype.render=function(){var t;return this.collection.sync_status&&(this.current_hacker.get("is_admin")?$(this.el).html(i.appController.template(this.template,this)({collection:this.collection.toJSON(),current_hacker:this.current_hacker.toJSON()})):(i.appController.setTitle("HTTP 404: Page Not Found"),$(this.el).html(i.appController.template(this.template404,this)))),t=""+this.collection.pageURL(),i.util.pagination(this.$(".pagination-wrapper"),this.collection.getTotal(),""+t+"/page/",this.collection.getCurrentPage(),null,this.collection.limit),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.BlogIndexView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="blogadmin",r.prototype.template404="dashboard/e404",r.prototype.className="blogadmin-view",r.prototype.initialize=function(t){return this.templates=i.collection("blog-templates").cached(),this.current_hacker=t.current_hacker.toJSON(),this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.listenTo(this.templates,"reset",this.render),this.listenTo(this.templates,"change",this.render),this.render},r.prototype.render=function(){var t,e,r;return t=this,e=this.model.toJSON(),r=this.templates.toJSON(),this.current_hacker.is_admin?(i.appController.setTitle("Blog-Edit"),$(this.el).html(i.appController.template(this.template,this)({model:e,templates:r})),r&&$("select.js-template").val(e.blog_template_id),this.setFields()):(i.appController.setTitle("HTTP 404: Page Not Found"),$(this.el).html(i.appController.template(this.template404,this))),this},r.prototype.setFields=function(){var t;return t=this.model.toJSON(),$("#postTitle").val(t.title),$("#postContent").val(t.content),$("#postSlug").val(t.slug)},r.prototype.events={"click a.js-save-draft":"saveDraft","click a.js-publish-post":"publishPost","click a.js-unpublish":"unpublishPost","click a.js-preview-post":"saveDraft","change select.js-template":"selectTemplate","change input.js-slug":"editSlug"},r.prototype.publishPost=function(t){return t.preventDefault(),this.model.set({content:$("#postContent").val(),title:$("#postTitle").val(),slug:$("#postSlug").val(),draft:!1}),this.saveModel()},r.prototype.saveDraft=function(t){return t.preventDefault(),this.model.set({content:$("#postContent").val(),title:$("#postTitle").val(),slug:$("#postSlug").val()}),this.saveModel()},r.prototype.unpublishPost=function(t){return t.preventDefault(),this.model.set({draft:!0}),this.saveModel()},r.prototype.saveModel=function(){return this.model.save(null,{success:function(t){return function(e){return t.model=e,(new i.BlogsCollection).cached({fetch:!0}),i.router.navigate("/oldblog/"+e.id+"/edit",!0)}}(this),error:function(){return function(){}}(this)})},r.prototype.selectTemplate=function(){var t;return t=this.templates.toJSON()[parseInt($("select.js-template").val())-1],this.model.set({blog_template_id:$("select.js-template").val(),content:t.template})},r.prototype.editSlug=function(){return this.model.set({manual_slug:!0})},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.BlogAdminView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.template="singlepost",r.prototype.template404="dashboard/e404",r.prototype.className="singlepost-view container",r.prototype.initialize=function(t){return this.current_hacker=t.current_hacker,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.render()},r.prototype.render=function(){var e;return e=this.model.toJSON(),this.model.sync_status&&(this.current_hacker.get("is_admin")?(t.appController.setTitle("Blogs-"+e.title),$(this.el).html(t.appController.template(this.template,this)({model:e,current_hacker:this.current_hacker.toJSON()}))):(t.appController.setTitle("HTTP 404: Page Not Found"),$(this.el).html(t.appController.template(this.template404,this)))),this},r.prototype.events={"click a.js-blog-tweet":"tweet","click a.js-blog-fb-share":"fbshare"},r.prototype.fbshare=function(t){var e,i,r,n,o,s;return r=this.getPermaLink(),t.preventDefault(),s=600,e=350,i=screen.width/2-s/2,n=screen.height/2-e/2,o="https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.location.href)+"&p[title]="+encodeURIComponent(this.model.get("title"))+"&p[summary]="+encodeURIComponent(this.model.get("preview_plain")),window.open(o,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+e+", top="+n+", left="+i),window.focus()},r.prototype.tweet=function(t){var e,i,r,n,o,s,a;return r=this.getPermaLink(),t.preventDefault(),a=600,e=350,i=screen.width/2-a/2,o=screen.height/2-e/2,n="Awesome blog post from @HackerRank. Read it: "+r,s="https://twitter.com/intent/tweet?text="+encodeURIComponent(n),window.open(s,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+e+", top="+o+", left="+i),window.focus()},r.prototype.getPermaLink=function(){return""+document.location.protocol+"//"+document.location.host+"/blog/"+this.model.get("slug")},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.SinglePostView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return i=function(i){function r(){return r.__super__.constructor.apply(this,arguments)
}return e(r,i),r.prototype.template="team",r.prototype.className="team-view",r.prototype.initialize=function(t){return this.action=t.action||"create",this.model?(this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"sync",this.render),this.model.fetch()):void 0},r.prototype.events={"click a[data-toggle=tab]":"changeTab","keyup input#name":"updateHandle","keyup input#slug":"enableSave","click button.team-submit":"updateTeam","click button.add-member-submit":"addMember","click button.remove-member":"removeMember","click button.approve-me":"approveMe"},r.prototype.render=function(){var e,i,r;return this.hacker=t.profile(),i=this.model?_.map(this.model.members().models,function(t){return t.get("hacker_id")}):[],this.model&&_.size(this.model.attributes)>0&&this.model.sync_status&&this.model.get("manager_id")!==this.hacker.get("id")&&(e="members"===this.action&&-1!==i.indexOf(this.hacker.get("id")),"view"===this.action||e||(t.CONTEST_NAMESPACE?t.router.navigate("/contests/"+t.CONTEST_NAMESPACE+"/teams/"+this.model.get("id")+"/view",!0):t.router.navigate("/teams/"+this.model.get("id")+"/view",!0))),this.render_locked||($(this.el).html(t.appController.template(this.template,this)({team:this.model,hacker:this.hacker,action:this.action,member_ids:i})),"create"===this.action&&(r=this,this.$("input#contest_id").select2({minimumInputLength:1,query:function(t){return $.ajax("/rest/contests/team_events",{success:function(e){return t.callback(e),r.enableSave()}})}}))),this},r.prototype.destroy=function(){return this.$("input#contest_id").select2("close"),r.__super__.destroy.call(this)},r.prototype.changeTab=function(e){var i;return e.preventDefault(),"create"!==this.action?$(e.currentTarget).hasClass("active")?void 0:(i=$(e.currentTarget).parent().attr("data-action"),t.CONTEST_NAMESPACE?t.router.navigate("/contests/"+t.CONTEST_NAMESPACE+"/teams/"+this.model.get("id")+"/"+i,!0):t.router.navigate("/teams/"+this.model.get("id")+"/"+i,!0)):void 0},r.prototype.updateHandle=function(e){return this.$("input#slug").val(t.util.slugify($(e.currentTarget).val(),"_")),this.enableSave(e)},r.prototype.enableSave=function(){return this.$("button.team-submit").removeClass("disabled")},r.prototype.updateTeam=function(e){var i,r;return e.preventDefault(),$(e.currentTarget).hasClass("disabled")?void 0:($(e.currentTarget).html("Saving..."),this.$("article#details p.success").addClass("hide").html(""),this.$("article#details p.error").addClass("hide").html(""),this.$("article#details small.error").html(""),i=["name","slug"],"create"===this.action&&i.push("contest_id"),this.model||(this.model=new t.TeamModel),_.each(i,function(t){return this.model.set(t,this.$("article#details form input#"+t).val())},this),r=this,this.render_locked=!0,this.model.save(null,{success:function(i){return i.status?"details"===r.action?r.$("article#details p.success").removeClass("hide").html("Changes have been saved successfully"):"create"===r.action&&t.router.navigate((t.CURRENT_NAMESPACE?"/contest/"+t.CURRENT_NAMESPACE:"")+("/teams/"+i.get("id")+"/details"),!0):(i.errors._global?r.$("article#details p.error").removeClass("hide").html(i.errors._global):r.$("article#details p.error").removeClass("hide").html("There was an error").show(),_.each(i.errors,function(t,e){return"_global"!==e?r.$("article#details input#"+e).parent().find(".error").html(t):void 0})),$(e.currentTarget).html("Save").addClass("disabled")}}))},r.prototype.addMember=function(e){var i,r;return e.preventDefault(),this.$("input.add-member-username").val()?(i=new t.TeamMemberModel,i.set("team_id",this.model.get("id")),i.set("username",this.$("input.add-member-username").val()),r=this,i.save(null,{success:function(t){return t.status?(r.model.members().add(t),r.render_locked=!1,r.model.fetch()):(t.errors._global?r.$("article#members p.error").removeClass("hide").html(t.errors._global):r.$("article#members p.error").removeClass("hide").html("There was an error").show(),_.each(t.errors,function(t,e){return"_global"!==e?r.$("article#members input#"+e).parent().find(".error").html(t[0]):void 0}))}})):void 0},r.prototype.approveMe=function(e){var i,r;return e.preventDefault(),$(e.currentTarget).hasClass("disabled")?void 0:($(e.currentTarget).addClass("disabled"),r=this,i=t.util.ShowConfirmationDialog({title:"Approve Membership.",body:"Are you sure?",onDestroy:function(){return $(e.currentTarget).removeClass("disabled")},buttons:[{name:"Yes",callback:function(t){var i,n,o;return i=this,o=r.model.members().get($(e.currentTarget).attr("data-id")),n=o.get("hacker_id"),r.model.members().remove(o),o.approve({success:function(e){return e.status?(i.setInactive(),t.destroy(),r.render_locked=!1,r.model.fetch()):(i.setActive(),i.setFailedMsg(e.message))}})}},{name:"No",callback:function(t){return this.setInactive(),t.destroy()}}]}),i.render())},r.prototype.removeMember=function(e){var i,r;return e.preventDefault(),$(e.currentTarget).hasClass("disabled")?void 0:($(e.currentTarget).addClass("disabled"),r=this,i=t.util.ShowConfirmationDialog({title:"Confirm Removal",body:"Are you sure?",onDestroy:function(){return $(e.currentTarget).removeClass("disabled")},buttons:[{name:"Yes",callback:function(i){var n,o,s;return n=this,s=r.model.members().get($(e.currentTarget).attr("data-id")),o=s.get("hacker_id"),r.model.members().remove(s),s.destroy({success:function(e,s){var a;return s.status?(n.setInactive(),i.destroy(),a=t.profile(),a.get("id")===o?t.router.navigate("/settings/teams",!0):(r.render_locked=!1,r.model.fetch())):(n.setActive(),n.setFailedMsg(s.errors._global))}})}},{name:"No",callback:function(t){return this.setInactive(),t.destroy()}}]}),i.render())},r}(window.HR.GenericView),t=null!=(r=window.HR)?r:{},t.TeamView=i})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function r(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};jQuery(function(){var t,i,r;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.template="editorial",r.prototype.className="editorial-view container",r.prototype.initialize=function(t){return this.current_hacker=t.current_hacker,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.render()},r.prototype.render=function(){var t;return t=function(t){return function(){return t.model.sync_status?$(t.el).html(i.appController.template(t.template,t)({model:t.model.toJSON(),current_hacker:t.current_hacker.toJSON()})):void 0}}(this),i.requires(["MathJax/MathJax"],t),t(),this},r}(window.HR.GenericView),i=null!=(r=window.HR)?r:{},i.EditorialView=t})}.call(this);
//# sourceMappingURL=extra-views-954dc009b3cbd286b9e9d6266873a0af.js.map