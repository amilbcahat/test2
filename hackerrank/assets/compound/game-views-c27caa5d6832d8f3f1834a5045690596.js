(function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="show-game",o.prototype.className="show-game-view container",o.prototype.initialize=function(){return this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render)},o.prototype.render=function(){return this.gameset=new t.GameSetModel,this.contest_slug&&(this.gameset.contest_slug=this.contest_slug),this.gameset.add(this.model),this.has_template?(this.applyTemplate(),this.renderGameView()):t.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.applyTemplate(),this.renderGameView()},this),this},o.prototype.applyTemplate=function(){return!this.rendered&&this._template&&this.model.sync_status?($(this.el).html(this._template({model:this.gameset.game_collection.models[0].toJSON()})),this.rendered=!0):void 0},o.prototype.renderGameView=function(){var e;return e=this,t.requires(["compound/game-views"],function(r){return function(){var o;return o=new t.GameContainerView({collection:e.gameset.getGameCollection(),gameset:e.gameset,contest_slug:r.contest_slug}),o.setElement(e.$(".game-container-wrapper")).render(),e.add_subview(o)}}(this))},o}(window.HR.GenericView),t=null!=(o=window.HR)?o:{},t.ShowGameView=r})}).call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="game-container",o.prototype.className="game-container-view",o.prototype.events={"click .close":"closeContainer","click a#play":"playGame","click a#pause":"pauseGame","click a#step-forward":"stepForward","click a#step-backward":"stepBackward","click a#stop":"stopGame","click a[data-toggle=tab_]":"shiftTab"},o.prototype.initialize=function(t){return this.collection||(this.collection=new r.GameCollection),t.contest_slug&&(this.contest_slug=t.contest_slug),this.collection.bind("reset",this.render,this),this.collection.bind("change",this.addNewGameTab,this),this.collection.bind("add",this.addNewGameTab,this),this.gameset=t.gameset,this.initialize_instance_variables()},o.prototype.initialize_instance_variables=function(){return this.tab_id=0,this.viewCleanup(),this.killTimer()},o.prototype.viewCleanup=function(){return this.$("button#stop").click(),this.unSetInfoMessage(),this.clearMoves()},o.prototype.killTimer=function(){return r.gameTimer?window.clearTimeout(r.gameTimer):void 0},o.prototype.render=function(){return this.has_template?(this.applyTemplate(),this.addNewGameTab()):r.appController.getTemplate(this.template,function(t){return this._template=t,this.has_template=!0,this.applyTemplate(),this.addNewGameTab()},this),$(this.el).fadeIn(),this},o.prototype.applyTemplate=function(){return!this.rendered&&this._template?($(this.el).html(this._template()),this.rendered=!0,this.render()):void 0},o.prototype.addNewGameTab=function(){return this.rendered?(_.each(this.collection.models,function(t){var e;return e=t.get("id"),this.$(".nav-tabs").length>0?t.get("message")?this.addTab(e):this.addFakeTab(e):void 0},this),this.loadFirstGame()):void 0},o.prototype.loadFirstGame=function(){var t,e,r,o,i;return this.collection.models.length>0&&(r=_.filter(this.collection.models,function(t){return t.get("message")}),r.length>0)?(e=r[0],t=e.get("id"),i=e.toJSON(),this.$(".nav-tabs li[game-id="+t+"]").length>0&&(this.$(".nav-tabs li[game-id="+t+"] a").click(),o=this,setTimeout(function(){return 0===o.$(".js-tab-content").html().length?o.loadFirstGame():void 0},300)),null===i.moves&&null===i.message?this.hideControls():this.showControls()):void 0},o.prototype.setDownloadLink=function(){var t;return t=this,this.game_view?(this.$("p.download-wrap").show(),this.$("p.download-wrap a.download").attr("href",this.game_view.getMovesDownloadLink(t.gameset))):void 0},o.prototype.setSocialComponent=function(){var t,e;return this.gameset?(e=this.gameset.toJSON(),t=this,this.$(".fb-share").unbind("click").bind("click",function(e){var r,o,i,a,n,s;return i=t.getPermalink(),e.preventDefault(),s=600,r=350,o=screen.width/2-s/2,a=screen.height/2-r/2,n="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href),window.open(n,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+r+", top="+a+", left="+o),window.focus()}),this.$(".tweet").unbind("click").bind("click",function(e){var r,o,i,a,n,s,l,p,c,h;return a=t.getPermalink(),e.preventDefault(),h=600,o=350,i=screen.width/2-h/2,p=screen.height/2-o/2,n=t.getPlayerUsername(1),s=t.getPlayerUsername(2),r=t.gameset.game_collection.models[0].attributes.challenge_name,l="Check out "+r+" between @"+n+" and @"+s+" on @hackerrank "+a,c="https://twitter.com/intent/tweet?text="+encodeURIComponent(l),window.open(c,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+h+", height="+o+", top="+p+", left="+i),window.focus()}),this.$(".permalink").unbind("click").attr("href",t.getPermalink())):this.$("ul.social-component").hide()},o.prototype.getPermalink=function(){return this.gameset&&this.game_view&&this.game_view.model?""+document.location.protocol+"//"+document.location.host+"/showgame/"+this.model.get("id"):void 0},o.prototype.getPlayerUsername=function(t){return this.gameset?this.model.attributes.actors[t-1].hacker_username:void 0},o.prototype.closeContainer=function(t){return null==t&&(t=null),t&&t.preventDefault(),$(this.el).hide(),this.initialize_instance_variables()},o.prototype.playGame=function(t){return t.preventDefault(),this.game_view&&this.game_view.playGame(t),!1},o.prototype.pauseGame=function(t){return t.preventDefault(),this.game_view&&this.game_view.pauseGame(t),!1},o.prototype.stepForward=function(t){return t.preventDefault(),this.game_view&&this.game_view.stepForward(t),!1},o.prototype.stepBackward=function(t){return t.preventDefault(),this.game_view&&this.game_view.stepBackward(t),!1},o.prototype.stopGame=function(t){return t.preventDefault(),this.game_view&&this.game_view.stopGame(t),!1},o.prototype.getCurrentTabId=function(){return parseInt($(this.el).find(".nav-tabs li.active a").attr("data-player"))},o.prototype.setInfoMessage=function(t){return this.$(".game-info-message").html(t)},o.prototype.unSetInfoMessage=function(){return this.$(".game-info-message").html("")},o.prototype.clearMoves=function(){return this.move_views={},this.$("#game-moves").html("")},o.prototype.hideControls=function(){return $(this.el).find("div.controls").hide(),this.$("p.download-wrap").hide(),this.$("ul.social-component").hide()},o.prototype.showControls=function(){return $(this.el).find("div.controls").show(),this.$("p.download-wrap").attr("href")&&this.$("p.download-wrap").show(),this.$("ul.social-component").show()},o.prototype.addMove=function(t){var e;return e=t.step,this.move_views||(this.move_views={}),this.move_views[e]||(this.move_views[e]=new r.GameMovesView({template:this.$("#moves-template").html()}),0===this.$("#game-moves #game-moves-"+e).length&&this.$("#game-moves").append("<div class='game-moves-wrap' id='game-moves-"+e+"'></div>"),this.move_views[e].setElement(this.$("#game-moves #game-moves-"+e)).render(),this.add_subview(this.move_views[e])),this.move_views[e].addData(t)},o.prototype.addTabHTML=function(t){var e;return 0===this.$(".nav-tabs li[game-id="+t+"]").length?(this.tab_id+=1,e=this.tab_id,this.$(".nav-tabs").append("<li game-id='"+t+"'></li>")):e=parseInt(this.$(".nav-tabs li[game-id="+t+"]").attr("tab-id")),e},o.prototype.addFakeTab=function(t){var e,r,o;return o=this.addTabHTML(t),r=this.$(".nav-tabs li[game-id="+t+"]"),r.attr("data-status","wait"),r.attr("tab-id",o),r.html("<a class='cursor playertab'></a>"),e=r.find("a"),e.html("<i class='icon-time' class='time-wait-icon'></i>Game "+o)},o.prototype.addTab=function(t){var e,r,o;return o=this.addTabHTML(t),r=this.$(".nav-tabs li[game-id="+t+"]"),r.attr("data-status","ready"),r.attr("tab-id",o),r.html("<a class='cursor playertab'></a>"),e=r.find("a"),e.attr("data-toggle","tab_"),e.html("Game "+o)},o.prototype.renderTab=function(t,e){return this.model=this.collection.get(t),this.game_view=new r.GameView({model:this.model,parent:this}),this.setSocialComponent(),this.setDownloadLink(),this.$(".js-tab-content").html("<div class='content game-tab'><div id='game-grid-"+e+"' class='clearfix' style='clear: both;'></div></div>"),this.game_view.setElement(this.$("#game-grid-"+e)).render(),this.add_subview(this.game_view),$(this.el).find("div.controls").show(),$(this.el).find(".js-tab-content").show(),$(this.el).find("div.waiting").hide(),$(this.el).find(".js-tab-content div.content").addClass("active")},o.prototype.shiftTab=function(t){return t.preventDefault(),$(t.currentTarget).parent().hasClass("active")?void 0:($(t.currentTarget).parent().parent().find("li").removeClass("active"),$(t.currentTarget).parent().addClass("active"),this.$(".js-tab-content .content").unbind().die().remove(),this.$(".js-tab-content").html(r.appController.viewLoader(64)),this.renderTab(parseInt($(t.currentTarget).parent().attr("game-id")),parseInt($(t.currentTarget).parent().attr("tab-id"))))},o}(window.HR.GenericView),r=null!=(o=window.HR)?o:{},r.GameContainerView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="<div class='players'></div> <div class='animation'></div>",o.prototype.className="game-view",o.prototype.default_timeout=600,o.prototype.default_player_count=2,o.prototype.default_steps=1,o.prototype.initialize=function(t){var e,o;if(this.parent=t.parent,this.timeout=600,this.pause=!1,this.move=0,this.semaphore=0,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),this.bind("fetched-json-data",this.render),r.gameTimer&&clearTimeout(r.gameTimer),o=this.model.get("codechecker_stdin")?"codechecker_":"","string"==typeof this.model.get(""+o+"stdin"))try{this.codechecker_stdin=$.parseJSON(this.model.get(""+o+"stdin")),this.codechecker_stdout=$.parseJSON(this.model.get(""+o+"stdout")),this.codechecker_stderr=$.parseJSON(this.model.get(""+o+"stderr")),this.codechecker_moves=$.parseJSON(this.model.get("moves")),this.trigger("fetched-json-data")}catch(i){e=i,this.semaphore=4,this.getJSON(this.model.get(""+o+"stdin"),"codechecker_stdin"),this.getJSON(this.model.get(""+o+"stdout"),"codechecker_stdout"),this.getJSON(this.model.get(""+o+"stderr"),"codechecker_stderr"),this.getJSON(this.model.get("moves"),"codechecker_moves")}else this.codechecker_stdin=this.model.get(""+o+"stdin"),this.codechecker_stdout=this.model.get(""+o+"stdout"),this.codechecker_stderr=this.model.get(""+o+"stderr"),this.codechecker_moves=$.parseJSON(this.model.get("moves")),this.trigger("fetched-json-data");return this.player="1"},o.prototype.render=function(){var t;return this.semaphore>0?this:(this.subview||(t=this.getSubView(),this.timeout=this.getTimeout(),this.backMoveFromSubView=this.getBackMove(),this.subview=new t({model:this.model,parent:this}),this.add_subview(this.subview)),this.playersview||(this.playersview=new r.GamePlayersView({model:this.model,parent:this}),this.add_subview(this.playersview)),0===$(this.el).find(".animation").length&&$(this.el).html(this.template),this.playersview.setElement($($(this.el).find(".players"))).render(),this.subview.setElement($($(this.el).find(".animation"))).render(),this.delegateEvents(),this)},o.prototype.getSteps=function(){return this.custom_steps()[this.model.get("codechecker_handle")]||this.default_steps},o.prototype.getJSON=function(t,e){var r;return r=this,$.getJSON(t,function(o){var i;return r[e]=o.payload,i=function(o){return o.next?(r.semaphore+=1,$.getJSON("https://"+t.split("/")[2]+"/"+o.next,function(t){return r[e]=r[e].concat(t.payload),r.semaphore-=1,i(t)})):void 0},i(o),r.semaphore-=1,0===r.semaphore?(r.correct_moves(),r.trigger("fetched-json-data")):void 0})},o.prototype.stepForward=function(){return this.pauseGame(),this.playMove(this.move,this.moves,"forward"),this},o.prototype.stepBackward=function(){var t,e;return this.pauseGame(),this.backMoveFromSubView?this.move>this.getSteps()&&(this.move=this.move-this.getSteps(),this.playMove(this.move-this.getSteps(),this.moves,"backward")):(this.render(),this.pauseGame(),t=this.timeout,this.timeout=0,this.moveuntil=this.move-this.getSteps(),e=this.moveuntil>0?0:0-this.getSteps(),this.playMove(e,this.moves,"backward"),this.timeout=t),this},o.prototype.pauseGame=function(){return this.pause=!0,this.parent.$("#pause").hide(),this.parent.$("#play").show(),this},o.prototype.stopGame=function(){return this.move=0,this.pauseGame(),this.render(),this.pauseGame(),this.parent.clearMoves(),this.parent.unSetInfoMessage(),_.isFunction(this.subview.stopGame)&&this.subview.stopGame(),this},o.prototype.playGame=function(){var t,e;return this.pause=!1,this.parent.$("#pause").show(),this.parent.$("#play").hide(),e=this,this.endGame&&(this.parent.$("a#stop").click(),e=this,setTimeout(function(){return e.endGame=!1,e.parent.$("a#play").click()},300)),t=this.move?this.move:0,this.playMove(t,this.model),r.gameTimer=setTimeout(function(){var r;return r=e.move,t=r?r+e.getSteps():0,e.playMove(t,e.model)},e.timeout)},o.prototype.playMove=function(t,e,o){var i,a;return null==o&&(o=""),r.gameTimer&&window.clearTimeout(r.gameTimer),this.pause===!0&&""===o?this:(a=this,this.move=t,e?this.moves=e:(this.moves=a.model,e=this.moves),_.isObject(e.get("moves"))?e=e.get("moves"):(e=this.codechecker_moves,e||(e=[])),i=739,this.model.get("challenge_id")===i&&(e=this.correct_solitaire_moves(e)),this.move>=e.length?(this.setInfoMessage(),this.parent.$("#pause").hide(),this.parent.$("#play").show(),this.endGame=!0,!1):(this.focusMove(this.move),this.subview.playMove(this.move,e),this.move=this.move+this.getSteps(),"backward"===o&&this.moveuntil>this.move?(this.backMoveFromSubView||(r.gameTimer=setTimeout(function(){return a.playMove(a.move,a.moves,"backward")},0)),this):(""===o&&(r.gameTimer=setTimeout(function(){return a.playMove(a.move,a.moves)},a.timeout)),this)))},o.prototype.setInfoMessage=function(){var t,e,r,o,i,a,n;if(e=this.model.get("message"),this.model.get("compile_and_test")&&-2!==this.model.get("result")&&this.custom_player_count()[this.model.get("codechecker_handle")]&&(e+=" Go ahead and <a href='#'' class='submit-code'>submit your code</a>",$(".game-container").find("a.submit-code").live("click",this.submitCode)),e=e.split("<br/>").join("\\n"),e=e.split("<br />").join("\\n"),e=e.split("\n\n").join("\\n"),o=e.split("\\n"),e="",o.length>0)for(t=a=0,n=o.length;n>=0?n>a:a>n;t=n>=0?++a:--a)i=o[t],r=i.indexOf("solution"),0>r&&(r=0),i=i.substring(r),e=e+i+"<br/>";return this.parent.setInfoMessage(e)},o.prototype.unSetInfoMessage=function(){return _.isFunction(this.parent.unSetInfoMessage)?this.parent.unSetInfoMessage():void 0},o.prototype.getMovesDownloadLink=function(t){var e,r;return t?(e=this.model.get("id"),r="gamemoves"):(e=this.model.get("token"),r="cntmoves"),""+document.location.protocol+"//"+document.location.host+"/download/"+r+"/"+e},o.prototype.getSubView=function(){var t,e;return e=this.model.get("codechecker_handle"),t=this.template_view()[e],t||(t=r.DefaultGameView,console.error("No GameView found for game handle `"+e+"`")),t},o.prototype.getPlayerCount=function(){var t,e;return t=this.model.get("codechecker_handle"),e=this.custom_player_count()[t]?this.custom_player_count()[t]:this.default_player_count},o.prototype.getTimeout=function(){var t,e;return t=this.model.get("codechecker_handle"),e=this.custom_timeouts()[t],e||this.default_timeout},o.prototype.getBackMove=function(){var t,e;return e=this.model.get("codechecker_handle"),t=this.back_subview()[e],t||!1},o.prototype.focusMove=function(t){var e,r,o,i,a,n,s,l,p;if(0>t)return this.parent.clearMoves(),void 0;for(i=this.getPlayerCount(),this.parent.clearMoves(),p=[],n=s=0,l=this.getSteps()-1;l>=0?l>=s:s>=l;n=l>=0?++s:--s)r=t+n,o=i-(r+1)%i,a=Math.floor(r/i)+1,e={index:r,step:n,player:o,round:a,stdin:this.codechecker_stdin[r]||"",stdout:this.codechecker_stdout[r]||"",stderr:this.codechecker_stderr[r]||""},p.push(this.parent.addMove(e));return p},o.prototype.submitCode=function(t){return t.preventDefault(),$(".code-checker-sub").find("button.submit").trigger("click")},o.prototype.renderMsgIfEmpty=function(){var t;return t=this.model.get("moves"),t&&0!==t.length?void 0:this.setInfoMessage()},o.prototype.template_view=function(){var t;return t={tictactoe:r.TicTacToeView,discretebidding:r.DiscreteBiddingView,domineering:r.DomineeringView,antichess:r.AntiChessView,hip:r.HipView,reversi:r.OthelloView,pipelayer:r.PipelayerView,copsrobber:r.CopsAndRobbersView,conway:r.ConwaysGameOfLifeView,lightsout:r.LightsOutView,tron:r.TronView,tronv2:r.TronV2View,biddingtictactoe:r.BiddingTicTacToeView,prisonerdilemma:r.PrisonerDilemmaView,morrisnine:r.MorrisNineView,botclean:r.BotCleanView,botcleanv2:r.BotCleanV2View,ministertrick:r.MinisterTrickView,botcleanr:r.BotCleanView,zeroandone:r.RealNoLineView,botcleanlarge:r.BotCleanView,mancala6:r.MancalaView,stockprediction:r.StockPredictionView,monopoly:r.MonopolyView,ppeach:r.PPeachView,ppeach2:r.PPeachView,oracle1:r.OracleView,oracle2:r.OracleView,oracle3:r.OracleView,oracle4:r.OracleView,oracle5:r.OracleView,oracle6:r.OracleView,pacman2p:r.PacmanView,pacman1p:r.PacmanView,botjeu:r.BotjeuView,pacmanbfs:r.GraphTraversalView,pacmandfs:r.GraphTraversalView,"pacman-ucs":r.GraphTraversalView,"pacman-astar":r.GraphTraversalView,cram:r.CramView,clickomania:r.ClickOManiaView,clobber:r.ClobberView,"n-puzzle":r.SlidingBlocksView,"tron-many":r.TronGenericView,connect4:r.Connect4View,amazons10:r.AmazonsGameView,uttt:r.UltimateTicTacToeView,hex:r.HexGameView,"peg-solitaire":r.PegSolitaireView,battleship1p:r.BattleshipSinglePlayerView,battleship:r.BattleshipTwoPlayerView,"tron-apple":r.TronAppleView,gomoku:r.GomokuView,snake:r.SnakesOnHackerRank,"maze-escape":r.MazeGame,checkers:r.CheckersView,pennywise:r.PennyWiseView,backgammon:r.BackGammonView,game2048:r.Game2048View,quarto:r.QuartoView,arimaa:r.ArimaaView}},o.prototype.custom_timeouts=function(){var t;return t={reversi:2e3,stockprediction:200,tron:200,tronv2:200,"tron-many":200,oracle1:1e3,oracle2:1e3,oracle3:1e3,oracle4:1e3,oracle5:1e3,oracle6:1e3,botjeu:300,pacman2p:100,pacmandfs:200,pacmanbfs:200,"pacman-ucs":200,"pacman-astar":200,pacman1p:100,amazons10:1200,uttt:1200,snake:300}},o.prototype.custom_steps=function(){var t;return t={prisonerdilemma:2,discretebidding:2,copsrobber:2}},o.prototype.custom_player_count=function(){var t;return t={botclean:1,botcleanr:1,botcleanv2:1,botcleanlarge:1,ministertrick:1,stockprediction:1,ppeach:1,ppeach2:1,oracle1:1,oracle2:1,oracle3:1,oracle4:1,oracle5:1,oracle6:1,pacman1p:1,pacmandfs:1,pacmanbfs:1,"pacman-ucs":1,"pacman-astar":1,clickomania:1,"n-puzzle":1,battleship1p:1,"cow-and-bull":1,game2048:1,"peg-solitaire":1}},o.prototype.back_subview=function(){var t;return t={biddingtictactoe:!0,morrisnine:!0,botclean:!0,botcleanr:!0,botcleanv2:!0,botcleanlarge:!0,ministertrick:!0,ppeach:!0,ppeach2:!0,oracle1:!0,oracle2:!0,oracle3:!0,oracle4:!0,oracle5:!0,oracle6:!0,botjeu:!0,backgammon:!0,game2048:!0,pacmandfs:!0,pacmanbfs:!0,"pacman-ucs":!0,"pacman-astar":!0,battleship1p:!0,battleship:!0,"n-puzzle":!0,discretebidding:!0,clickomania:!0,domineering:!0,mancala6:!0,tictactoe:!0,tron:!0,pipelayer:!0,hip:!0,copsrobber:!0,lightsout:!0,conway:!0,checkers:!0,"maze-escape":!0,antichess:!0,reversi:!0,quarto:!0,arimaa:!0}},o.prototype.correct_moves=function(){var t,e,r,o,i,a,n,s,l,p,c,h,d,u,m,f;if(i=[459,460,536,537],t=this.model.get("challenge_id"),-1!==i.indexOf(t)){if(o=this.codechecker_moves,c=this.codechecker_stdin,h=this.codechecker_stdout,p=this.codechecker_stderr,void 0===o[0])return;if("CODECHECKER_INVALID_MOVE_ERROR"===o[0])return;for(r=[],r=o[0].split(":"),e=[],e[0]=""+r[0]+","+r[1],l=[],l=r[2].split(","),d=0,m=l.length;m>d;d++)s=l[d],e.push("SEARCH "+s),c.push(c[0]),h.push(h[0]),p.push(p[0]);for(n=[],n=r[3].split(","),u=0,f=n.length;f>u;u++)a=n[u],e.push("GO "+a),c.push(c[0]),h.push(h[0]),p.push(p[0]);return this.codechecker_moves=e,this.codechecker_stdin=c,this.codechecker_stdout=h,this.codechecker_stderr=p}},o.prototype.correct_solitaire_moves=function(t){var e,r,o,i,a,n,s,l,p,c,h,d;if(n=739,e=this.model.get("challenge_id"),0===t.length)return[];if(parseInt(e)===n){for(l=this.codechecker_stdin,p=this.codechecker_stdout,s=this.codechecker_stderr,a=[],a=t[0].split(","),r=[],o=a[0].split(":"),r[0]=""+o[0]+":"+o[1],r[1]=""+o[2],l.push(l[0]),p.push(p[0]),s.push(s[0]),d=a.slice(1),c=0,h=d.length;h>c;c++)i=d[c],r.push(i),l.push(l[0]),p.push(p[0]),s.push(s[0]);t=r,this.codechecker_stdin=l,this.codechecker_stdout=p,this.codechecker_stderr=s}return t},o}(window.HR.GenericView),r=null!=(o=window.HR)?o:{},r.GameView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.initialize=function(t){return null==t&&(t={}),this.parent=t.parent,this.model.bind("reset",this.render,this),this.hackers={}},o.prototype.render=function(){var t,e,o,i,a;return t=r.profile(),a=this.parent.getPlayerCount(),e=1,o=[],_.each(this.model.get("actors"),function(t,e){return o[e]=t}),i="<table style='margin:auto;'><tbody>",i+="<tr class='trophy'>",_.each(o,function(t,e){var r;return r="<td hacker-id='"+t.hacker_id+"'></td>",2===t.state&&(r="<td hacker-id='"+t.hacker_id+"' style='height: 0px; position: relative;'><img style='position: absolute; top: 0; left: 0;' src='/assets/trophy.png' alt='winner' class='trophy'></td>"),i+=r,e+1!==a?i+="<td></td>":void 0},this),i+="</tr>",i+="<tr class='avatar'>",_.each(o,function(t,e){return i+="<td hacker-id='"+t.hacker_id+"' style='text-align: center; padding: 0 10px;'><img src='"+t.hacker_avatar+"' height='30' width='30' class='circle'></td>",e+1!==a?i+="<td style='padding: 0 10px;'><i>vs</i></td>":void 0},this),i+="</tr>",i+="<tr class='avatar text-center'>",_.each(o,function(t,e){return i+="<td hacker-id='"+t.hacker_id+"'>"+t.hacker_username+"</td>",e+1!==a?i+="<td></td>":void 0},this),i+="</tr>",i+="</tbody></table>",$(this.el).html(i),this},o}(window.HR.GenericView),r=null!=(o=window.HR)?o:{},r.GamePlayersView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.initialize=function(t){return this.template=t.template},r.prototype.render=function(){return $(this.el).html(_.template(this.template)()),this.setRestrictorDims(),this},r.prototype.addData=function(t){var e;return e=this.$(".game-moves").show().find("tbody"),e.find(".move").html(t.index+1),e.find(".round").html(t.round),e.find(".player").html(t.player),e.find(".stdin").html(_.escape(t.stdin)),e.find(".stdout").html(_.escape(t.stdout)),e.find(".stderr").html(_.escape(t.stderr)),this.setRestrictorDims()},r.prototype.setRestrictorDims=function(){return $(this.el).find(".game-moves").length>0?this.$(".restrictor").css("width",Math.round(.48*$(this.el).find(".game-moves").width())):void 0},r}(window.HR.GenericView),r=null!=(o=window.HR)?o:{},r.GameMovesView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="gamecontainer",o.prototype.className="game-template-view",o.prototype.events={"click a.playertab":"changeGame","click a.close-container":"closeContainer"},o.prototype.initialize=function(){return $("a.playertab").bind("click",this.changeGame)},o.prototype.changeGame=function(t){return t.preventDefault(),$(".icon-stop").click(),$("a#stop").click()},o.prototype.closeContainer=function(t){return t.preventDefault(),r.gameTimer&&window.clearTimeout(r.gameTimer),$(".game-container").parent().html("")},o.prototype.setCallback=function(t){this.clbk=t},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)),this.clbk&&this.clbk($(this.el)),this},o}(window.HR.GenericView),r=null!=(o=window.HR)?o:{},r.GameTemplateView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/amazons",o.prototype.className="amazons-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return c=e[t].split(":"),l=c[0].split(" "),d=l[0],s=l[1],n=c[1],h=c[2].split(","),o=c[3].split(" "),i=o[1],a=o[0],u=c[4],r=$('<img src="/static/games/arrow.png">'),0===t?(this.grid=$('<div class="game-grid" \\>'),_.times(d,function(t){return function(e){var r;return r=$('<div class="span450" \\>'),_.times(s,function(t){var o;return o="square-cross",(e+t)%2===1&&(o="square-criss"),r.append($('<div data-x="'+t+'" data-y="'+e+'" class="span45 '+o+'" \\>'))}),t.grid.append(r)}}(this)),this.$(".game-grid-wrapper").html(this.grid),_.each(h,function(t){return function(e,r){var o,i,a,n,s,l;return l=e.split(" "),n=l[1],s=l[0],a=4>r?"/static/games/white-queen.png":"/static/games/black-queen.png",i=$('<img src="'+a+'" data-queen="'+r+'" >'),o=t.$("[data-x="+n+"][data-y="+s+"]").position(),t.$(".game-grid").append(i),t.$(i).css({position:"absolute",left:o.left,top:o.top})}}(this)),p=this.$("[data-x="+i+"][data-y="+a+"]").position(),m=this.$("[data-queen="+u+"]").position(),r.css({left:m.left,top:m.top,position:"absolute",opacity:0}),this.$(".game-grid").append(r),r.animate({left:p.left,top:p.top,opacity:1})):_.each(h,function(t){return function(e,o){var n,s,l,c,h;return h=e.split(" "),l=h[1],c=h[0],s=t.$('[data-queen="'+o+'"]'),n=t.$("[data-x="+l+"][data-y="+c+"]").position(),s.animate({position:"absolute",left:n.left,top:n.top},{complete:function(){return p=t.$("[data-x="+i+"][data-y="+a+"]").position(),m=t.$("[data-queen="+u+"]").position(),r.css({left:m.left,top:m.top,position:"absolute",opacity:0}),t.$(".game-grid").append(r),r.animate({left:p.left,top:p.top,opacity:1})}})}}(this)),this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.AmazonsGameView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/antichess",o.prototype.className="antichess-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0,this.stdin=this.parent.codechecker_stdin},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c;return s=[8,7,6,5,4,3,2,1],r=["a","b","c","d","e","f","g","h"],t<this.current_move&&this.parent.unSetInfoMessage(),void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(0===t&&(this.chessBoard=new ChessBoard("chess-board-wrapper"),this.chessBoard.start()),s=this.stdin[t].split("\n").join("/").split(".").join("1").slice(2,-1),this.chessBoard.position(s),c=e[t].split(" "),a=c[0],n=c[1],l=c[2],p=c[3],i=c[4],o=""+r[n]+s[a]+"-"+r[p]+s[l],this.chessBoard.move(o),this.current_move=t,this):void 0},o.prototype.stopGame=function(){return this.parent.unSetInfoMessage(),this.current_move=0},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.AntiChessView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/arimaa",o.prototype.className="arimaa-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.arimaaToChess=function(t){var e,r,o,i,a,n;for(o={e:"k",E:"K",m:"q",M:"Q",h:"r",H:"R",d:"b",D:"B",c:"n",C:"N",r:"p",R:"P",".":"1"},i="",r=a=0,n=t.length;n>a;r=++a)e=t[r],i+=o[e],r%8===7&&(i+="/");return i.slice(0,-1)},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u;if(c=[8,7,6,5,4,3,2,1],o=["a","b","c","d","e","f","g","h"],t<this.current_move&&this.parent.unSetInfoMessage(),void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(r={pieceTheme:"static/games/arimaa/{piece}.png"},0===t&&(this.chessBoard=new ChessBoard("chess-board-wrapper",r)),2===t||this.current_move>t)this.parent.unSetInfoMessage(),c=e[t].split(":")[1],c=this.arimaaToChess(c),this.chessBoard.position(c);else{if(s=e[t].split(":"),p=s[2])for(n=u=1;p>=1?p>=u:u>=p;n=p>=1?++u:--u)l=s[2+n].split(" "),h=c[l[0]],d=o[l[1]],i=c[l[2]],a=o[l[3]],this.chessBoard.move(""+d+h+"-"+a+i),-1!==l[4]&&(h=c[l[4]],d=o[l[5]],i=c[l[6]],a=o[l[7]],this.chessBoard.move(""+d+h+"-"+a+i));c=e[t].split(":")[1],c=this.arimaaToChess(c),this.chessBoard.position(c)}return this.current_move=t,this}},o.prototype.stopGame=function(){return this.parent.unSetInfoMessage(),this.current_move=0,this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.ArimaaView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/backgammon",o.prototype.className="tictactoe-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w,_,b,C;for(p=e[t],i=p.split(":"),$(this.el).find(".game-grid").find(".player1, .player2").removeClass("active"),$(this.el).find(".game-grid").find(".player"+i[0]).addClass("active"),l=[],l[0]=[],l[1]=[],t=u=0;12>=u;t=++u)"0"===i[t+14]?l[0][t]={player:"",count:0}:(h=i[t+14].split(" "),l[0][t]={player:h[1],count:parseInt(h[0])});for(t=m=0;12>=m;t=++m)"0"===i[13-t]?l[1][t]={player:"",count:0}:(h=i[13-t].split(" "),l[1][t]={player:h[1],count:parseInt(h[0])});for(t=f=0;1>=f;t=++f)for(n=g=0;12>=g;n=++g){if(d=l[t][n],o="",$(this.el).find(".game-grid").find("td."+t+"-"+n).html(""),d.count>0)for(s=y=1,b=d.count;b>=1?b>=y:y>=b;s=b>=1?++y:--y){if(s>=5){0===t?o+="<div class='coin c"+d.player+"'>"+d.count+"</div>":o="<div class='coin c"+d.player+"'>"+d.count+"</div>"+o;break}o+="<div class='coin c"+d.player+"'></div>"}$(this.el).find(".game-grid").find("td."+t+"-"+n).html(o)}for(r=[],r[0]=parseInt(i[27]),r[1]=parseInt(i[28]),t=v=0;1>=v;t=++v)if($(this.el).find(".game-grid").find("td.bar-"+t).html(""),r[t]>0){for(s=w=1,C=r[t];C>=1?C>=w:w>=C;s=C>=1?++w:--w){if(o="",s>=5){0===t?o+="<div class='coin c"+(t+1)+"'>"+r[t]+"</div>":o="<div class='coin c"+(t+1)+"'>"+r[t]+"</div>"+o;
break}o+="<div class='coin c"+(t+1)+"'></div>"}$(this.el).find(".game-grid").find("td.bar-"+t).html(o)}for(a=parseInt(i[29]),o="",$(this.el).find(".game-grid").find(".dice td").html(""),t=_=1;a>=1?a>=_:_>=a;t=a>=1?++_:--_)c=parseInt(i[29+t]),o+="<div class='dice_coin n"+c+"'></div>";$(this.el).find(".game-grid").find(".dice td").html(o),void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"===e[t]},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BackGammonView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/battleship-1p",o.prototype.className="battleship-1p-view",o.prototype.initialize=function(){return this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON(),rows:10,columns:10})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return 0===t?(s=this.$(".battleship-col-fire"),s.removeClass("battleship-col-fire"),n=e[t].split(":"),l=n.slice(1),_.each(l,function(t){return function(e){var r,o,i,a;return r=_.map(e.split(","),function(t){return[t.split(" ")[0],t.split(" ")[1]]}),a=!1,o="<img src='/static/games/ship"+r.length+".png'>",r.length>1&&r[0][1]===r[1][1]&&(o="<img class='battleship-vertical' src='/static/games/ship"+r.length+".png'>",a=!0),_.each(r,function(t){return this.$("[data-row="+t[0]+"][data-column="+t[1]+"]").addClass("battleship-col-hit")}),i=_.reduce(r,function(t,e){var r;return r=a?0:1,e[r]<t[r]?e:t},r[0]),t.$("[data-row="+i[0]+"][data-column="+i[1]+"]").html(o).addClass("battleship-ship-init")}}(this))):t-this.current_move===1?(a="<img src='/static/games/battleship-mine.png' class='battleship-mine'>",c=e[t].split(" "),o=c[0],r=c[1],p=this.$("[data-row="+o+"][data-column="+r+"]"),p.addClass("battleship-col-fire"),p.hasClass("battleship-col-hit")&&p.append(a)):this.current_move-t===1&&(h=e[this.current_move].split(" "),o=h[0],r=h[1],p=this.$("[data-row="+o+"][data-column="+r+"]"),p.removeClass("battleship-col-fire"),i=p.find(".battleship-mine"),i.remove()),this.current_move=t,this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BattleshipSinglePlayerView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/battleship-2p",o.prototype.className="battleship-2p-view",o.prototype.initialize=function(){return this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON(),rows:10,columns:10})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return 2>t?(i=this.$(".battleship-grid-"+t%2),l=this.$(".battleship-col-fire"),l.removeClass("battleship-col-fire"),s=e[t].split(":"),p=s.slice(1),_.each(p,function(){return function(t){var e,r,o,a;return e=_.map(t.split(","),function(t){return[t.split(" ")[0],t.split(" ")[1]]}),a=!1,r="<img src='/static/games/ship"+e.length+".png'>",e.length>1&&e[0][1]===e[1][1]&&(r="<img class='battleship-vertical' src='/static/games/ship"+e.length+".png'>",a=!0),_.each(e,function(t){return i.find("[data-row="+t[0]+"][data-column="+t[1]+"]").addClass("battleship-col-hit")}),o=_.reduce(e,function(t,e){var r;return r=a?0:1,e[r]<t[r]?e:t},e[0]),i.find("[data-row="+o[0]+"][data-column="+o[1]+"]").html(r).addClass("battleship-ship-init")}}(this))):t-this.current_move===1?(i=this.$(".battleship-grid-"+(t+1)%2),n="<img src='/static/games/battleship-mine.png' class='battleship-mine'>",h=e[t].split(" "),o=h[0],r=h[1],c=i.find("[data-row="+o+"][data-column="+r+"]"),c.addClass("battleship-col-fire"),c.hasClass("battleship-col-hit")&&c.append(n)):this.current_move-t===1&&(i=this.$(".battleship-grid-"+(this.current_move+1)%2),d=e[this.current_move].split(" "),o=d[0],r=d[1],c=i.find("[data-row="+o+"][data-column="+r+"]"),c.removeClass("battleship-col-fire"),a=c.find(".battleship-mine"),a.remove()),this.current_move=t,this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BattleshipTwoPlayerView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/biddingtictactoe",o.prototype.className="biddingtictactoe-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(t<this.current_move&&this.parent.unSetInfoMessage(),this.current_move=t,a=e[t].split(" "),c=a[0],"b1"===c?(s=a[1],n=a[2],p=a[3],l="",r=""):"b2"===c?(p=a[3],l=a[4],r="",s=a[1],n=a[2]):"t"===c&&(s=a[1],n=a[2],p=a[3],l=a[4],r=a[5]),this.$(".player1_balance").html(s),this.$(".player2_balance").html(p),this.$(".player1_bid").html(n),this.$(".player2_bid").html(l),"1"===r?this.$(".player1_bid").html(this.$(".player1_bid").html()+'&nbsp;<img src="/assets/trophy.png" alt="winner" class="trophy" style="top:0px">'):"2"===r&&this.$(".player2_bid").html(this.$(".player2_bid").html()+'&nbsp;<img src="/assets/trophy.png" alt="winner" class="trophy" style="top:0px">'),t=0,h=[];3>t;){for(i=0;3>i;)o=a[6+3*t+i],"_"!==o?this.$("."+t+"-"+i).html(o):this.$("."+t+"-"+i).html("&nbsp;"),i++;h.push(t++)}return h}},o.prototype.stopGame=function(){return this.current_move=0,this.parent.unSetInfoMessage()},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BiddingTicTacToeView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/botclean",o.prototype.className="botclean-view",o.prototype.render=function(){return null!==this.model.toJSON().moves?($(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this):$(this.el).html("The information about this game is hidden. The response from the codechecker is: <br>"+this.model.toJSON().message)},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(a=e[t],o=parseInt(a.substr(0,a.indexOf(" "))),a=a.substr(a.indexOf(" ")+1),$(this.el).find(".game-grid").find("td.cell").removeClass("bot").removeClass("dirty").removeClass("clean").addClass("clean"),c=[];""!==a;)i=a.substr(0,5),a=a.substr(6),n=i.split(" "),l=n[0],p=n[1],s=n[2],r=$(this.el).find(".game-grid").find("td."+l+"-"+p),"b"===s?c.push(r.addClass("bot")):"c"===s?c.push(r.removeClass("clean").addClass("dirty bot")):"d"===s?c.push(r.removeClass("clean").addClass("dirty")):c.push(void 0);return c}},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BotCleanView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/botcleanv2",o.prototype.className="botcleanv2-view",o.prototype.render=function(){return null!==this.model.toJSON().moves?($(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this):$(this.el).html("The information about this game is hidden. The response from the codechecker is: <br>"+this.model.toJSON().message)},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(a=e[t],o=parseInt(a.substr(0,a.indexOf(" "))),a=a.substr(a.indexOf(" ")+1),$(this.el).find(".game-grid").find("td.cell").removeClass("bot").removeClass("dirty").removeClass("clean"),c=[];""!==a;)i=a.substr(0,5),a=a.substr(6),n=i.split(" "),l=n[0],p=n[1],s=n[2],r=$(this.el).find(".game-grid").find("td."+l+"-"+p),"b"===s?c.push(r.addClass("clean bot")):"-"===s?c.push(r.addClass("clean")):"c"===s?c.push(r.addClass("dirty bot")):"d"===s?c.push(r.addClass("dirty")):c.push(void 0);return c}},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BotCleanV2View=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/botjeu",o.prototype.className="botjeu-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(" "),this.$(".bot").removeClass("bot"),this.$(".mine").removeClass("mine"),this.$(".game-grid").find("td."+r[0]+"-"+r[1]).addClass("bot").removeClass("mine"),this.$(".game-grid").find("td."+r[2]+"-"+r[3]).addClass("mine").removeClass("bot"),this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.BotjeuView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/checkers",o.prototype.className="checkers-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){return void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(this.rows=e[t].split("\n"),t<this.current_move&&this.parent.unSetInfoMessage(),this.clearGrid(),this.current_move=t,this):void 0},o.prototype.clearGrid=function(){var t,e,r,o,i,a;for(a=[],r=i=0;7>=i;r=++i)a.push(function(){var i,a;for(a=[],t=i=0;7>=i;t=++i){switch(e=this.$("#"+r+"-"+t),o="empty-block",this.rows[r][t]){case"b":o="black-block";break;case"w":o="white-block";break;case"B":o="doubleblack-block";break;case"W":o="doublewhite-block";break;default:o="empty-block"}a.push(e.html("<div class='"+o+"'></div>"))}return a}.call(this));return a},o.prototype.stopGame=function(){return this.current_move=0,this.parent.unSetInfoMessage()},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.CheckersView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/clickomania",o.prototype.className="clickomania-view",o.prototype.render=function(){return null!==this.model.toJSON().moves?($(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this):this.model.toJSON().score>0?$(this.el).html("The information about this game is hidden. You scored "+this.model.toJSON().score+" points on this test case."):$(this.el).html(this.model.get("message"))},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.cmania_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.cmania_grid[r*this.columns+t]){case"-":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"V":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='violet-block'></td>";break;case"I":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='indigo-block'></td>";break;case"B":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='blue-block'></td>";break;case"G":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='green-block'></td>";break;case"Y":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='yellow-block'></td>";break;case"O":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='orange-block'></td>";break;case"R":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='red-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".cmania-grid").html(e)},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.ClickOManiaView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/clobber",o.prototype.className="clobber-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.clobber_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.clobber_grid[r*this.columns+t]){case"-":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"W":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='white-block'></td>";break;case"B":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='black-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".clobber-grid").html(e)},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.ClobberView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/connect4",o.prototype.className="connect4-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.connect4_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.connect4_grid[r*this.columns+t]){case"-":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"r":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='red-block'></td>";break;case"y":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='yellow-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".connect4-grid").html(e)},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.Connect4View=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/conwaysgameoflife",o.prototype.className="conwaysgameoflife-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g;if(s={W:"white",B:"black",A:"#ccc"},void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(i=e[t].split(" "),d=i[0],c=e[this.current_move].split(" "),h=c[0],t<this.current_move&&this.parent.unSetInfoMessage(),"I"===d)if(t>=this.current_move)l=i[1],p=i[2],n=i[3],r="#"+l+"-"+p,this.$(r).css("background-color",s[n]);else if("I"===h)l=c[1],p=c[2],r="#"+l+"-"+p,this.$(r).css("background-color",s.A);else for(g=e.slice(0,+t+1||9e9),u=0,f=g.length;f>u;u++)a=g[u],i=a.split(" "),l=i[1],p=i[2],n=i[3],r="#"+l+"-"+p,this.$(r).css("background-color",s.A),this.$(r).css("background-color",s[n]);else for(o=m=0;840>=m;o=++m)l=i[1+3*o],p=i[1+3*o+1],n=i[1+3*o+2],r="#"+l+"-"+p,this.$(r).css("background-color",s[n]);return this.current_move=t,this}},o.prototype.stopGame=function(){return this.current_move=0,this.parent.unSetInfoMessage()},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.ConwaysGameOfLifeView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/copsandrobbers",o.prototype.className="copsandrobbers-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m;if(h={C:"cops",R:"robber"},void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]&&void 0!==e[t+1]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t+1]&&t%2!==1){for(this.current_move>t&&this.parent.unSetInfoMessage(),l=m=0;1>=m;l=++m)if(p=e[t+l].split(" "),c=p[0],"C"===c)r=p[1],o=p[2],i=p[3],a=p[4],n=p[5],s=p[6],this.$(".cops").removeClass("cops"),this.$(".game-grid").find("td."+r+"-"+o).addClass("cops").removeClass("robber"),this.$(".game-grid").find("td."+i+"-"+a).addClass("cops").removeClass("robber"),this.$(".game-grid").find("td."+n+"-"+s).addClass("cops").removeClass("robber");else{if(p[3]&&"done"===p[3]&&"C"===p[4])return $(".robber").removeClass("robber"),this;d=p[1],u=p[2],this.$(".robber").removeClass("robber"),this.$(".game-grid").find("td."+d+"-"+u).addClass("robber").removeClass("cops")}return this.current_move=t,this}},o.prototype.stopGame=function(){return this.current_move=0,this.parent.unSetInfoMessage()},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.CopsAndRobbersView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/cram",o.prototype.className="cram-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.cram_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.cram_grid[r*this.columns+t]){case"*":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col graph-col-solid'></td>";break;case"-":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"B":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='blue-block'></td>";break;case"R":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='red-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".cram-grid").html(e)},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.CramView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/default",o.prototype.className="tictactoe-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(){},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.DefaultGameView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/discretebidding",o.prototype.className="discretebidding-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this.$(".player1_username").html(this.model.attributes.actors[0].hacker_username),this.$(".player2_username").html(this.model.attributes.actors[1].hacker_username),this.$(".playgame-row").hide(),this.$(".translucent").removeClass("translucent"),this.$(".player1_balance").html(100),this.$(".player2_balance").html(100),this.$(".game-message").hide(),this.$(".play-again-button").hide(),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w,_,b,$,C,k,O,R,E,V,I;return 0===t&&(window.discrete_bidding_draw_adv=1),t%2!==1&&void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]&&(t+=1,e[t])?(n=e,r=Math.floor(t/2)+1,this.$(".bid-number").html(r),this.current_move<t?(h=n[t-1],$=n[t]):(h=n[t-1],$=n[t]),p=h?h.split(" ")[0]:0,_=$?$.split(" ")[0]:0,""===p&&(p=0),""===_&&(_=0),p=parseInt(p),_=parseInt(_),y="",V="",c=0,b=0,v=!1,I=!1,l=parseInt(this.$(".player1_balance").html()),w=parseInt(this.$(".player2_balance").html()),p>_?(y='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',c=p,v=!0):_>p?(V='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',b=_,I=!0):p===_&&(1===window.discrete_bidding_draw_adv?(this.current_move<t&&(window.discrete_bidding_draw_adv=2),y='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',c=p,v=!0):(this.current_move<t&&(window.discrete_bidding_draw_adv=1),V='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',b=_,I=!0)),this.current_move<t?(d=l-c,C=w-b):(this.parent.unSetInfoMessage(),m=0,O=0,g=!1,E=!1,f=n[this.current_move-1],R=n[this.current_move],u=f?f.split(" ")[0]:0,k=R?R.split(" ")[0]:0,""===u&&(u=0),""===k&&(k=0),u=parseInt(u),k=parseInt(k),u>k?(m=u,g=!0):k>u?(O=k,E=!0):u===k&&(1===window.discrete_bidding_draw_adv?(window.discrete_bidding_draw_adv=2,O=k,E=!0):(window.discrete_bidding_draw_adv=1,m=u,g=!0)),d=l+m,C=w+O),0>d?(V='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',I=!0,y="",v=!1):0>C&&(y='<span class="win"><img src="/assets/trophy.png" alt="winner"></span>',v=!0,V="",I=!1),this.$(".player1_current_bid").html(""+p+" "+y),this.$(".player2_current_bid").html(""+_+" "+V),i=parseInt(this.$(".bulb.win").attr("data-id")),a=i,this.current_move<t?v?a=i-1:I&&(a=i+1):g?a=i+1:E&&(a=i-1),a!==i&&(s="/assets/bidding-blank.png",o="/assets/bidding-bottle.png",this.$(".bulbs").find("img[data-id="+a+"]").attr("src",o).addClass("win"),this.$(".bulbs").find("img[data-id="+i+"]").attr("src",s).removeClass("win")),this.$(".player1_balance").html(d),this.$(".player2_balance").html(C),0===t&&this.$("table.game-result tbody").html(""),this.$("table.game-result tbody").append("<tr><td class='m'>"+r+"</td><td class='m'>"+p+" "+y+"</td><td class='m'>"+_+" "+V+"</td></tr>"),this.current_move=t,this):void 0},o.prototype.stopGame=function(){return this.current_move=0},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.DiscreteBiddingView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/domineering",o.prototype.className="domineering-view",o.prototype.initialize=function(t){return this.current_move=0,this.parent=t.parent},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p;if("CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return this.current_move<=t?o=e[t]:(this.parent.unSetInfoMessage(),o=e[this.current_move]),i=o.slice(0,o.length-2),n=o.slice(o.length-1),l=this,"1"===n?(p=!0,r="red"):"2"===n&&(p=!1,r="blue"),a=parseInt(i.split(" ")[0]),s=parseInt(i.split(" ")[1]),_.isNaN(a)||_.isNaN(s)||(this.current_move<=t?(l.$("."+a+"-"+s).css("background-color",r),p?l.$("."+(a+1)+"-"+s).css("background-color",r):l.$("."+a+"-"+(s+1)).css("background-color",r)):(l.$("."+a+"-"+s).css("background-color","inherit"),p?l.$("."+(a+1)+"-"+s).css("background-color","inherit"):l.$("."+a+"-"+(s+1)).css("background-color","inherit"))),this.current_move=t,this},o.prototype.stopGame=function(){return this.current_move=0},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.DomineeringView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/game2048",o.prototype.className="game2048-view",o.prototype.initialize=function(t){var e,r,o;for(window.gameView=this,this.vectorArray=[{x:-1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:-1}],this.board=[],this.parent=t.parent,o=[],e=r=1;4>=r;e=++r)o.push(this.board.push([0,0,0,0]));return o},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.getClasses=function(){var t,e,r;for(e="",t=r=1;11>=r;t=++r)e+="tile-"+Math.pow(2,t)+" ";return e},o.prototype.moveTile=function(t,e,r,o){var i;return i=this.$("[data-row="+t+"][data-col="+e+"]"),i.css({left:""+77*o+"px",top:""+80*r+"px"}),i.attr("data-row","-"+r),i.attr("data-col","-"+o)},o.prototype.syncTile=function(t,e){var r;return r="&nbsp;",this.$("[data-row="+t+"][data-col="+e+"]").removeClass(this.getClasses()).html(r).css({left:""+77*e+"px",top:""+80*t+"px"}),this.board[t][e]>0?this.$("[data-row="+t+"][data-col="+e+"]").addClass("tile-"+this.board[t][e]).html(this.board[t][e]):void 0},o.prototype.cleanTiles=function(){var t,e,r,o;for(o=[],t=r=0;3>=r;t=++r)o.push(function(){var r,o;for(o=[],e=r=0;3>=r;e=++r)this.$("[data-row=-"+t+"][data-col=-"+e+"]").attr("data-row",t).attr("data-col",e).removeClass("tile-new"),0===this.board[t][e]?o.push(this.$("[data-row="+t+"][data-col="+e+"]").addClass("tile-new")):o.push(void 0);return o}.call(this));return o},o.prototype.merge=function(t){var e,r,o,i,a,n,s,l,p,c,h,d,u;for(null==t&&(t=0),s=this.vectorArray[t],r=[],o=c=0;3>=c;o=++c)r.push({x:o,y:-1}),r.push({x:o,y:4}),r.push({x:-1,y:o}),r.push({x:4,y:o});for(h=0,u=r.length;u>h;h++)if(e=r[h],l=e.x-s.x,p=e.y-s.y,!(0>l||0>p||l>=4||p>=4))for(i=d=1;3>=d;i=++d)a=l-s.x,n=p-s.y,this.board[l][p]===this.board[a][n]&&this.board[l][p]>0&&(this.moveTile(a,n,l,p),this.board[a][n]=0,this.board[l][p]*=2,this.$("[data-row=-"+l+"][data-col=-"+p+"]").attr("data-row",a).attr("data-col",n),this.syncTile(a,n),this.syncTile(l,p)),l=a,p=n;return this.cleanTiles()},o.prototype.gravity=function(t){var e,r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w;for(null==t&&(t=0),s=this.vectorArray[t],i=Array(16),e=c=0;3>=c;e=++c)for(r=h=0;3>=h;r=++h)if(0!==this.board[e][r]){for(l=e,p=r,a=0;l>=0&&p>=0&&4>l&&4>p;)0!==this.board[l][p]&&(a+=1),l+=s.x,p+=s.y;for(o=d=1;a>=1?a>=d:d>=a;o=a>=1?++d:--d)l-=s.x,p-=s.y;i[4*e+r]={x:l,y:p}}for(this.temp=[],e=u=0;3>=u;e=++u)this.temp.push([0,0,0,0]);for(e=m=0;3>=m;e=++m)for(r=f=0;3>=f;r=++f)n=i[4*e+r],n&&(this.moveTile(e,r,n.x,n.y),this.temp[n.x][n.y]=this.board[e][r]);for(this.board=this.temp,l=g=0;3>=g;l=++g)for(p=y=0;3>=y;p=++y)this.$("[data-row="+l+"][data-col="+p+"]").remove();for(this.cleanTiles(),w=[],l=v=0;3>=v;l=++v)w.push(function(){var t,e;for(e=[],p=t=0;3>=t;p=++t)0===this.$("[data-row="+l+"][data-col="+p+"]").length?(this.$(".tiles-container").append("<div class='game2048-cell' data-row="+l+" data-col="+p+"></div>"),e.push(this.syncTile(l,p))):e.push(void 0);return e}.call(this));return w},o.prototype.parseInput=function(t){var e,r;return e=t.split("\n"),r=[],_.each(e,function(t){return r.push(t.split(" ").map(function(t){return parseInt(t)}))}),r},o.prototype.displayBoard=function(){var t,e,r,o,i;for(i=[],e=o=0;3>=o;e=++o)i.push(function(){var o,i;for(i=[],r=o=0;3>=o;r=++o)t=this.$("[data-row="+e+"][data-col="+r+"]"),t.removeClass(this.getClasses),0!==this.board[e][r]?i.push(t.html(this.board[e][r]).addClass("tile-"+this.board[e][r])):i.push(this.$("[data-row="+e+"][data-col="+r+"]").html("&nbsp;"));return i}.call(this));return i},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return 0===t?(p=this.parseInput(e[0]),this.board=p,this.displayBoard()):this.parent.pause?(p=this.parseInput(this.parent.codechecker_stdin[t]),this.board=p,this.displayBoard()):(o=e[t].split("\n")[0],r=0,"UP"===o?r=0:"RIGHT"===o?r=1:"DOWN"===o?r=2:"LEFT"===o&&(r=3),this.gravity(r),this.merge(r),this.gravity(r),i=e[t].split("\n")[1],i&&(a=parseInt(i.split(" ")[0]),s=Math.floor(a/4),l=a%4,n=parseInt(i.split(" ")[1]),this.board[s][l]=n,this.$("[data-row="+s+"][data-col="+l+"]").removeClass(this.getClasses()).addClass("tile-"+this.board[s][l]+" tile-new").html(this.board[s][l]))),this},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.Game2048View=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/gomoku",o.prototype.className="gomoku-view",o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){return void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(this.grid=e[t],this.clearGrid(),this.columns=this.rows=15,this):void 0
},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.grid[r*this.columns+t]){case".":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"W":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'><div class='white'></div></td>";break;case"B":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'><div class='black'></div></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".game-grid").html(e)},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.GomokuView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,t),o.prototype.template="games/graphtraversal",o.prototype.className="graphtraversal-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(r.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(0===t)this.initBoard(e[0]),this.current_move=0;else if(t-this.current_move===1)h=e[t].split(" "),i=h[0],l=h[1],r=h[2],l=parseInt(l),r=parseInt(r),"SEARCH"===i?this.playMoveSearch(l,r):"GO"===i&&(d=e[t-1].split(" "),s=d[0],n=d[1],a=d[2],n=parseInt(n),a=parseInt(a),"GO"===s?(this.pac_row=l,this.pac_column=r,this.playMoveGo(l,r,n,a)):(this.initBoard(e[0],!0),this.pac_row=l,this.pac_column=r,this.playMoveGo(l,r,null,null))),this.current_move=t;else if(this.current_move-t===1){if(u=e[this.current_move].split(" "),i=u[0],l=u[1],r=u[2],l=parseInt(l),r=parseInt(r),"SEARCH"===i)this.playBackMoveSearch(l,r);else if("GO"===i)if(m=e[t].split(" "),s=m[0],n=m[1],a=m[2],n=parseInt(n),a=parseInt(a),"GO"===s)this.pac_row=n,this.pac_column=a,this.playBackMoveGo(l,r,n,a,t,e);else{if(this.initBoard(e[0]),1!==t)for(f=e.slice(1,+t+1||9e9),p=0,c=f.length;c>p;p++)o=f[p],g=o.split(" "),i=g[0],l=g[1],r=g[2],l=parseInt(l),r=parseInt(r),this.game_grid[l][r]="S";this.drawBoard()}this.current_move=t}return this}},o.prototype.initBoard=function(t){var e,r,o,i,a,n,s,l,p,c,h;for(a=t.split(","),i=[],i=a[0].split(""),p=a[1].split(" "),this.rows=p[0],this.columns=p[1],r=0,this.game_grid=new Array(this.rows),n=s=0,c=this.rows;c>=0?c>s:s>c;n=c>=0?++s:--s){for(o=new Array(this.columns),e=l=0,h=this.columns;h>=0?h>l:l>h;e=h>=0?++l:--l)o[e]=i[r],r+=1;this.game_grid[n]=o}return this.setBoard(),this.drawBoard()},o.prototype.playMoveSearch=function(t,e){return this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pac-search"),this.setFoodPacman()},o.prototype.playBackMoveSearch=function(t,e){return this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").removeClass("pac-search"),this.setFoodPacman},o.prototype.playMoveGo=function(t,e,r,o){return this.$("td[data-gg-row='"+r+"'][data-gg-column='"+o+"']").removeAttr("id"),this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").attr("id","pac-man"),this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pac-go"),this.setFoodPacman(),this.orient(t,e,r,o)},o.prototype.playBackMoveGo=function(t,e,r,o,i,a){var n,s,l,p;return this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").removeClass("pac-go pacright pacleft pacbottom pactop"),this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").removeAttr("id"),this.$("td[data-gg-row='"+r+"'][data-gg-column='"+o+"']").attr("id","pac-man"),this.$("td[data-gg-row='"+r+"'][data-gg-column='"+o+"']").addClass("pac-go"),this.setFoodPacman(),p=a[i-1].split(" "),l=p[0],s=p[1],n=p[2],"GO"===l?(s=parseInt(s),n=parseInt(n)):(s=null,n=null),this.orient(r,o,s,n),$(this.el).css("display","none"),$(this.el).css("display","block")},o.prototype.setBoard=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows;a>=0?a>o:o>a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns;n>=0?n>i:i>n;t=n>=0?++i:--i)e+="<td data-gg-row='"+r+"' data-gg-column='"+t+"'></td>","P"===this.game_grid[r][t]&&(this.pac_row=r,this.pac_column=t),"."===this.game_grid[r][t]&&(this.food_row=r,this.food_column=t);e+="</tr>"}return e+="</table>",this.$(".game-grid").html(e)},o.prototype.drawBoard=function(){var t,e,r,o,i,a,n,s;for(o=i=0,n=this.rows;n>=0?n>i:i>n;o=n>=0?++i:--i)for(e=a=0,s=this.columns;s>=0?s>a:a>s;e=s>=0?++a:--a){switch(t=this.$("td[data-gg-row='"+o+"'][data-gg-column='"+e+"']"),t.removeClass(),t.addClass("graph-col"),t.removeAttr("id"),r="",this.game_grid[o][e]){case"%":r="graph-col-solid";break;case"G":r="pac-go";break;case"S":r="pac-search"}t.addClass(r)}return this.setFoodPacman()},o.prototype.setFoodPacman=function(){return this.$("td[data-gg-row='"+this.food_row+"'][data-gg-column='"+this.food_column+"']").attr("id","pacfood"),this.$("td[data-gg-row='"+this.pac_row+"'][data-gg-column='"+this.pac_column+"']").removeAttr("id"),this.$("td[data-gg-row='"+this.pac_row+"'][data-gg-column='"+this.pac_column+"']").attr("id","pac-man")},o.prototype.orient=function(t,e,r,o){return null!==r&&null!==o?(this.$("td[data-gg-row='"+r+"'][data-gg-column='"+o+"']").removeClass("pacright pacleft pacbottom pactop"),t===r&&e>o?this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pacright"):t===r&&o>e?this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pacleft"):t>r&&e===o?this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pacbottom"):r>t&&e===o?this.$("td[data-gg-row='"+t+"'][data-gg-column='"+e+"']").addClass("pactop"):void 0):void 0},o}(window.HR.GameTemplateView),r=null!=(o=window.HR)?o:{},r.GraphTraversalView=t})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/hex",o.prototype.className="hex-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return i=e[t].split(" "),a=r=i[0],s=i[1],n=i[2],0===t?(this.grid=$("<div class='game-grid' style='width: "+58*r+"px; height: "+37*a+"px;' \\>"),_.times(a,function(t){return function(e){var o;return o=$("<div style='height: 37px; width: "+48*r+"px; margin-top: -2px; margin-left: "+20*e+"px;' \\>"),_.times(r,function(t){return o.append($('<div data-x="'+t+'" data-y="'+e+'" class="spanhex1"><img src=\'/static/games/hex.png\'></div>'))}),t.grid.append(o)}}(this)),this.$(".game-grid-wrapper").html(this.grid),o="/static/games/bluehex.png",this.$('div[data-x="'+n+'"][data-y="'+s+'"]').find("img").attr("src",o)):(o="/static/games/redhex.png",t%2===0&&(o="/static/games/bluehex.png"),this.$('div[data-x="'+n+'"][data-y="'+s+'"]').find("img").attr("src",o)),this},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.HexGameView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/hip",o.prototype.className="hip-view",o.prototype.initialize=function(t){return this.startX=30,this.startY=30,this.radius=8,this.rows=9,this.cols=9,this.offset=25,this.canvasSide=260,this.parent=t.parent},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this.initBoard(),this},o.prototype.clearBoard=function(){var t,e;return t=this.$("#hipCanvas")[0],t?(e=t.getContext("2d"),e.clearRect(0,0,this.canvasSide,this.canvasSide)):void 0},o.prototype.initBoard=function(){var t,e,r,o,i,a,n;if(t=this.$("#hipCanvas")[0]){for(e=t.getContext("2d"),e.fillStyle="#ccc",e.strokeStyle="#ccc",r=0,n=[];r<this.rows;){for(o=0;o<this.cols;)e.beginPath(),i=this.startX+25*o,a=this.startY+25*r,e.arc(i,a,this.radius,0,2*Math.PI),e.stroke(),e.fill(),o++;n.push(r++)}return n}},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m;if(s={1:"r",2:"b"},this.clearBoard(),this.initBoard(),this.current_move>t&&this.parent.unSetInfoMessage(),!(0>t)){for(m=e.slice(0,+t+1||9e9),d=0,u=m.length;u>d;d++){if(a=m[d],void 0===a)return;if("CODECHECKER_INVALID_MOVE_ERROR"===a)return;i=a.split(" "),c=i[0],h=i[1],n=i[2],"r"===n?(r=this.$("#hipCanvas")[0],r&&(o=r.getContext("2d"),o.fillStyle="red",o.strokeStyle="red",o.beginPath(),l=this.startX+25*h,p=this.startY+25*c,o.arc(l,p,this.radius,0,2*Math.PI),o.stroke(),o.fill())):"b"===n&&(r=this.$("#hipCanvas")[0],r&&(o=r.getContext("2d"),o.fillStyle="blue",o.strokeStyle="blue",o.beginPath(),l=this.startX+25*h,p=this.startY+25*c,o.arc(l,p,this.radius,0,2*Math.PI),o.stroke(),o.fill())),i[3]&&(r=this.$("#hipCanvas")[0],o=r.getContext("2d"),o.beginPath(),o.strokeStyle="r"===n?"red":"blue",o.moveTo(30+25*i[5],30+25*i[4]),o.lineTo(30+25*i[7],30+25*i[6]),o.stroke(),o.moveTo(30+25*i[7],30+25*i[6]),o.lineTo(30+25*i[9],30+25*i[8]),o.stroke(),o.moveTo(30+25*i[9],30+25*i[8]),o.lineTo(30+25*i[11],30+25*i[10]),o.stroke(),o.moveTo(30+25*i[11],30+25*i[10]),o.lineTo(30+25*i[5],30+25*i[4]),o.stroke())}return this.current_move=t,this}},o.prototype.stopGame=function(){return this.clearBoard(),this.initBoard(),this.parent.unSetInfoMessage(),this.current_move=0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.HipView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/lightsout",o.prototype.className="lightsout-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0,this.rows=8,this.columns=8},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.setBoard=function(t){var e,r,o,i,a,n,s,l,p;for(n=this.parent.codechecker_stdin[t],a=[],a=n.split("\n"),p=[],r=s=0,l=this.rows;l>=0?l>s:s>l;r=l>=0?++s:--s)p.push(function(){var t,n,s;for(s=[],o=t=0,n=this.columns;n>=0?n>t:t>n;o=n>=0?++t:--t)e="."+r+"-"+o,this.$(e).removeClass("lightsout-off lightsout-on"),i=a[r+1].split(""),"1"===i[o]?s.push(this.$(e).addClass("lightsout-on")):s.push(this.$(e).addClass("lightsout-off"));return s}.call(this));return p},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(this.current_move>t&&(this.parent.unSetInfoMessage(),this.setBoard(t)),i=e[t].split(" "),n=i[0],c=this,"I"===n)for(a=parseInt(i[1],10),o=d=0,m=a-1;m>=0?m>=d:d>=m;o=m>=0?++d:--d)s=i[2+2*o],l=i[2+2*o+1],r="."+s+"-"+l,this.$(r).removeClass("lightsout-off"),this.$(r).addClass("lightsout-on");else for(h=parseInt(i[1],10),s=i[2],l=i[3],p=i[4],r="."+s+"-"+l,1===p?(this.$(r).removeClass("lightsout-off"),this.$(r).addClass("lightsout-on")):(this.$(r).removeClass("lightsout-on"),this.$(r).addClass("lightsout-off")),o=u=0;1>=u;o=++u)s=i[5+3*o],l=i[5+3*o+1],p=i[5+3*o+2],r="."+s+"-"+l,"1"===p?(this.$(r).removeClass("lightsout-off"),this.$(r).addClass("lightsout-on")):(this.$(r).removeClass("lightsout-on"),this.$(r).addClass("lightsout-off"));return this.current_move=t,this}},o.prototype.stopGame=function(){return this.current_move=0,this.parent.unSetInfoMessage()},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.LightsOutView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/mancala",o.prototype.className="mancala-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(o=e[t].split(" "),a=[],r=i=0;13>=i;r=++i)a.push($(this.el).find(".game-col[data-cell="+r+"]").html(o[r]));return a}},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.MancalaView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/mazegame",o.prototype.className="mazegame",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.playMove=function(t,e){var r;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return t>this.current_move&&this.parent.unSetInfoMessage(),this.current_move=t,r=e[t].split(":"),0===t?this.firstMove(t,r):this.restMove(t,r)},o.prototype.restMove=function(t,e){var r,o,i,a,n,s,l,p,c;for(a=_.map(e[0].split(" "),function(t){return _.map(t.split(","),function(t){return parseInt(t)})}),this.$("td").html(""),a[0][0]===a[1][0]&&a[0][1]===a[1][1]?this.$("td[data-gg-row="+a[0][0]+"][data-gg-column="+a[0][1]+"]").html("<div class='player1 player2'></div>"):(this.$("td[data-gg-row="+a[0][0]+"][data-gg-column="+a[0][1]+"]").html("<div class='player1'></div>"),this.$("td[data-gg-row="+a[1][0]+"][data-gg-column="+a[1][1]+"]").html("<div class='player2'></div>")),this.$(".g6 td").removeClass().addClass("graph-col"),n=s=-1;1>=s;n=++s)for(o=l=-1;1>=l;o=++l)r=this.game_grid[(a[0][0]+n)*this.columns+a[0][1]+o],this.log("CELLING",r),"#"===r&&this.$(".g6-b td[data-gg-row="+(n+1)+"][data-gg-column="+(o+1)+"]").addClass("wall"),"e"===r&&this.$(".g6-b td[data-gg-row="+(n+1)+"][data-gg-column="+(o+1)+"]").addClass("exit");for(this.$(".g6-b td[data-gg-row=1][data-gg-column=1]").html("<div class='player1'></div>"),n=p=-1;1>=p;n=++p)for(o=c=-1;1>=c;o=++c)r=this.game_grid[(a[1][0]+n)*this.columns+a[1][1]+o],this.log("CELLING",r),"#"===r&&this.$(".g6-c td[data-gg-row="+(n+1)+"][data-gg-column="+(o+1)+"]").addClass("wall"),"e"===r&&this.$(".g6-c td[data-gg-row="+(n+1)+"][data-gg-column="+(o+1)+"]").addClass("exit");return this.$(".g6-c td[data-gg-row=1][data-gg-column=1]").html("<div class='player2'></div>"),i=_.map(e[1].split(" "),function(t){return parseInt(t)}),this.$(".g6-b").removeClass("deg180 deg270 deg90 deg0").addClass("deg"+i[0]),this.$(".g6-c").removeClass("deg180 deg270 deg90 deg0").addClass("deg"+i[1]),this},o.prototype.firstMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u;for(u=e[0].split(" "),this.rows=u[0],this.columns=u[1],this.game_grid=e[1],this.clearGrid(),a=_.map(e[2].split(" ").slice(1,3),function(t){return t.split(",")}),i=e[3].split(" "),this.$("td").html(""),a[0][0]===a[1][0]&&a[0][1]===a[1][1]?this.$("td[data-gg-row="+a[0][0]+"][data-gg-column="+a[0][1]+"]").html("<div class='player1 player2'></div>"):(this.$("td[data-gg-row="+a[0][0]+"][data-gg-column="+a[0][1]+"]").html("<div class='player1'></div>"),this.$("td[data-gg-row="+a[1][0]+"][data-gg-column="+a[1][1]+"]").html("<div class='player2'></div>")),s=_.map(e[4].split(" "),function(t){return _.map(t.split(","),function(t){return parseInt(t)})}),this.$("td").html(""),s[0][0]===s[1][0]&&s[0][1]===s[1][1]?this.$("td[data-gg-row="+s[0][0]+"][data-gg-column="+s[0][1]+"]").html("<div class='player1 player2'></div>"):(this.$("td[data-gg-row="+s[0][0]+"][data-gg-column="+s[0][1]+"]").html("<div class='player1'></div>"),this.$("td[data-gg-row="+s[1][0]+"][data-gg-column="+s[1][1]+"]").html("<div class='player2'></div>")),this.$(".g6 td").removeClass().addClass("graph-col"),l=p=-1;1>=p;l=++p)for(o=c=-1;1>=c;o=++c)r=this.game_grid[(s[0][0]+l)*this.columns+s[0][1]+o],"#"===r&&this.$(".g6-b td[data-gg-row="+(l+1)+"][data-gg-column="+(o+1)+"]").addClass("wall"),"e"===r&&this.$(".g6-b td[data-gg-row="+(l+1)+"][data-gg-column="+(o+1)+"]").addClass("exit");for(this.$(".g6-b td[data-gg-row=1][data-gg-column=1]").html("<div class='player1'></div>"),l=h=-1;1>=h;l=++h)for(o=d=-1;1>=d;o=++d)r=this.game_grid[(s[1][0]+l)*this.columns+s[1][1]+o],"#"===r&&this.$(".g6-c td[data-gg-row="+(l+1)+"][data-gg-column="+(o+1)+"]").addClass("wall"),"e"===r&&this.$(".g6-c td[data-gg-row="+(l+1)+"][data-gg-column="+(o+1)+"]").addClass("exit");return this.$(".g6-c td[data-gg-row=1][data-gg-column=1]").html("<div class='player2'></div>"),n=_.map(e[5].split(" "),function(t){return parseInt(t)}),this.$(".g6-b").removeClass("deg180 deg270 deg90 deg0").addClass("deg"+n[0]),this.$(".g6-c").removeClass("deg180 deg270 deg90 deg0").addClass("deg"+n[1]),this},o.prototype._clearGrid=function(){var t;return this.$(".grid-placeholder").html(this.grid_html),t="<table class='graph-grid'><tr class='graph-row'><td data-gg-row='0' data-gg-column='0' class='graph-col'></td><td data-gg-row='0' data-gg-column='1' class='graph-col'></td><td data-gg-row='0' data-gg-column='2' class='graph-col'></td></tr><tr class='graph-row'><td data-gg-row='1' data-gg-column='0' class='graph-col'></td><td data-gg-row='1' data-gg-column='1' class='graph-col'></td><td data-gg-row='1' data-gg-column='2' class='graph-col'></td></tr><tr class='graph-row'><td data-gg-row='2' data-gg-column='0' class='graph-col'></td><td data-gg-row='2' data-gg-column='1' class='graph-col'></td><td data-gg-row='2' data-gg-column='2' class='graph-col'></td></tr></table>",this.$(".g6").html(t),this},o.prototype.clearGrid=function(){var t,e,r,o,a,n,s;if(this._hasCleared)this._clearGrid();else{for(e="<table class='graph-grid' id='graph-grid'>",r=o=0,n=this.rows-1;n>=0?n>=o:o>=n;r=n>=0?++o:--o){for(e+="<tr class='graph-row'>",t=a=0,s=this.columns-1;s>=0?s>=a:a>=s;t=s>=0?++a:--a)"#"===this.game_grid[r*this.columns+t]&&(e+="<td data-gg-row='"+r+"' data-gg-column='"+t+"' class='graph-col wall'></td>"),"e"===this.game_grid[r*this.columns+t]&&(e+="<td data-gg-row='"+r+"' data-gg-column='"+t+"' class='graph-col exit'></td>"),"-"===this.game_grid[r*this.columns+t]&&(e+="<td data-gg-row='"+r+"' data-gg-column='"+t+"' class='graph-col'></td>");e+="</tr>"}e+="</table>",this.grid_html=e,this._hasCleared=!0,this._clearGrid()}return{stopGame:function(){return this.parent.unSetInfoMessage(),this.current_move=i}}},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.MazeGame=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/ministertrick",o.prototype.className="ministertrick-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){return void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?$(this.el).find(".game-grid").find("div.move").html(e[t]):void 0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.MinisterTrickView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/monopoly",o.prototype.className="monopoly-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.movePlayer=function(t,e){var r,o,i,a;return o=this.$(".a-monopoly-player[data-player="+t+"]"),a=o.data("posn"),r=this.$("div[data-cell="+e+"]"),o.data("posn",e),i=this.$("#monopoly-player-"+(t+1)).remove(),r.append(i)},o.prototype.playMove=function(t,e){var r,o,i,a,n,s;return o=["border-top","border-right","border-bottom","border-left"],i=[null,"SaddleBrown","SkyBlue","DarkOrchid","Orange","Red","Yellow","Green","Blue","none"],a=["","1","2"],void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(s=e[t].split(" "),n=s.slice(0,2).map(function(t){return t.split(",")}),_.each(n,function(t){return function(e,r){var o,i;return i=e[0],o=e[1],t.$("#player"+r+"-cash").html("Player "+(r+1)+": "+o),t.movePlayer(r,i)}}(this)),r=s.slice(2).map(function(t){return t.split(",")}),_.each(r,function(t){return function(e){var r,o,n,s,l,p,c;return s=e[0],o=e[1],p=e[2],n=e[3],l=e[4],c=e[5],o=i[o],l="1"===l,c="1"===c,r=t.$("div[data-cell="+s+"]"),o&&r.find(".a-monopoly-color-div").css("background",o),r.find(".a-sale").toggle(c),r.find(".a-mortgaged").toggle(l),r.find(".a-house").slice(n).hide(),n>0&&r.find(".a-house").slice(0,+(n-1)+1||9e9).show(),r.find(".a-owner").html(a[p]),""===a[p]?r.find(".a-owner").hide():r.find(".a-owner").show()}}(this))):void 0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.MonopolyView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/morrisnine",o.prototype.className="morrisnine-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),$(".player-1").children(".player-color").html("White"),$(".player-2").children(".player-color").html("Black"),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(r=e[t],t=0,l=[];""!==r&&t++<50;)a=r.split(" "),r=r.substr(6),n=a[0],s=a[1],o=a[2],i={W:"white",B:"black","-":"empty"},$(this.el).find(".game-grid").find("div."+n+"-"+s).removeClass("empty"),$(this.el).find(".game-grid").find("div."+n+"-"+s).removeClass("white"),$(this.el).find(".game-grid").find("div."+n+"-"+s).removeClass("black"),l.push($(this.el).find(".game-grid").find("div."+n+"-"+s).addClass(i[o]));return l}},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.MorrisNineView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/oracle",o.prototype.className="oracle-view",o.prototype.render=function(){return null!==this.model.toJSON().moves?($(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this):$(this.el).html("The information about this game is hidden. The response from the codechecker is: <br>"+this.model.toJSON().message)},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return o=e[t],r=o.split(" "),$(this.el).find(".game-grid").find(".ball-container").removeClass("ball1 ball2 ball3 ball4 ball5"),$(this.el).find(".game-grid").find(".ball-container.first").addClass("ball"+r[0]),$(this.el).find(".game-grid").find(".ball-container.second").addClass("ball"+r[1]),"Y"===r[2]?$(this.el).find(".game-grid").find(".oracle-text h2").html("Yes"):$(this.el).find(".game-grid").find(".oracle-text h2").html("No"),$(this.el).find(".game-grid").find(".oracle-lied").hide(),"Y"===r[3]?$(this.el).find(".game-grid").find(".oracle-lied").show():void 0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.OracleView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/othello",o.prototype.className="othello-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0,this.stdin=this.parent.codechecker_stdin,this.rows=8,this.columns=8},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),$(".player-1").children(".player-color").html("Black"),$(".player-2").children(".player-color").html("White"),this},o.prototype.setBoard=function(t){var e,r,o,i,a,n,s,l,p;for(a=[],a=t.split("\n").slice(1),p=[],o=s=0,l=this.rows;l>=0?l>s:s>l;o=l>=0?++s:--s)e=a[o].split(""),p.push(function(){var t,a,s;for(s=[],i=t=0,a=this.columns;a>=0?a>t:t>a;i=a>=0?++t:--t){switch(r=this.$("#"+o+"-"+i),r.removeClass("blank white black move"),n="blank",e[i]){case"B":n="black";break;case"W":n="white";break;default:n="blank"}s.push(r.addClass(n))}return s}.call(this));return p},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w;if(p={1:"B",2:"W"},void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(h=this.stdin[t],this.setBoard(h),s=e[t].split(" "),v=s[0],w=s[1],l=s[2],"W"===l?(r="white",c="black"):(r="black",c="white"),this.$(".game-grid").find("#"+v+"-"+w).addClass(r).removeClass("move"),this.$(".move").removeClass("move"),f=s[3],t=0,d=this,this.parent.pause){for(;f>t;)i=s[4+2*t],a=s[5+2*t],d.flip(i,a,r,c),t++;y=d.$(".game-grid").find(".white").length,o=d.$(".game-grid").find(".black").length,d.$(".game-grid").find(".player1_discs").html(o),d.$(".game-grid").find(".player2_discs").html(y),g=s[4+2*f],n=0}else u=600,m=400,setTimeout(function(){for(;f>t;)i=s[4+2*t],a=s[5+2*t],d.flip(i,a,r,c),t++;return y=d.$(".game-grid").find(".white").length,o=d.$(".game-grid").find(".black").length,d.$(".game-grid").find(".player1_discs").html(o),d.$(".game-grid").find(".player2_discs").html(y),g=s[4+2*f],n=0,setTimeout(function(){var t,e,r;for(r=[];g>n;)t=s[4+2*f+2*n+1],e=s[4+2*f+2*n+2],this.$(".game-grid").find("#"+t+"-"+e).addClass("move"),r.push(n++);return r},u)},m);return this}},o.prototype.flip=function(t,e,r,o){return this.$(".game-grid").find("#"+t+"-"+e).removeClass(o).addClass(r)},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.OthelloView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/pacman",o.prototype.className="pacman-view",o.prototype.render=function(){var e,r,o,i,a;return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),a=this.$("#pac-man").remove(),this.$(".pac-cell[data-x=25][data-y=14]").append(a),e=this.$("#pac-ghost-1").remove(),this.$(".pac-cell[data-x=13][data-y=10]").append(e),r=this.$("#pac-ghost-2").remove(),this.$(".pac-cell[data-x=13][data-y=13]").append(r),o=this.$("#pac-ghost-3").remove(),this.$(".pac-cell[data-x=13][data-y=14]").append(o),i=this.$("#pac-ghost-4").remove(),this.$(".pac-cell[data-x=13][data-y=17]").append(i),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w,_,b;if(h=[[1,1],[1,3],[1,5],[1,7],[1,9],[1,11],[1,15],[1,17],[1,19],[1,21],[1,23],[1,25],[2,1],[2,6],[2,12],[2,15],[2,21],[2,26],[3,1],[3,6],[3,12],[3,15],[3,21],[3,26],[4,1],[4,6],[4,12],[4,15],[4,21],[4,26],[5,1],[5,3],[5,5],[5,7],[5,9],[5,11],[5,13],[5,15],[5,17],[5,19],[5,21],[5,23],[5,25],[6,1],[6,6],[6,9],[6,18],[6,21],[6,26],[7,1],[7,6],[7,9],[7,18],[7,21],[7,26],[8,1],[8,3],[8,5],[8,9],[8,11],[8,15],[8,17],[8,21],[8,23],[8,25],[9,6],[9,21],[10,6],[10,21],[11,6],[11,21],[12,6],[12,21],[13,6],[13,21],[14,6],[14,21],[15,6],[15,21],[16,6],[16,21],[17,1],[17,3],[17,5],[17,7],[17,9],[17,11],[17,15],[17,17],[17,19],[17,21],[17,23],[17,25],[18,1],[18,6],[18,12],[18,15],[18,21],[18,26],[19,1],[19,6],[19,12],[19,15],[19,21],[19,26],[20,1],[20,2],[20,6],[20,8],[20,10],[20,12],[20,15],[20,17],[20,19],[20,21],[20,24],[20,26],[21,3],[21,6],[21,9],[21,18],[21,21],[21,24],[22,3],[22,6],[22,9],[22,18],[22,21],[22,24],[23,1],[23,3],[23,5],[23,9],[23,11],[23,15],[23,17],[23,21],[23,23],[23,25],[24,1],[24,12],[24,15],[24,26],[25,1],[25,3],[25,5],[25,7],[25,9],[25,11],[25,13],[25,15],[25,17],[25,19],[25,21],[25,23],[25,25]],void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){for(c=e[t].split(" "),y=[],t=v=0;4>=v;t=++v)y[t]=[c[3*t+0],c[3*t+1],c[3*t+2]];for(u=y[0],n=y[1],s=y[2],l=y[3],p=y[4],d=c[15],g=this.$("#pac-man").remove(),this.$(".pac-cell[data-x="+u[0]+"][data-y="+u[1]+"]").append(g),r=this.$("#pac-ghost-1").remove(),this.$(".pac-cell[data-x="+n[0]+"][data-y="+n[1]+"]").append(r),o=this.$("#pac-ghost-2").remove(),this.$(".pac-cell[data-x="+s[0]+"][data-y="+s[1]+"]").append(o),i=this.$("#pac-ghost-3").remove(),this.$(".pac-cell[data-x="+l[0]+"][data-y="+l[1]+"]").append(i),a=this.$("#pac-ghost-4").remove(),this.$(".pac-cell[data-x="+p[0]+"][data-y="+p[1]+"]").append(a),b=[],t=w=0,_=d.length;_>w;t=++w)m=d[t],f=h[t],3===f[0]&&1===f[1]||3===f[0]&&26===f[1]||20===f[0]&&1===f[1]||20===f[0]&&26===f[1]?"1"===m?b.push(this.$(".pac-cell[data-x="+f[0]+"][data-y="+f[1]+"]").addClass("pacfoodbig")):b.push(this.$(".pac-cell[data-x="+f[0]+"][data-y="+f[1]+"]").removeClass("pacfoodbig")):"1"===m?b.push(this.$(".pac-cell[data-x="+f[0]+"][data-y="+f[1]+"]").addClass("pacfood")):b.push(this.$(".pac-cell[data-x="+f[0]+"][data-y="+f[1]+"]").removeClass("pacfood"));return b}},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PacmanView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/pegsolitaire",o.prototype.className="pegsolitaire-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return p=e[t],i=e[0].split(":")[0].split(" "),o=parseInt(i[0]),d=parseInt(i[1]),l=e[0].split(":")[1],0===t?(s="<div class='game-grid' style='width: "+40*o+"px; height: "+40*d+"px;' >",_.times(d,function(){return function(t){var e;return e="<div style='height: 40px; width: "+40*o+"px;' >",_.times(o,function(r){return"x"===l[t*o+r]?e=e.concat('<div data-x="'+r+'" data-y="'+t+'" class="spanhole"> </div>'):"."===l[t*o+r]?e=e.concat('<div data-x="'+r+'" data-y="'+t+'" class="spanhole pegslot"><img src=\'/static/games/peg.png\'></div>'):"-"===l[t*o+r]?e=e.concat('<div data-x="'+r+'" data-y="'+t+'" class="spanhole pegslot"></div>'):void 0}),e=e.concat("</div>"),s=s.concat(e)}}(this)),s=s.concat("</div>"),this.grid=s,this.$(".game-grid-wrapper").html(this.grid)):(r=p.split(" "),u=parseInt(r[0]),m=parseInt(r[1]),a=parseInt(r[2]),n=parseInt(r[3]),c=parseInt(r[4]),h=parseInt(r[5]),this.$("[data-x="+u+"][data-y="+m+"]").html(""),this.$("[data-x="+a+"][data-y="+n+"]").html(""),this.$("[data-x="+c+"][data-y="+h+"]").html(""),this.$("[data-x="+a+"][data-y="+n+"]").html("<img src='/static/games/peg.png'>"))},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PegSolitaireView=r
})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/pennywise",o.prototype.className="pennywise-view",o.prototype.getCoinPosition=function(t,e){var r,o,i,a,n;for(o=$("#"+t+" td"),i=a=0,n=o.length;n>=0?n>a:a>n;i=n>=0?++a:--a)if(r=$(o[i]).find("div.coin"),r.length>0&&"true"!==r.attr("processing")&&r.text()===e)return $(o[i]).attr("id");return-1},o.prototype.getEmptySlot=function(t){var e,r,o,i,a;for(r=$("#"+t+" td"),o=i=0,a=r.length;a>=0?a>i:i>a;o=a>=0?++i:--i)if(e=$(r[o]).find("div.coin"),0===e.length&&"true"!==$(r[o]).attr("processing"))return $(r[o]).attr("id");return-1},o.prototype.moveCoin=function(t,e,r){var o,i,a;return a="table#"+t+" td#"+this.getCoinPosition(t,r)+" .coin",o=$(a),i=$("table#"+e+" td#"+this.getEmptySlot(e)),o.attr("processing","true"),i.attr("processing","true"),o.css({top:o.offset().top-160,left:o.offset().left}).animate({top:i.offset().top-160,left:i.offset().left+20},400,function(){return o.removeAttr("processing"),i.append(o.clone()),i.removeAttr("processing"),o.remove()}),i},o.prototype.render=function(){var e,r,o,i,a;for($(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),o="<tbody>",e=i=0;5>i;e=++i){for(o+="<tr>",r=a=0;5>a;r=++a)o+="<td id='cell-"+e+r+"'></td>";o+="</tr>"}return o+="</tbody>",$("table.pennywise").html(o),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d;if(0===t)for(i=e[0].split(" "),o=p=1,h=i.length;h>=1?h>p:p>h;o=h>=1?++p:--p)n=" td#cell-"+parseInt((o-1)/5)+parseInt((o-1)%5),r="<div class='coin gold'><span class='number'>"+i[o]+"</span></div>",$("#player1"+n).html(r),$("#player2"+n).html(r);else for(a=e[t].split(" "),l="",s=[],l=this.moveCoin("player"+a[0],"pool",a[1]),s=s.concat(l),o=c=0,d=a[2];d>=0?d>c:c>d;o=d>=0?++c:--c)l=this.moveCoin("pool","player"+a[0],a[o+3]),s=s.concat(l);return this},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PennyWiseView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/pipelayer",o.prototype.className="pipelayer-view",o.prototype.initialize=function(t){return this.startX2=55,this.startX1=30,this.startY2=30,this.startY1=55,this.offset=50,this.radius=4,this.canvasSide=355,this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return this.$("#pipelayerCanvas").length>0?void 0:($(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this.initBoard(),this)},o.prototype.clearBoard=function(){var t,e;return t=this.$("#pipelayerCanvas")[0],t?(e=t.getContext("2d"),e.clearRect(0,0,this.canvasSide,this.canvasSide)):void 0},o.prototype.initBoard=function(){var t,e,r,o,i,a,n,s,l;if(t=this.$("#pipelayerCanvas")[0]){for(r=t.getContext("2d"),s=7,e=6,r.fillStyle="blue",r.strokeStyle="blue",o=0;s>o;){for(i=0;e>i;)r.beginPath(),a=this.startX2+50*i,n=this.startY2+50*o,r.arc(a,n,this.radius,0,2*Math.PI),r.stroke(),r.fill(),i++;o++}for(s=6,e=7,r.fillStyle="red",r.strokeStyle="red",o=0,l=[];s>o;){for(i=0;e>i;)r.beginPath(),a=this.startX1+50*i,n=this.startY1+50*o,r.arc(a,n,this.radius,0,2*Math.PI),r.stroke(),r.fill(),i++;l.push(o++)}return l}},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w,_;if(this.clearBoard(),this.initBoard(),t<this.current_move&&this.parent.unSetInfoMessage(),d={b:"blue",r:"red"},-1!==t){for(_=e.slice(0,+t+1||9e9),v=0,w=_.length;w>v;v++){if(c=_[v],void 0===c)return;if("CODECHECKER_INVALID_MOVE_ERROR"===c)return;if(p=c.split(" "),g=p[0],o=p[1],y=p[2],i=p[3],h=p[4],a=d[h],r=this.$("#pipelayerCanvas")[0],r&&void 0!==d[h]&&(n=r.getContext("2d"),n.beginPath(),n.fillStyle=a,n.strokeStyle=a,n.moveTo(30+25*o,30+25*g),n.lineTo(30+25*i,30+25*y),n.stroke(),void 0!==p[5])){for(u=p[5],l=0,m=new Array,f=new Array;u>l;)m[l]=p[6+2*l],f[l]=p[7+2*l],l++;for(l=0;u-1>l;)s=r.getContext("2d"),s.beginPath(),s.fillStyle="black",s.strokeStyle="black",s.moveTo(30+25*f[l],30+25*m[l]),s.lineTo(30+25*f[l+1],30+25*m[l+1]),s.stroke(),s.beginPath(),s.arc(30+25*f[l],30+25*m[l],this.radius,0,2*Math.PI),s.stroke(),s.fill(),l===u-2&&(s.beginPath(),s.arc(30+25*f[l+1],30+25*m[l+1],this.radius,0,2*Math.PI),s.stroke(),s.fill()),l++}}return this.current_move=t,this}},o.prototype.stopGame=function(){return this.clearBoard(),this.initBoard(),this.parent.unSetInfoMessage(),this.current_move=0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PipelayerView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/ppeach",o.prototype.className="ppeach-view",o.prototype.render=function(){var e,r;return null!==this.model.toJSON().moves?(e=this.model.toJSON().moves,r=3,0===e.length||"CODECHECKER_INVALID_MOVE_ERROR"===this.model.toJSON().moves[0]||isNaN(e[0].split(" ")[0])||(r=parseInt(e[0].split(" ")[0])),$(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON(),size:r})),this):$(this.el).html("The information about this game is hidden. The response from the codechecker is: <br>"+this.model.toJSON().message)},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t],$(this.el).find(".game-grid").find("td.cell").removeClass("bot").removeClass("queen"),o=r.split(" "),$(this.el).find(".game-grid").find("td."+o[1]+"-"+o[2]).addClass("queen"),$(this.el).find(".game-grid").find("td."+o[3]+"-"+o[4]).addClass("bot")},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PPeachView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/prisonerdilemma",o.prototype.className="prisonerdilemma-view",o.prototype.initialize=function(){return this.dd=this.dc=this.cd=this.cc=0,this.prev_move=0,this.sentence_player1=this.sentence_player2=0},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]&&t%2!==1)return a=t/2+1,n=e[t].split(" "),o=n[0],e[t+1]?(s=e[t+1].split(" "),i=s[0]):(s=null,i=null),0===this.prev_move&&0===t||this.prev_move+2===t?(r="add",this.prev_move=t):0!==this.prev_move&&this.prev_move-2===t?(r="sub",this.prev_move=t):r=void 0,"betray"===o&&"betray"===i?("add"===r?(this.dd+=1,this.sentence_player1+=3,this.sentence_player2+=3):"sub"===r&&(this.sentence_player1-=3,this.sentence_player2-=3,this.dd-=1),this.$("table.prisonerdilemma").find("td.d-d").html(this.dd)):"cooperate"===o&&"betray"===i?("add"===r?(this.cd+=1,this.sentence_player1+=12,this.sentence_player2+=0):"sub"===r&&(this.cd-=1,this.sentence_player1-=12,this.sentence_player2-=0),this.$("table.prisonerdilemma").find("td.c-d").html(this.cd)):"betray"===o&&"cooperate"===i?("add"===r?(this.dc+=1,this.sentence_player1+=0,this.sentence_player2+=12):"sub"===r&&(this.dc-=1,this.sentence_player1-=0,this.sentence_player2-=12),this.$("table.prisonerdilemma").find("td.d-c").html(this.dc)):"cooperate"===o&&"cooperate"===i&&("add"===r?(this.sentence_player1+=1,this.sentence_player2+=1,this.cc+=1):"sub"===r&&(this.sentence_player1-=1,this.sentence_player2-=1,this.cc-=1),this.$("table.prisonerdilemma").find("td.c-c").html(this.cc)),this.$(".game-no").html(a),this.$(".sentence-player1").html(this.sentence_player1),this.$(".sentence-player2").html(this.sentence_player2),this},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.PrisonerDilemmaView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/quarto",o.prototype.className="quarto-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.pieceToClass=function(t){var e;return e="",e+=t%2===1?"square":"circle",t=parseInt(t/2),e+=t%2===1?" solid":" hollow",t=parseInt(t/2),e=t%2===1?"thick "+e:"thin "+e,t=parseInt(t/2),t%2===1?(e=e.replace("solid","solid-blue"),e=e.replace("hollow","hollow-blue")):(e=e.replace("solid","solid-red"),e=e.replace("hollow","hollow-red")),e="piece "+e},o.prototype.setPickedPiece=function(t){var e;return e=this.pieceToClass(t),this.$("#pick-cell").removeClass(),this.$("#pick-cell").addClass(e),this.$(".highlight").removeClass("highlight")},o.prototype.placePiece=function(t,e,r){var o;return this.$(".highlight").removeClass("highlight"),this.$("#pick-cell").removeClass(),o=this.pieceToClass(t),this.$("#"+e+"-"+r).removeClass(),this.$("#"+e+"-"+r).addClass(o),this.$("#"+e+"-"+r).parent().addClass("highlight")},o.prototype.highlightWinning=function(t){var e,r,o,i,a,n,s,l,p,c,h,d;if(r=[],r=t.split(" "),this.$(".highlight").removeClass("highlight"),"0"===r[0]){for(i=r[1],p=[],o=a=0;3>=a;o=++a)p.push(this.$("#"+i+"-"+o).parent().addClass("highlight"));return p}if("1"===r[0]){for(e=r[1],c=[],o=n=0;3>=n;o=++n)c.push(this.$("#"+o+"-"+e).parent().addClass("highlight"));return c}if("2"===r[0]){for(h=[],o=s=0;3>=s;o=++s)h.push(this.$("#"+o+"-"+o).parent().addClass("highlight"));return h}for(d=[],o=l=0;3>=l;o=++l)d.push(this.$("#"+o+"-"+(3-o)).parent().addClass("highlight"));return d},o.prototype.setBoard=function(t){var e,r,o,i,a;for(a=[],e=i=0;15>=i;e=++i)r=parseInt(e/4),o=parseInt(e%4),"-1"!==t[e]&&this.placePiece(t[e],r,o),"-1"===t[e]?a.push(this.$("#"+r+"-"+o).removeClass()):a.push(void 0);return a},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return i=e[t].split(":"),n=i[0],o=[],o=i[1].split(" "),r=i[2],a=i[3],"PLACE"===r&&(c=i[4].split(" "),l=c[0],p=c[1]),s=i[5],this.setBoard(o),"PICK"===r&&this.setPickedPiece(a),"PLACE"===r&&this.placePiece(a,l,p),this.$("#move-info").html("Player "+n+" made a "+r),s&&this.highlightWinning(s),this},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.QuartoView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/realnoline",o.prototype.className="realnoline-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p;return i=["#f00","#00f"],o=["#522","#225"],void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(s=e[t].split(" "),a=Number(s[0]),l=Number(s[1]),n=Number(s[2]),p=Number(s[3]),r=Number(s[4]),$(this.el).find("#bar-left-area").animate({width:Math.floor(500*n)+"px"},500),$(this.el).find("#bar-right-area").animate({width:Math.floor(500*(1-p))+"px"},500),$(this.el).find("#bar-middle-area").animate({left:Math.floor(500*(a-n))+"px",width:Math.floor(500*(l-a))+"px"},500),$(this.el).find("#now-playing").html(r)):void 0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.RealNoLineView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/slidingblocks",o.prototype.className="slidingblocks-view",o.prototype.initialize=function(){return this.current_move=0},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y;if(o=52,void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(a=e[t].split(" "),s=n=Math.sqrt(a.length),this.$(".game-grid").css({width:s*o,height:n*o}),0===t&&0===this.current_move){for(i=new Array,m=_.zip(function(){g=[];for(var t=0,e=a.length-1;e>=0?e>=t:t>=e;e>=0?t++:t--)g.push(t);return g}.apply(this),a),c=0,d=m.length;d>c;c++)r=m[c],p=o*parseInt(r[0]/n),l=o*parseInt(r[0]%s),i.push($("<div class='game-block' style='top: "+p+"px; left: "+l+"px;' data-blockid='"+r[1]+"'>"+r[1]+"</div>"));this.$(".game-block").remove(),this.$(".game-grid").append(i)}else for(f=_.zip(function(){y=[];for(var t=0,e=a.length-1;e>=0?e>=t:t>=e;e>=0?t++:t--)y.push(t);return y}.apply(this),a),h=0,u=f.length;u>h;h++)r=f[h],this.$("[data-blockid="+r[1]+"]").animate({top:o*parseInt(r[0]/n),left:o*parseInt(r[0]%s)});return this.current_move=t}},o.prototype.stopGame=function(){return this.current_move=0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.SlidingBlocksView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e},r=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};jQuery(function(){var t,o,i;return o=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.template="games/snakesonhackerrank",i.prototype.className="snakesonhackerrank",i.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},i.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]&&t!==e.length-1)return o=e[t].split(":"),t>0&&(a=e[t-1].split(":")),0===t?(this.snake1orientation=this.snake2orientation="left",this.gridDimensions=o[0],g=this.gridDimensions.split(","),this.rows=g[0],this.columns=g[1],this.wallTiles=[],f=_.rest(o),5===o.length&&(this.wallTiles=o[4].split(" "),f=_.chain(o).rest().reverse().rest().reverse().value())):(f=o,l=a,a&&1===t&&(l=_.chain(o).rest().reverse().rest().reverse().value(),4===a.length&&(l=_.rest(a)))),this.clearGrid(),u=f[0],m=f[1],r=f[2],l&&t%2===1&&(n=l[0],s=l[1],i=l[2],y=_.map([u,n,m,s],function(){return function(t){return _.map(t.split(" ")[0].split(","),function(t){return parseInt(t)})}}(this)),h=y[0],p=y[1],d=y[2],c=y[3],v=[this.celldiff(h,p),this.celldiff(d,c)],this.snake1orientation=v[0],this.snake2orientation=v[1],this.log("orientations",[this.snake1orientation,this.snake2orientation])),this.renderSnake(u,"snake1",""+this.snake1orientation+"-oriented"),this.renderSnake(m,"snake2",""+this.snake2orientation+"-oriented"),this.renderFood(r),this},i.prototype.celldiff=function(t,e){var r;return r=_.map(_.zip(t,e),function(t){return t[0]-t[1]}),0===r[1]?-1===r[0]?"up":"down":-1===r[1]?"left":"right"},i.prototype.renderFood=function(t){return _.each(t.split(" "),function(t){var e,r,o;return o=t.split(","),e=o[0],r=o[1],this.$("[data-gg-x="+e+"][data-gg-y="+r+"]").addClass("food")}),this},i.prototype.intify=function(t){return _.map(t,function(t){return parseInt(t)})},i.prototype.renderSnake=function(t,e,r){var o;return o=t.split(" "),_.each(o,function(t){return function(o,i,a){var n,s,l,p,c,h,d,u;return u=o.split(","),n=u[0],s=u[1],d=t.intify([n,s]),t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass(e),0!==i&&i!==a.length-1&&(h=t.intify(a[i-1].split(",")),c=t.celldiff(h,d),p=t.intify(a[i+1].split(",")),l=t.celldiff(p,d),t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass("snakebody-"+c+"-"+l)),0===i&&t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass("snakehead").addClass(r),1===a.length?t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass("tadpole"):(i===a.length-1&&(h=t.intify(a[i-1].split(",")),c=t.celldiff(h,d),t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass("snaketail").addClass(""+c+"-oriented")),0===i?(p=t.intify(a[i+1].split(",")),l=t.celldiff(p,d),t.$("[data-gg-x="+n+"][data-gg-y="+s+"]").addClass(""+c+"-oriented")):void 0)}}(this)),this},i.prototype._clearGrid=function(){return this.$(".grid-placeholder").html(this.grid_html),this},i.prototype._getRandomInt=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},i.prototype.clearGrid=function(){var t,e,o,i,a,n,s,l,p,c,h;if(this._hasCleared)return this._clearGrid();for(o="<table id='graph-grid'>",a=n=0,l=this.rows-1;l>=0?l>=n:n>=l;a=l>=0?++n:--n){for(o+="<tr class='graph-row'>",t=s=0,p=this.columns-1;p>=0?p>=s:s>=p;t=p>=0?++s:--s){switch(c=""+a+","+t,r.call(this.wallTiles,c)>=0&&(o+="<td data-gg-x='"+a+"' data-gg-y='"+t+"' class='graph-col wall'></td>"),i=this._getRandomInt(0,9)){case 1:e=4;break;case 2:e=3;break;case 3:e=2;break;default:e=1}h=""+a+","+t,o+=r.call(this.wallTiles,h)>=0?"<td class='graph-col wall grass"+e+"'><div data-gg-x='"+a+"' data-gg-y='"+t+"'></div></td>":"<td class='graph-col grass"+e+"'><div class='graph-col' data-gg-x='"+a+"' data-gg-y='"+t+"'></div></td>"}o+="</tr>"}return o+="</table>",this.grid_html=o,this._hasCleared=!0,this._clearGrid(),this},i}(window.HR.GameTemplateView),t=null!=(i=window.HR)?i:{},t.SnakesOnHackerRank=o})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.className="stockprediction-view",r.prototype.render=function(){return null===this.model.toJSON().moves?$(this.el).html("The information about this game is hidden.<br>"+this.model.toJSON().message):void 0},r.prototype.playMove=function(){return""},r}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.StockPredictionView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/tictactoe",o.prototype.className="tictactoe-view",o.prototype.initialize=function(t){return this.parent=t.parent,this.current_move=0},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o,i,a,n;return i={1:"X",2:"O"},void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(this.current_move<=t?r=e[t].split(" "):(this.parent.unSetInfoMessage(),r=e[this.current_move].split(" ")),a=r[0],n=r[1],o=r[2],this.current_move<=t?(this.current_move=t,$(this.el).find(".game-grid").find("td."+a+"-"+n).html(i[o])):(this.current_move=t,$(this.el).find(".game-grid").find("td."+a+"-"+n).html("")),this):void 0},o.prototype.stopGame=function(){return this.current_move=0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.TicTacToeView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/tron-generic",o.prototype.className="tron-generic-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.tron_generic_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.tron_generic_grid[r*this.columns+t]){case"-":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"#":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='black-block'></td>";break;case"r":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='red-block'></td>";break;case"g":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='green-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".tron-generic-grid").html(e)},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.TronGenericView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/tron-apple",o.prototype.className="tron-apple-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.playMove=function(t,e){var r,o;if(void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t])return r=e[t].split(":"),this.tron_generic_grid=r[0],o=r[1].split(" "),this.rows=o[0],this.columns=o[1],this.clearGrid(),this},o.prototype.clearGrid=function(){var t,e,r,o,i,a,n;for(e="<table id='graph-grid'>",r=o=0,a=this.rows-1;a>=0?a>=o:o>=a;r=a>=0?++o:--o){for(e+="<tr class='graph-row'>",t=i=0,n=this.columns-1;n>=0?n>=i:i>=n;t=n>=0?++i:--i)switch(this.tron_generic_grid[r*this.columns+t]){case".":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>";break;case"*":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='apple-block'></td>";break;case"#":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='hash-block'></td>";break;case"A":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='xhead-block'></td>";break;case"X":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='xwall-block'></td>";break;case"B":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='yhead-block'></td>";break;case"Y":e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='ywall-block'></td>";break;default:e+="<td data-gg-x='"+t+"' data-gg-y='"+r+"' class='graph-col'></td>"}e+="</tr>"}return e+="</table>",this.$(".tron-generic-grid").html(e)},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.TronAppleView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="tronv2",o.prototype.className="tronv2-view",o.prototype.initialize=function(){return this.startX=20,this.startY=20,this.radius=2,this.rows=13,this.cols=13,this.offset=20,this.blocked=[[0,6],[1,6],[2,6],[3,6],[5,1],[5,6],[5,11],[6,1],[6,2],[6,4],[6,5],[6,6],[6,7],[6,8],[6,10],[6,11],[7,1],[7,6],[7,11],[9,6],[10,6],[11,6],[12,6]],this.startPos=[[0,0,"red"],[12,12,"green"]]},o.prototype.render=function(){var e,r,o,i,a,n;if($(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),e=this.$("#tronV2Canvas")[0]){for(r=e.getContext("2d"),r.fillStyle="#fff",r.strokeStyle="#333",r.lineWidth=2,o=0;o<this.rows;){for(i=0;i<this.cols;)r.beginPath(),a=this.startX+this.offset*(i-1),n=this.startY+this.offset*(o-1),r.rect(a,n,this.offset,this.offset),r.stroke(),r.fill(),i++;o++}for(r=e.getContext("2d"),r.fillStyle="#000",r.strokeStyle="#000",r.lineWidth=2,o=0;o<this.blocked.length;)r.beginPath(),a=this.startX+this.offset*(this.blocked[o][1]-1),n=this.startY+this.offset*(this.blocked[o][0]-1),r.rect(a,n,this.offset,this.offset),r.stroke(),r.fill(),o++;for(r=e.getContext("2d"),r.strokeStyle="#333",r.lineWidth=2,o=0;o<this.startPos.length;)r.beginPath(),r.fillStyle=this.startPos[o][2],a=this.startX+this.offset*(this.startPos[o][1]-1),n=this.startY+this.offset*(this.startPos[o][0]-1),r.rect(a,n,this.offset,this.offset),r.stroke(),r.fill(),o++}return this},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d;if(s={g:"green",r:"red"},void 0!==e[t]&&t%2!==1&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]){if(a=e[t].split(" "),n=a[0],l=a[1],r=this.$("#tronV2Canvas")[0])for(o=r.getContext("2d"),o.fillStyle=s[n],o.strokeStyle="#333",o.lineWidth=2,o.beginPath(),i=0;l>i;)h=a[2+2*i],d=a[2+2*i+1],p=this.startX+this.offset*(d-1),c=this.startY+this.offset*(h-1),o.rect(p,c,this.offset,this.offset),o.fill(),o.stroke(),i++;if(void 0!==e[t+1]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t+1]){if(a=e[t+1].split(" "),n=a[0],l=a[1],r=this.$("#tronV2Canvas")[0])for(o=r.getContext("2d"),o.fillStyle=s[n],o.strokeStyle="#333",o.lineWidth=2,o.beginPath(),i=0;l>i;)h=a[2+2*i],d=a[2+2*i+1],p=this.startX+this.offset*(d-1),c=this.startY+this.offset*(h-1),o.rect(p,c,this.offset,this.offset),o.fill(),o.stroke(),i++;return this}}},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.TronV2View=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="tron",o.prototype.className="tron-view",o.prototype.initialize=function(t){return this.startX=20,this.startY=20,this.radius=2,this.rows=13,this.cols=13,this.offset=20,this.parent=t.parent,$(".player-1").children(".player-color").html("Orange"),$(".player-2").children(".player-color").html("Blue")},o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this.initCanvas(),this},o.prototype.initCanvas=function(){var t,e,r,o,i,a,n;if(t=this.$("#tronCanvas")[0]){for(e=t.getContext("2d"),e.fillStyle="#fff",e.strokeStyle="#333",e.lineWidth=2,r=0,n=[];r<this.rows;){for(o=0;o<this.cols;)e.beginPath(),i=this.startX+this.offset*(o-1),a=this.startY+this.offset*(r-1),e.rect(i,a,this.offset,this.offset),e.stroke(),e.fill(),o++;n.push(r++)}return n}},o.prototype.setColor=function(t,e,r){var o,i,a,n,s,l,p,c,h;if(n={g:"orange",r:"blue"},o=this.$("#tronCanvas")[0]){for(i=o.getContext("2d"),i.fillStyle=n[r],i.strokeStyle="#333",i.lineWidth=2,i.beginPath(),a=0,h=[];e>a;)p=t[2+2*a],c=t[2+2*a+1],s=this.startX+this.offset*(c-1),l=this.startY+this.offset*(p-1),i.rect(s,l,this.offset,this.offset),i.fill(),i.stroke(),h.push(a++);return h}},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p;for(this.initCanvas(),this.parent.unSetInfoMessage(),0===t?(r=0,t=1):r=t-1,p=e.slice(r,+t+1||9e9),s=0,l=p.length;l>s;s++){if(i=p[s],void 0===i)return;if("CODECHECKER_INVALID_MOVE_ERROR"===i)return;o=i.split(" "),a=o[0],n=o[1],this.setColor(o,n,a)}return this},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.TronView=r})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};jQuery(function(){var t,r,o;return r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,r),o.prototype.template="games/ultimatettt",o.prototype.className="ultimate-tictactoe-view",o.prototype.render=function(){return $(this.el).html(t.appController.template(this.template,this)({model:this.model.toJSON()})),this},o.prototype.stopGame=function(){return $(".uttt-winline").remove()},o.prototype.playMove=function(t,e){var r,o,i,a,n,s,l,p,c,h,d,u,m,f,g,y,v,w,b,C,k,O,R,E,V,I;return o="rgb(150,0,0)",r="rgb(0,0,150)",b={0:"X",1:"O"},void 0!==e[t]&&"CODECHECKER_INVALID_MOVE_ERROR"!==e[t]?(m=e[t].split(":"),E=m[0].split(" "),y=E[0],v=E[1],V=m[1].split(" "),h=V[0],d=V[1],I=m[2].split(" "),l=I[0],p=I[1],w=t%2,c=$(this.el).find(".game-grid").find('table.uttt-inner[data-grid-row="'+y+'"][data-grid-column="'+v+'"]'),c.find('td[data-grid-row="'+h+'"][data-grid-column="'+d+'"]').html(b[w]),i=function(t){return function(){return $(t.el).find(".game-grid").find(".uttt-inner td").removeClass("highlighted"),$(t.el).find(".game-grid").find('table.uttt-inner[data-grid-row="'+l+'"][data-grid-column="'+p+'"]').find("td").addClass("highlighted")}}(this),setTimeout(i,600),0===t&&$(".uttt-winline").remove(),void 0===c.attr("data-won")&&(_.times(3,function(t){return function(e){var i,a,n,s,l,p,h;return a=_.select(c.find('td[data-grid-row="'+e+'"]'),function(t){return t.innerHTML===b[w]}),3===a.length&&void 0===c.attr("data-won")&&($(a).addClass("uttt-won-"+w),c.attr("data-won",w),i=$(a[0]),l=i.offset().left+.33*i.width(),h=i.offset().top+40,s=o,1===w&&(s=r),p=$('<div data-view="'+t.cid+"\" class='uttt-winline'>"),p.css({position:"absolute",top:""+h+"px",left:""+l+"px",width:"0px",height:"4px",background:s}),$(document.body).append(p),p.animate({width:"216px"})),n=_.select(c.find('td[data-grid-column="'+e+'"]'),function(t){return t.innerHTML===b[w]}),3===n.length&&void 0===c.attr("data-won")?($(n).addClass("uttt-won-"+w),c.attr("data-won",w),i=$(n[0]),l=i.offset().left+38,h=i.offset().top+.33*i.width(),s=o,1===w&&(s=r),p=$('<div data-view="'+t.cid+"\" class='uttt-winline'>"),p.css({position:"absolute",top:""+h+"px",left:""+l+"px",width:"4px",height:"0px",background:s}),$(document.body).append(p),p.animate({height:"216px"})):void 0}}(this)),a=_.chain(c.find("td")).select(function(t){return $(t).attr("data-grid-column")===$(t).attr("data-grid-row")}).select(function(t){return t.innerHTML===b[w]}).value(),3===a.length&&void 0===c.attr("data-won")&&($(a).addClass("uttt-won-"+w),c.attr("data-won",w),s=$(a[0]),k=s.offset().left+.33*s.width(),R=s.offset().top+120,C=o,1===w&&(C=r),O=$('<div data-view="'+this.cid+"\" class='uttt-winline'>"),O.css({position:"absolute",top:""+R+"px",left:""+k+"px",width:"0px",height:"4px",background:C,"-webkit-transform":"rotate(45deg)","-moz-transform":"rotate(45deg)","-o-transform":"rotate(45deg)","-ms-transform":"rotate(45deg)",transform:"rotate(45deg)"}),$(document.body).append(O),O.animate({width:"216px"})),n=_.chain(c.find("td")).select(function(t){return parseInt($(t).attr("data-grid-column"))===2-parseInt($(t).attr("data-grid-row"))}).select(function(t){return t.innerHTML===b[w]}).value(),3===n.length&&void 0===c.attr("data-won"))?($(n).addClass("uttt-won-"+w),c.attr("data-won",w),s=$(n[2]),u=$(n[1]),f=u.offset().left+u.width()/2,g=u.offset().top+u.height()/2,k=s.offset().left-18,R=s.offset().top-40,C=o,1===w&&(C=r),O=$('<div data-view="'+this.cid+"\" class='uttt-winline'>"),O.css({position:"absolute",top:""+R+"px",left:""+k+"px",width:"0px",height:"4px",background:C,"-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(45deg)","-o-transform":"rotate(45deg)","-ms-transform":"rotate(45deg)",transform:"rotate(45deg)"}),$(document.body).append(O),O.animate({width:"266px"})):void 0):void 0},o}(window.HR.GameTemplateView),t=null!=(o=window.HR)?o:{},t.UltimateTicTacToeView=r})}.call(this),function(){"use strict";function t(t){if("string"!=typeof t)return!1;var r=t.split("-");return 2!==r.length?!1:e(r[0])===!0&&e(r[1])===!0}function e(t){return"string"!=typeof t?!1:-1!==t.search(/^[a-h][1-8]$/)}function r(t){return"string"!=typeof t?!1:-1!==t.search(/^[bw][KQRNBP]$/)}function o(t){if("string"!=typeof t)return!1;
t=t.replace(/ .+$/,"");var e=t.split("/");if(8!==e.length)return!1;for(var r=0;8>r;r++)if(""===e[r]||e[r].length>8||-1!==e[r].search(/[^kqrbnpKQRNBP1-8]/))return!1;return!0}function i(t){if("object"!=typeof t)return!1;for(var o in t)if(t.hasOwnProperty(o)===!0&&(e(o)!==!0||r(t[o])!==!0))return!1;return!0}function a(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}function n(t){var e=t.split("");return"w"===e[0]?e[1].toUpperCase():e[1].toLowerCase()}function s(t){if(o(t)!==!0)return!1;t=t.replace(/ .+$/,"");for(var e=t.split("/"),r={},i=8,n=0;8>n;n++){for(var s=e[n].split(""),l=0,c=0;c<s.length;c++)if(-1!==s[c].search(/[1-8]/)){var h=parseInt(s[c],10);l+=h}else{var d=p[l]+i;r[d]=a(s[c]),l++}i--}return r}function l(t){if(i(t)!==!0)return!1;for(var e="",r=8,o=0;8>o;o++){for(var a=0;8>a;a++){var s=p[a]+r;e+=t.hasOwnProperty(s)===!0?n(t[s]):"1"}7!==o&&(e+="/"),r--}return e=e.replace(/11111111/g,"8"),e=e.replace(/1111111/g,"7"),e=e.replace(/111111/g,"6"),e=e.replace(/11111/g,"5"),e=e.replace(/1111/g,"4"),e=e.replace(/111/g,"3"),e=e.replace(/11/g,"2")}var p="abcdefgh".split("");window.ChessBoard=window.ChessBoard||function(r,a){function n(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,function(){var t=16*Math.random()|0;return t.toString(16)})}function c(t){return JSON.parse(JSON.stringify(t))}function h(t){var e=t.split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}function d(t,e){t=h(t),e=h(e);var r=1e4*t.major*1e4+1e4*t.minor+t.patch,o=1e4*e.major*1e4+1e4*e.minor+e.patch;return r>=o}function u(t,e,r){if(a.hasOwnProperty("showErrors")===!0&&a.showErrors!==!1){var o="ChessBoard Error "+t+": "+e;return"console"===a.showErrors&&"object"==typeof console&&"function"==typeof console.log?(console.log(o),arguments.length>=2&&console.log(r),void 0):"alert"===a.showErrors?(r&&(o+="\n\n"+JSON.stringify(r)),window.alert(o),void 0):("function"==typeof a.showErrors&&a.showErrors(t,e,r),void 0)}}function m(){if("string"==typeof r){if(""===r)return window.alert("ChessBoard Error 1001: The first argument to ChessBoard() cannot be an empty string.\n\nExiting..."),!1;var t=document.getElementById(r);if(!t)return window.alert('ChessBoard Error 1002: Element with id "'+r+'" does not exist in the DOM.\n\nExiting...'),!1;se=$(t)}else if(se=$(r),1!==se.length)return window.alert("ChessBoard Error 1003: The first argument to ChessBoard() must be an ID or a single DOM node.\n\nExiting..."),!1;return window.JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse?$.fn&&$.fn.jquery&&d($.fn.jquery,ye)===!0?!0:(window.alert("ChessBoard Error 1005: Unable to find a valid version of jQuery. Please include jQuery "+ye+" or higher on the page.\n\nExiting..."),!1):(window.alert("ChessBoard Error 1004: JSON does not exist. Please include a JSON polyfill.\n\nExiting..."),!1)}function f(t){return"fast"===t||"slow"===t?!0:parseInt(t,10)+""!=t+""?!1:t>=0}function g(){return("string"==typeof a||i(a)===!0)&&(a={position:a}),"black"!==a.orientation&&(a.orientation="white"),ke=a.orientation,a.showNotation!==!1&&(a.showNotation=!0),a.draggable!==!0&&(a.draggable=!1),"trash"!==a.dropOffBoard&&(a.dropOffBoard="snapback"),a.sparePieces!==!0&&(a.sparePieces=!1),a.sparePieces===!0&&(a.draggable=!0),(a.hasOwnProperty("pieceTheme")!==!0||"string"!=typeof a.pieceTheme&&"function"!=typeof a.pieceTheme)&&(a.pieceTheme="assets/games/antichess/{piece}.png"),(a.hasOwnProperty("appearSpeed")!==!0||f(a.appearSpeed)!==!0)&&(a.appearSpeed=200),(a.hasOwnProperty("moveSpeed")!==!0||f(a.moveSpeed)!==!0)&&(a.moveSpeed=200),(a.hasOwnProperty("snapbackSpeed")!==!0||f(a.snapbackSpeed)!==!0)&&(a.snapbackSpeed=50),(a.hasOwnProperty("snapSpeed")!==!0||f(a.snapSpeed)!==!0)&&(a.snapSpeed=25),(a.hasOwnProperty("trashSpeed")!==!0||f(a.trashSpeed)!==!0)&&(a.trashSpeed=100),a.hasOwnProperty("position")===!0&&("start"===a.position?Oe=c(we):o(a.position)===!0?Oe=s(a.position):i(a.position)===!0?Oe=c(a.position):u(7263,"Invalid value passed to config.position.",a.position)),!0}function y(){var t=parseInt(se.css("width"),10);if(!t||0>=t)return 0;for(var e=t-1;e%8!==0&&e>0;)e--;return e/8}function v(){for(var t=0;t<p.length;t++)for(var e=1;8>=e;e++){var r=p[t]+e;Ve[r]=r+"-"+n()}for(var o="KQRBNP".split(""),t=0;t<o.length;t++){var i="w"+o[t],a="b"+o[t];Ee[i]=i+"-"+n(),Ee[a]=a+"-"+n()}}function w(){var t='<div class="'+_e.chessboard+'">';return a.sparePieces===!0&&(t+='<div class="'+_e.sparePieces+" "+_e.sparePiecesTop+'"></div>'),t+='<div class="'+_e.board+'"></div>',a.sparePieces===!0&&(t+='<div class="'+_e.sparePieces+" "+_e.sparePiecesBottom+'"></div>'),t+="</div>"}function _(t){"black"!==t&&(t="white");var e="",r=c(p),o=8;"black"===t&&(r.reverse(),o=1);for(var i="white",n=0;8>n;n++){e+='<div class="'+_e.row+'">';for(var s=0;8>s;s++){var l=r[s]+o;e+='<div class="'+_e.square+" "+_e[i]+" square-"+l+'" style="width: '+de+"px; height: "+de+'px" id="'+Ve[l]+'" data-square="'+l+'">',a.showNotation===!0&&(("white"===t&&1===o||"black"===t&&8===o)&&(e+='<div class="'+_e.notation+" "+_e.alpha+'">'+r[s]+"</div>"),0===s&&(e+='<div class="'+_e.notation+" "+_e.numeric+'">'+o+"</div>")),e+="</div>",i="white"===i?"black":"white"}e+='<div class="'+_e.clearfix+'"></div></div>',i="white"===i?"black":"white","white"===t?o--:o++}return e}function b(t){return"function"==typeof a.pieceTheme?a.pieceTheme(t):"string"==typeof a.pieceTheme?a.pieceTheme.replace(/{piece}/g,t):(u(8272,"Unable to build image source for cfg.pieceTheme."),"")}function C(t,e,r){var o='<img src="'+b(t)+'" ';return r&&"string"==typeof r&&(o+='id="'+r+'" '),o+='alt="" class="'+_e.piece+'" data-piece="'+t+'" style="width: '+de+"px;height: "+de+"px;",e===!0&&(o+="display:none;"),o+='" />'}function k(t){var e=["wK","wQ","wR","wB","wN","wP"];"black"===t&&(e=["bK","bQ","bR","bB","bN","bP"]);for(var r="",o=0;o<e.length;o++)r+=C(e[o],!1,Ee[e[o]]);return r}function O(t,e,r,o){var i=$("#"+Ve[t]),s=i.offset(),l=$("#"+Ve[e]),p=l.offset(),c=n();$("body").append(C(r,!0,c));var h=$("#"+c);h.css({display:"",position:"absolute",top:s.top,left:s.left}),i.find("."+_e.piece).remove();var d=function(){l.append(C(r)),h.remove(),"function"==typeof o&&o()},u={duration:a.moveSpeed,complete:d};h.animate(p,u)}function R(t,e,r){var o=$("#"+Ee[t]).offset(),i=$("#"+Ve[e]),s=i.offset(),l=n();$("body").append(C(t,!0,l));var p=$("#"+l);p.css({display:"",position:"absolute",left:o.left,top:o.top});var c=function(){i.find("."+_e.piece).remove(),i.append(C(t)),p.remove(),"function"==typeof r&&r()},h={duration:a.moveSpeed,complete:c};p.animate(s,h)}function E(t,e,r){function o(){i++,i===t.length&&(S(),$e=!1,a.hasOwnProperty("onMoveEnd")===!0&&"function"==typeof a.onMoveEnd&&a.onMoveEnd(c(e),c(r)))}$e=!0;for(var i=0,n=0;n<t.length;n++)"clear"===t[n].type&&$("#"+Ve[t[n].square]+" ."+_e.piece).fadeOut(a.trashSpeed,o),"add"===t[n].type&&a.sparePieces!==!0&&$("#"+Ve[t[n].square]).append(C(t[n].piece,!0)).find("."+_e.piece).fadeIn(a.appearSpeed,o),"add"===t[n].type&&a.sparePieces===!0&&R(t[n].piece,t[n].square,o),"move"===t[n].type&&O(t[n].source,t[n].destination,t[n].piece,o)}function V(t,e){t=t.split("");var r=p.indexOf(t[0])+1,o=parseInt(t[1],10);e=e.split("");var i=p.indexOf(e[0])+1,a=parseInt(e[1],10),n=Math.abs(r-i),s=Math.abs(o-a);return n>=s?n:s}function I(t){for(var e=[],r=0;8>r;r++)for(var o=0;8>o;o++){var i=p[r]+(o+1);t!==i&&e.push({square:i,distance:V(t,i)})}e.sort(function(t,e){return t.distance-e.distance});for(var a=[],r=0;r<e.length;r++)a.push(e[r].square);return a}function x(t,e,r){for(var o=I(r),i=0;i<o.length;i++){var a=o[i];if(t.hasOwnProperty(a)===!0&&t[a]===e)return a}return!1}function M(t,e){t=c(t),e=c(e);var r=[],o={};for(var i in e)e.hasOwnProperty(i)===!0&&t.hasOwnProperty(i)===!0&&t[i]===e[i]&&(delete t[i],delete e[i]);for(var i in e)if(e.hasOwnProperty(i)===!0){var a=x(t,e[i],i);a!==!1&&(r.push({type:"move",source:a,destination:i,piece:e[i]}),delete t[a],delete e[i],o[i]=!0)}for(var i in e)e.hasOwnProperty(i)===!0&&(r.push({type:"add",square:i,piece:e[i]}),delete e[i]);for(var i in t)t.hasOwnProperty(i)===!0&&o.hasOwnProperty(i)!==!0&&(r.push({type:"clear",square:i,piece:t[i]}),delete t[i]);return r}function S(){le.find("."+_e.piece).remove();for(var t in Oe)Oe.hasOwnProperty(t)===!0&&$("#"+Ve[t]).append(C(Oe[t]))}function N(){le.html(_(ke)),S(),a.sparePieces===!0&&("white"===ke?(ce.html(k("black")),he.html(k("white"))):(ce.html(k("white")),he.html(k("black"))))}function T(t,e){t=c(t);for(var r in e)if(e.hasOwnProperty(r)===!0&&t.hasOwnProperty(r)===!0){var o=t[r];delete t[r],t[e[r]]=o}return t}function P(t){var e=c(Oe),r=c(t),o=l(e),i=l(r);o!==i&&(a.hasOwnProperty("onChange")===!0&&"function"==typeof a.onChange&&a.onChange(e,r),Oe=t)}function G(t,e){for(var r in ge)if(ge.hasOwnProperty(r)===!0){var o=ge[r];if(t>=o.left&&t<o.left+de&&e>=o.top&&e<o.top+de)return r}return"offboard"}function H(){ge={};for(var t in Ve)Ve.hasOwnProperty(t)===!0&&(ge[t]=$("#"+Ve[t]).offset())}function D(){le.find("."+_e.square).removeClass(_e.highlight1+" "+_e.highlight2)}function B(){function t(){S(),pe.css("display","none"),a.hasOwnProperty("onSnapbackEnd")===!0&&"function"==typeof a.onSnapbackEnd&&a.onSnapbackEnd(ue,fe,c(Oe),ke)}if("spare"===fe)return j(),void 0;D();var e=$("#"+Ve[fe]).offset(),r={duration:a.snapbackSpeed,complete:t};pe.animate(e,r),Re=!1}function j(){D();var t=c(Oe);delete t[fe],P(t),S(),pe.fadeOut(a.trashSpeed),Re=!1}function A(t){D();var e=c(Oe);delete e[fe],e[t]=ue,P(e);var r=$("#"+Ve[t]).offset(),o=function(){S(),pe.css("display","none"),a.hasOwnProperty("onSnapEnd")===!0&&"function"==typeof a.onSnapEnd&&a.onSnapEnd(fe,t,ue)},i={duration:a.snapSpeed,complete:o};pe.animate(r,i),Re=!1}function J(t,e,r,o){("function"!=typeof a.onDragStart||a.onDragStart(t,e,c(Oe),ke)!==!1)&&(Re=!0,ue=e,fe=t,me="spare"===t?"offboard":t,H(),pe.attr("src",b(e)).css({display:"",position:"absolute",left:r-de/2,top:o-de/2}),"spare"!==t&&$("#"+Ve[t]).addClass(_e.highlight1).find("."+_e.piece).css("display","none"))}function L(t,r){pe.css({left:t-de/2,top:r-de/2});var o=G(t,r);o!==me&&(e(me)===!0&&$("#"+Ve[me]).removeClass(_e.highlight2),e(o)===!0&&$("#"+Ve[o]).addClass(_e.highlight2),"function"==typeof a.onDragMove&&a.onDragMove(o,me,fe,ue,c(Oe),ke),me=o)}function Q(t){var r="drop";if("offboard"===t&&"snapback"===a.dropOffBoard&&(r="snapback"),"offboard"===t&&"trash"===a.dropOffBoard&&(r="trash"),a.hasOwnProperty("onDrop")===!0&&"function"==typeof a.onDrop){var o=c(Oe);"spare"===fe&&e(t)===!0&&(o[t]=ue),e(fe)===!0&&"offboard"===t&&delete o[fe],e(fe)===!0&&e(t)===!0&&(delete o[fe],o[t]=ue);var i=c(Oe),n=a.onDrop(fe,t,ue,o,i,ke);("snapback"===n||"trash"===n)&&(r=n)}"snapback"===r?B():"trash"===r?j():"drop"===r&&A(t)}function z(){return"ontouchstart"in document.documentElement}function K(){return navigator&&navigator.userAgent&&-1!==navigator.userAgent.search(/MSIE/)}function q(t){t.preventDefault()}function Y(t){if(a.draggable===!0){var r=$(this).attr("data-square");e(r)===!0&&Oe.hasOwnProperty(r)===!0&&J(r,Oe[r],t.pageX,t.pageY)}}function X(t){if(a.draggable===!0){var r=$(this).attr("data-square");e(r)===!0&&Oe.hasOwnProperty(r)===!0&&(t=t.originalEvent,J(r,Oe[r],t.changedTouches[0].pageX,t.changedTouches[0].pageY))}}function F(t){if(a.sparePieces===!0){var e=$(this).attr("data-piece");J("spare",e,t.pageX,t.pageY)}}function W(t){if(a.sparePieces===!0){var e=$(this).attr("data-piece");t=t.originalEvent,J("spare",e,t.changedTouches[0].pageX,t.changedTouches[0].pageY)}}function U(t){Re===!0&&L(t.pageX,t.pageY)}function Z(t){Re===!0&&(t.preventDefault(),L(t.originalEvent.changedTouches[0].pageX,t.originalEvent.changedTouches[0].pageY))}function te(t){if(Re===!0){var e=G(t.pageX,t.pageY);Q(e)}}function ee(t){if(Re===!0){var e=G(t.originalEvent.changedTouches[0].pageX,t.originalEvent.changedTouches[0].pageY);Q(e)}}function re(t){if(Re===!1&&a.hasOwnProperty("onMouseoverSquare")===!0&&"function"==typeof a.onMouseoverSquare){var r=$(t.currentTarget).attr("data-square");if(e(r)===!0){var o=!1;Oe.hasOwnProperty(r)===!0&&(o=Oe[r]),a.onMouseoverSquare(r,o,c(Oe),ke)}}}function oe(t){if(Re===!1&&a.hasOwnProperty("onMouseoutSquare")===!0&&"function"==typeof a.onMouseoutSquare){var r=$(t.currentTarget).attr("data-square");if(e(r)===!0){var o=!1;Oe.hasOwnProperty(r)===!0&&(o=Oe[r]),a.onMouseoutSquare(r,o,c(Oe),ke)}}}function ie(){$("body").on("mousedown mousemove","."+_e.piece,q),le.on("mousedown","."+_e.square,Y),se.on("mousedown","."+_e.sparePieces+" ."+_e.piece,F),le.on("mouseenter","."+_e.square,re),le.on("mouseleave","."+_e.square,oe),K()===!0?(document.ondragstart=function(){return!1},$("body").on("mousemove",U),$("body").on("mouseup",te)):($(window).on("mousemove",U),$(window).on("mouseup",te)),z()===!0&&(le.on("touchstart","."+_e.square,X),se.on("touchstart","."+_e.sparePieces+" ."+_e.piece,W),$(window).on("touchmove",Z),$(window).on("touchend",ee))}function ae(){se.html(w()),le=se.find("."+_e.board),a.sparePieces===!0&&(ce=se.find("."+_e.sparePiecesTop),he=se.find("."+_e.sparePiecesBottom));var t=n();$("body").append(C("wP",!0,t)),pe=$("#"+t),Ce=parseInt(le.css("borderLeftWidth"),10),be.resize()}function ne(){m()===!0&&g()===!0&&(v(),ae(),ie())}a=a||{};var se,le,pe,ce,he,de,ue,me,fe,ge,ye="1.7.0",ve="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",we=s(ve),_e={alpha:"alpha-d2270",black:"black-3c85d",board:"board-b72b1",chessboard:"chessboard-63f37",clearfix:"clearfix-7da63",highlight1:"highlight1-32417",highlight2:"highlight2-9c5d2",notation:"notation-322f9",numeric:"numeric-fc462",piece:"piece-417db",row:"row-5277c",sparePieces:"spare-pieces-7492f",sparePiecesBottom:"spare-pieces-bottom-ae20f",sparePiecesTop:"spare-pieces-top-4028b",square:"square-55d63",white:"white-1e1d7"},be={},$e=!1,Ce=2,ke="white",Oe={},Re=!1,Ee={},Ve={};return be.clear=function(t){be.position({},t)},be.destroy=function(){se.html(""),pe.remove(),se.unbind()},be.fen=function(){return be.position("fen")},be.flip=function(){be.orientation("flip")},be.move=function(){if(0!==arguments.length){for(var e=!0,r={},o=0;o<arguments.length;o++)if(arguments[o]!==!1)if(t(arguments[o])===!0){var i=arguments[o].split("-");r[i[0]]=i[1]}else u(2826,"Invalid move passed to the move method.",arguments[o]);else e=!1;var a=T(Oe,r);return be.position(a,e),a}},be.orientation=function(t){return 0===arguments.length?ke:"white"===t||"black"===t?(ke=t,N(),void 0):"flip"===t?(ke="white"===ke?"black":"white",N(),void 0):(u(5482,"Invalid value passed to the orientation method.",t),void 0)},be.position=function(t,e){return 0===arguments.length?c(Oe):"string"==typeof t&&"fen"===t.toLowerCase()?l(Oe):(e!==!1&&(e=!0),"string"==typeof t&&"start"===t.toLowerCase()&&(t=c(we)),o(t)===!0&&(t=s(t)),i(t)!==!0?(u(6482,"Invalid value passed to the position method.",t),void 0):(e===!0?(E(M(Oe,t),Oe,t),P(t)):(P(t),S()),void 0))},be.resize=function(){de=y(),le.css("width",8*de+"px"),pe.css({height:de,width:de}),a.sparePieces===!0&&se.find("."+_e.sparePieces).css("paddingLeft",de+Ce+"px"),N()},be.start=function(t){be.position("start",t)},ne(),be},window.ChessBoard.fenToObj=s,window.ChessBoard.objToFen=l}();
//# sourceMappingURL=game-views-975e74f0e265ff734418503973d3be0b.js.map