(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};jQuery(function(){var b,d,e,f,g,h,i,j,k,l,m,n;return e=function(d){function e(){return this.loadList=a(this.loadList,this),i=e.__super__.constructor.apply(this,arguments),i}return c(e,d),e.prototype.template="recruit/question-list",e.prototype.className="candidate-qlist",e.prototype.events={"click .test-done":"testDone"},e.prototype.initialize=function(a){return this.aid=a.aid,this.page=a.page},e.prototype.render=function(){return $(this.el).html("<center><p>Loading</p></center>"),setTimeout(this.loadList,200),this},e.prototype.loadList=function(){var a=this;return $.ajax({url:"/recruit/attempts/"+this.aid,type:"get",success:function(c){return $(a.el).html(b.appController.template(a.template,a)({questions:c.questions,solves:c.solve_mapping,aid:a.aid}))},error:function(b){return console.log(b),$(a.el).html("<center><p>This test is completed.</p></center>")}})},e.prototype.testDone=function(a){if(confirm("Once closed, you can no longer view or modify this test.\n\nAre you sure you are done, and want to close the test?","Confirm logout"))return $.ajax({type:"put",url:"/recruit/tests/logout",success:function(a){return b.router.navigate("/",{trigger:!0})},error:function(a){return console.log("Unable to perform operation.")}})},e}(window.HR.GenericView),g=function(d){function e(){return this.loadQuestion=a(this.loadQuestion,this),j=e.__super__.constructor.apply(this,arguments),j}return c(e,d),e.prototype.template="recruit/question-base",e.prototype.className="question-base",e.prototype.initialize=function(a){return this.qid=a.qid,this.aid=a.aid,this.page=a.page,this.question=null},e.prototype.events={"click .ans-submit":"submitAnswer"},e.prototype.submitAnswer=function(a){var b,c=this;return a.preventDefault(),b=this.view.answer(),b?(console.log(b),$.ajax({url:"/recruit/attempts/"+this.aid+"/solves/",type:"post",data:{qid:this.qid,answer:b},success:function(a){return console.log(a),c.$(".link-next").click()},error:function(a){return alert("Unable to submit answer.")}})):alert("Please answer before submitting.")},e.prototype.render=function(){return $(this.el).html(b.appController.template(this.template,this)({aid:this.aid,page:this.page})),setTimeout(this.loadQuestion,200),this},e.prototype.loadQuestion=function(){var a=this;return $.ajax({url:"/recruit/attempts/"+this.aid+"/questions/"+this.qid,type:"get",success:function(c){var d;console.log(c),a.question=c.model,d=!0;switch(a.question.type){case"code":case"approx":a.view=new b.RecruitCandidateCodingView({question:a.question,solve:c.solve});break;case"mcq":case"multiple_mcq":a.view=new b.RecruitCandidateMcqView({question:a.question,solve:c.solve});break;case"textAns":a.view=new b.RecruitCandidateSubjectiveView({question:a.question,solve:c.solve});break;default:d=!1}return a.question.name?a.$(".qtitle").html(a.question.name):a.$(".qtitle").html(window.istreet.cfg.hrqn[a.question.type]),c.nextqid?a.$(".link-next").attr("href","/tests/"+a.aid+"/page/"+(c.qno+1)+"/"+c.nextqid):(a.$(".link-next").attr("href","/tests/"+a.aid+"/page/list"),a.$(".link-next").addClass("disabled")),c.qno>1?a.$(".link-prev").attr("href","/tests/"+a.aid+"/page/"+(c.qno-1)+"/"+c.prevqid):(a.$(".link-prev").attr("href","/tests/"+a.aid+"/page/list"),a.$(".link-prev").addClass("disabled")),a.$(".challenge-text").html(a.question.question),d?a.$(".qcontent").html(a.view.render().el):(a.$(".qcontent").html("<center>This question type is not available.</center>"),a.$(".ans-submit").addClass("disabled"))},error:function(b){return console.log(b),a.$(".qcontent").html("<center>Unable to get question.</center>")}})},e}(window.HR.GenericView),d=function(a){function d(){return k=d.__super__.constructor.apply(this,arguments),k}return c(d,a),d.prototype.template="recruit/question-coding",d.prototype.className="question-coding",d.prototype.initialize=function(a){return this.question=a.question,this.solve=a.solve},d.prototype.render=function(){return $(this.el).html(b.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.answer=function(){return this.$(".code-answer").val()},d.prototype.set_answer=function(){if(this.solve)return this.$(".code-answer").val(this.solve.answer)},d}(window.HR.GenericView),f=function(a){function d(){return l=d.__super__.constructor.apply(this,arguments),l}return c(d,a),d.prototype.template="recruit/question-mcq",d.prototype.className="question-mcq",d.prototype.initialize=function(a){return this.question=a.question,this.solve=a.solve},d.prototype.render=function(){return $(this.el).html(b.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.answer=function(){var a,b=this;return this.question.type==="mcq"?(a=this.$("input[name=mcqopts]:checked").val(),a?a:null):(a=[],_.each(this.$("input[name=mcqopts]:checked"),function(c){return a.push(b.$(c).val())}),a.length?a:null)},d.prototype.set_answer=function(){var a,b,c,d,e;if(!this.solve)return;if(this.question.type==="mcq")return this.$("input#mcqopts"+this.solve.answer).prop("checked",!0);d=this.solve.answer,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this.$("input#mcqopts"+a).prop("checked",!0));return e},d}(window.HR.GenericView),h=function(a){function d(){return m=d.__super__.constructor.apply(this,arguments),m}return c(d,a),d.prototype.template="recruit/question-subjective",d.prototype.className="question-subjective",d.prototype.initialize=function(a){return this.question=a.question,this.solve=a.solve},d.prototype.render=function(){return $(this.el).html(b.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.answer=function(){return this.$(".sub-answer").val()},d.prototype.set_answer=function(){if(this.solve)return this.$(".sub-answer").val(this.solve.answer)},d}(window.HR.GenericView),b=(n=window.HR)!=null?n:{},b.RecruitCandidateListView=e,b.RecruitCandidateQuestionView=g,b.RecruitCandidateCodingView=d,b.RecruitCandidateMcqView=f,b.RecruitCandidateSubjectiveView=h})}).call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};jQuery(function(){var b,d,e,f;return d=function(d){function f(){return this.loadTest=a(this.loadTest,this),e=f.__super__.constructor.apply(this,arguments),e}return c(f,d),f.prototype.template="recruit/login",f.prototype.className="candidate-login",f.prototype.events={"click .test-submit":"loginAction"},f.prototype.initialize=function(a){return this.unique_id=a.unique_id,this.authkey=a.authkey},f.prototype.render=function(){return $(this.el).html("<center><p>Loading</p></center>"),setTimeout(this.loadTest,200),this},f.prototype.loadTest=function(){var a,c=this;return a={},this.authkey&&(a[auth_key]=this.authkey),$.ajax({url:"/recruit/tests/"+this.unique_id,data:a,type:"get",success:function(a){return console.log("success",c.template),console.log(a),$(c.el).empty(),$(c.el).html(b.appController.template(c.template,c)({test:a.model,auth_valid:a.auth_valid})),c.$("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})},error:function(a){return console.log("error",a),b.router.navigate("",{trigger:!0,replace:!0})}})},f.prototype.loginAction=function(a){var c,d,e,f=this;d=this.$("input[name=username]").val(),e=this.$("input[name=password]").val(),c=this.$(".iagree").attr("checked")?!0:!1;if(!c){alert("You cannot take this test without agreeing to the specified conditions.");return}return $.ajax({url:"/recruit/tests/"+this.unique_id+"/login",data:{auth_key:this.authkey,email:d,password:e},type:"put",success:function(a){return console.log(a),b.router.navigate("tests/"+a.attempt+"/page/list",{trigger:!0})},error:function(a){return alert("Incorrect login information")}})},f}(window.HR.GenericView),b=(f=window.HR)!=null?f:{},b.RecruitCandidateLoginView=d})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="dashboard/base",e.prototype.className="dashboard-view",e.prototype.initialize=function(a){return this.hacker=c.profile(),this.dashboard=c.model("dashboard").cached(),this.listenTo(this.hacker,"reset",this.render),this.listenTo(this.dashboard,"reset",this.render),c.requires("compound/highcharts",function(){})},e.prototype.render=function(){return!this.hacker.sync_status||!this.dashboard.sync_status?($(this.el).html(c.appController.viewLoader(64)),this):($(this.el).html(c.appController.template(this.template,this)({model:this.dashboard.toJSON()})),this.historyView||(this.historyView=new c.DashboardHistoryView({model:c.profile().toJSON(),username:c.profile().get("username")})),this.trackView||(this.trackView=new c.DashboardTrackView({dashboard:this.dashboard})),this.submissionsView||(this.submissionsView=new c.DashboardSubmissionsView),this.assign({".dashboard_submissions":this.submissionsView,".dashboard_tracks":this.trackView,".dashboard_history":this.historyView}),this)},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.DashboardView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="dashboard/history",e.prototype.className="dashboard-history",e.prototype.initialize=function(a){return a==null&&(a={}),this.history=c.collection("dashboard-history"),this.history.setHacker(this.model.username),this.history.cached(),this.listenTo(this.history,"reset",this.render),this.listenTo(this.history,"change",this.render)},e.prototype.setupChange=function(){var a,b=this;return a=0,this.maxRank=0,this.lowestRank=null,this.history.each(function(c){var d,e;return e=c.get("rank"),d=e-a,e>b.maxRank&&(b.maxRank=e),b.lowestRank&&e<b.lowestRank&&(b.lowestRank=e),c.set({increase:d>=0,change:d,logged_at:new Date(c.get("logged_at"))},{silent:!0}),a=e})},e.prototype.renderChart=function(a){var b,d,e=this;return a==null&&(a={}),d=this,b={chart:{type:"line",zoomType:"x",backgroundColor:null,height:250},colors:["#00beff","#9bc0e3"],title:{text:null},legend:{enabled:!1},xAxis:{title:{text:null},categories:this.history.map(function(a){return a.get("logged_at")}),labels:{enabled:!1}},yAxis:{title:{text:null},labels:{enabled:!1},gridLineWidth:0,tickInterval:100},credits:{enabled:!1},series:[{data:this.history.map(function(a){return{y:d.maxRank-a.get("rank"),event:a}}),name:"Rank"}],tooltip:{formatter:function(){var a,b,c,d,e,f,g;return d=this.point.event,g=d.get("rank"),a=d.get("change"),f=d.get("logged_at"),e="<b>"+d.get("rank")+"</b>",g!==a&&(d.get("change")>=0?(b="red",c="+"):(b="green",c="-"),e+=' (<span style="color:'+b+'">'+c+" "+Math.abs(a)+"</span>)"),e+="<br/><i>"+f.toDateString()+"</i>",e}}},a=_.extend(b,a),c.requires("compound/highcharts",function(){return e.$(".history-chart").highcharts(a)})},e.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)({history:this.history,model:this.model})),this.history.sync_status?(this.setupChange(),this.history.length>1&&this.renderChart(),this):($(this.el).html(c.appController.viewLoader()),this)},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.DashboardHistoryView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="dashboard/rating-history",e.prototype.className="dashboard-rating-history",e.prototype.initialize=function(a){var b;return a==null&&(a={}),this.rendered=!1,b=this,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.render),$.ajax({async:!1,url:"rest/hackers/"+this.model.get("username")+"/rating_histories",success:function(a,c){return b.data=a}})},e.prototype.renderChart=function(b,c){var d,e,f,g,h,i,j,k=this;c==null&&(c={}),f=1500,j=b.events;for(h=0,i=j.length;h<i;h++)e=j[h],e.rating=Math.floor(e.rating),e.change=e.rating-f,f=e.rating;return g=this,d={chart:{type:"line",zoomType:"x",backgroundColor:null,height:250},colors:["#00beff","#9bc0e3"],title:{text:null},legend:{enabled:!1},xAxis:{title:{text:null},labels:{enabled:!1}},yAxis:{title:{text:null},labels:{format:"{value}"},gridLineWidth:0},credits:{enabled:!1},series:[{data:b.events.map(function(a){return{x:(new Date(a.date)).getTime(),y:a.rating,event:a}}),name:"Rank"}],tooltip:{formatter:function(){var a,b,c,d;return e=this.point.event,c=new Date(e.date),d="<a href='www.hackerrank.com/contests/"+e.contest_slug+"/leaderboard'>"+e.contest_name+"</a><br/>",d+="<b>"+e.rating+"</b>",e.change>=0?(a="green",b="+"):(a="red",b="-"),d+=' (<span style="color:'+a+'">'+b+Math.abs(e.change)+"</span>)<br/>",d+="<i>"+c.toDateString()+"</i>"}}},c=_.extend(d,c),a.requires("compound/highcharts",function(){return k.$("."+b.index+"-history-chart").highcharts(c)})},e.prototype.render=function(){var b,c,d,e,f,g,h,i,j,k;if(this.data&&this.model.sync_status){e=[{id:0,text:"Main"}],j=this.data.models;for(c=f=0,h=j.length;f<h;c=++f)b=j[c],e.push({id:c+1,text:b.category,count:b.events.length});d=this.model.toJSON().current_rating.track,$(this.el).html(a.appController.template(this.template,this)({model:e,track_rating:d})),k=this.data.models;for(c=g=0,i=k.length;g<i;c=++g)b=k[c],b.index=c+1,this.renderChart(b);this.historyView||(this.historyView=new a.DashboardHistoryView({model:this.model.toJSON()})),this.historyView.setElement(this.$(".0-history-chart")),this.historyView.render()}return this},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.RatingHistoryView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="dashboard/submission",e.prototype.className="dashboard-submission-view",e.prototype.initialize=function(a){return this.model=a.model,this.listenTo(this.model,"reset",this.render)},e.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)({model:this.model.toJSON()})),this},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.DashboardSubmissionView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="dashboard/submissions",e.prototype.className="dashboard-submissions-view",e.prototype.initialize=function(a){return this.submissions=c.collection("submissions").cached(),this.listenTo(this.submissions,"reset",this.render)},e.prototype.render=function(){var a,b=this;return $(this.el).html("<p class='block-margin'>You have not submitted a solution to any challenges yet.</p>"),a=$("<div>"),this.submissions.length&&(_.each(this.submissions.slice(0,5),function(b){var d;return d=new c.DashboardSubmissionView({model:b}),a.append(d.render().el)}),$(this.el).html(a)),this},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.DashboardSubmissionsView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="dashboard/track",e.prototype.className="dashboard-track-view",e.prototype.initialize=function(a){return this.dashboard=a.dashboard,this.progress=c.model("dashboard-progress").cached(),this.listenTo(this.progress,"reset",this.render)},e.prototype.events={"click .track-select":"trackSelect"},e.prototype.currentName=function(){return this.track?this.track.get("name"):"All Tracks"},e.prototype.trackSelect=function(a){var b;return b=$(a.currentTarget),this.track_id=b.attr("data-track-id")||null,this.track=this.progress.tracks().get(this.track_id),this.render()},e.prototype.stats=function(){var a;return a=this.progress.stats(this.track_id),a.languages&&(a.languages[0]="<strong>"+a.languages[0]+"</strong>"),a},e.prototype.renderChart=function(a){var b,d,e=this;return a==null&&(a={}),d=this.stats(),b={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,backgroundColor:null,height:250},colors:["#2674c6","#ddd9d9"],title:{text:null},tooltip:{pointFormat:"{series.name}: <b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"30%",startAngle:-90}},series:[{type:"pie",name:"Challenges share",data:[{name:"Completed",y:d.completion,sliced:!0,selected:!0},{name:"Remaining",y:100-d.completion}]}]},a=_.extend(b,a),c.requires("compound/highcharts",function(){return $(".track-chart").highcharts(a)})},e.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)({model:this.progress.toJSON(),stats:this.stats(),currentName:this.currentName()})),this.progress.sync_status?(this.renderChart(),this.delegateEvents(),this):($(this.el).html(c.appController.viewLoader()),this)},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.DashboardTrackView=a})}.call(this)