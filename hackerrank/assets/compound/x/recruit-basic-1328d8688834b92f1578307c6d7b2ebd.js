(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i,j;return h=function(a){return _.isFunction(a)?a():a},f=function(a){var b,c;return c=a,a&&(b=a.split(/to/i),b.length>1&&(c=b[0].trim()+".."+b[1].trim())),c},e=function(a,b,c){return c==null&&(c="prop"),_.find(a,function(a){return a[c]===b})},g=function(a){var b;return b={},_.each(a,function(a){return b[a.name]=a.value}),b},d=function(a,b,c){return a==null&&(a={}),b==null&&(b={}),c==null&&(c={}),_.each(b,function(b,d){a[d]=b;if(c[d]!==void 0)return a[d]=c[d]}),a},a=function(a){function f(){return i=f.__super__.constructor.apply(this,arguments),i}return b(f,a),f.prototype.def={},f.prototype.setAsync=function(a){this.async=a},f.prototype.defField=function(){return{template:"<%- row[prop] %>",format:function(a,b,c,d){return _.isFunction(c)||(c=_.template(c)),c({row:this,prop:a,row_no:b,field:d})}}},f.prototype.initialize=function(a){return a==null&&(a={}),d(this,h(this.def),a),_.bindAll(this),this.customDatatableOpt=a.customDatatableOpt,f.__super__.initialize.apply(this,arguments)},f.prototype.fields=null,f.prototype.url=null,f.prototype.datatableEl="#datatable",f.prototype.modelClass=null,f.prototype.datatable=null,f.prototype.baseParams=null,f.prototype.getFields=function(){var a,b;return b=this,a=_.map(h(this.fields),function(a,c){var d;return d={ix:c},_.extend(d,h(b.defField),a),_.isString(d.template)&&(d.template=_.template(d.template)),d}),a=_.sortBy(a,function(a){return a.ix})},f.prototype.beforeRequest=function(a){var b,c,d;return d={},b=h(this.baseParams),b&&_.extend(d,b),c=e(this.getFields(),a.iSortCol_0,"ix"),c&&c.prop&&(d.order_by=c.prop),d.order_dir=a.sSortDir_0,d.limit=a.iDisplayLength,d.offset=a.iDisplayStart,d},f.prototype.afterRequest=function(a,b){var c,d=this;return c={aaData:[],iTotalDisplayRecords:0,iTotalRecords:0,models:[]},_.isObject(a)&&_.isArray(a.results)&&(c.iTotalDisplayRecords=a.total,c.iTotalRecords=a.total,c.aaData=_.map(a.results,function(a,e){var f;return d.modelClass&&(a=new d.modelClass(a),c.models.push(a)),f=_.map(b,function(b){return b.format.call(a,b.prop,e,b.template)}),f})),c},f.prototype.params=function(){return{model:this.model,fields:this.getFields(),collection:this.collection}},f.prototype.sortableFields=function(){var a,b;return a=this.getFields(),b=_.chain(a).filter(function(a){return a.sortable===!1}).map(function(a){return a.ix}).value(),b},f.prototype.defaultOrderBy=function(){var a,b,c;return b=h(this.baseParams),c=0,b&&b.order_by&&(a=e(this.getFields(),b.order_by,"prop"),a&&(c=a.ix)),c},f.prototype.defaultOrderDir=function(){var a,b;return a=h(this.baseParams),b="asc",a&&a.order_dir&&(b=a.order_dir),b},f.prototype.datatableOpt=function(){var a,b,c=this;return b=this,a=this.getFields(),{sPaginationType:"bootstrap",bProcessing:!1,bServerSide:!0,bDestroy:!0,bAutoWidth:!1,aaSorting:[[this.defaultOrderBy(),this.defaultOrderDir()]],iDisplayLength:50,aoColumnDefs:[{bVisible:!0,aTargets:_.map(a,function(a){return a.ix})},{bSortable:!1,aTargets:h(this.sortableFields)}],fnPreDrawCallback:function(a){if(c.customDatatableOpt&&c.customDatatableOpt.showAfterFetch&&a._iRecordsTotal>0)return $(c.el).show()},sAjaxSource:h(this.url),fnServerData:function(c,d,e){d=g(d);if(_.isFunction(b.beforeRequest)){d=b.beforeRequest(d);if(d===!1)return}return $.ajax({url:c,data:d,dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(c){return _.isFunction(b.afterRequest)&&(c=b.afterRequest(c,a)),b.data=c,e(c),$(".tip").tooltip()}})}}},f.prototype.render=function(){var a=this;return $(this.el).html(c.appController.template(this.template,this)(h(this.params))),this.customDatatableOpt&&this.customDatatableOpt.showAfterFetch&&$(this.el).hide(),this.async?this:(this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){return _.isFunction(a.postRender)?a.postRender():console.log("post render not present - datatable")},1e3),this)},f.prototype.postRender=function(){var a;return a={},_.extend(a,h(this.datatableOpt),this.customDatatableOpt),this.datatable=this.$(this.datatableEl).dataTable(a)},f}(Backbone.View),c=(j=window.HR)!=null?j:{},c.DataTableView=a})}).call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c;return a=function(a){function f(){return c=f.__super__.constructor.apply(this,arguments),c}var d,e;return b(f,a),f.prototype.template="x/add-user-team-modal",f.prototype.tagName="div",f.prototype.initialize=function(a){return this.parent=a.parent,this.currentUser=d.currentUser,this.users=a.users,this.userLabels=a.userLabels,this.team_id=a.team_id,this.collection.bind("change",this.reset),this.collection.bind("reset",this.reset),f.__super__.initialize.call(this,a)},f.prototype.render=function(){var a=this;return $(this.el).html(d.appController.template(this.template,this)({model:this.model.toJSON()})),this.$("input[name=new-user-team-id]").val(this.team_id),this.$("#add-user-modal").modal(),this.userLabels&&this.$("input[name=new-user-name]").typeahead({source:this.userLabels,onselect:function(b){var c;return c=a.users[b].toJSON(),a.$("input[name=new-user-label]").val(b),a.$("input[name=new-user-email]").val(c.email).attr("disabled",!0),a.$("select[name=new-user-role]").val(c.role).attr("disabled",!0),c.firstname+" "+c.lastname}}),this},f.prototype.events=function(){return{"submit form[name=team-member-form]":"checkForPayment"}},f.prototype.checkForPayment=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;a.preventDefault(),$(".alert-error").addClass("hidden"),h=$("input[name=new-user-label]").val(),j=$("select[name=new-user-role]").val(),f=$("input[name=new-user-name]").val(),c=$("input[name=new-user-email]").val(),k=$("input[name=new-user-team-id]").val(),l=$("input[name=new-user-tests-permission]").attr("checked")?2:1,i=$("input[name=new-user-questions-permission]").attr("checked")?2:1,b=$("input[name=new-user-candidates-permission]").attr("checked")?2:1,g=f.split(" "),d=g.shift(),e=g.join(" "),m={role:j,firstname:d,lastname:e,email:c,team_id:k,tests_permission:l,questions_permission:i,candidates_permission:b};if(h&&this.users[h])m.user_id=this.users[h].get("user_id");else if(j!=="developer"&&this.currentUser.get("company").striple_plan!=="trial"&&this.userLabels.length>=30)return alert("You can add only upto 30 users in the trial period"),null;return this.addUser(m)},f.prototype.addUser=function(a){var b=this;return console.log(this.model),this.model.save(a,{suppressMessage:!0,success:function(a,c){return $("button.close").click(),b.collection.fetch()},error:function(c,d,e){var f;return f=$.parseJSON(d.responseText),d.status===402&&f.message==="Continue"?(b.$("button.close").click(),setTimeout(function(){return b.checkout(a)},500)):(b.$(".alert-error").html(f.message),b.$(".alert-error").removeClass("hidden"))}})},f.prototype.checkout=function(a){var b;return b={},b.payment_type="user",b.user_data=a,d.UserSettings.set("checkout",b),Backbone.history.navigate("payment/checkout",!0)},d=(e=window.HR)!=null?e:{},d.AddUserTeamView=f,f}(window.HR.GenericView)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="x/candidate-search",e.prototype.className="candidate-search",e.prototype.initialize=function(a){return a==null&&(a={}),this.term=a.term||"",this.collection.bind("reset",this.render,this),this.collection.bind("change",this.render,this),e.__super__.initialize.call(this,a)},e.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)({collection:this.collection,term:this.term})),this},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.CandidateSearchView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.getToken=function(a){var b;return this.validate()?Stripe.createToken({number:$("#card-number").val(),cvc:$("#cvv").val(),exp_month:$("#expiry-month").val(),exp_year:$("#expiry-year").val()},this.cardCheckResponseHandler()):(b={message:"Data provided is invalid",timer:null},alert(b.message),$(a).attr("disabled",!1).removeClass("disabled"),!1)},c.prototype.validate=function(){var a,b,c,d;return d=$("#card-number").val(),a=$("#cvv").val(),b=$("#expiry-month").val(),c=$("#expiry-year").val(),!Stripe.validateExpiry(b,c)||!Stripe.validateCVC(a)||Stripe.cardType(d)==="Unknown"?!1:!0},c.prototype.cardCheckResponseHandler=function(){},c}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.CardDetailsView=a})}.call(this),function(){var a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};jQuery(function(){}),a=function(a){function d(){return c=d.__super__.constructor.apply(this,arguments),c}return f(d,a),d.prototype.initialize=function(a){var b;return b=this,this.listenTo(this.model,"change",this.render)},d.prototype.template="x/create-question-modal",d.prototype.className="create-question-modal",d.prototype.events=function(){return{"click .js-create-question-tabs-select":"selectTab","click .js-question-tab":"closeModalAndNavigate"}},d.prototype.render=function(){var a,c,d;return c=this,d=this.model.toJSON(),d&&(a=b.appController.template(this.template,this)({model:d,throbber:b.appController.viewLoader()}),$(this.el).html(a)),this.$("#create-question-modal").modal(),this},d.prototype.selectTab=function(a){var b;return a.preventDefault(),b=this.$(a.currentTarget).data("tab"),this.$(".js-create-question-tabs").addClass("hidden"),this.$(".js-"+b).removeClass("hidden"),this.$(".js-create-question-tabs-select").parent().removeClass("active"),this.$(a.currentTarget).parent().addClass("active")},d.prototype.closeModalAndNavigate=function(a){var b;return a.preventDefault(),b=this.$(a.currentTarget).attr("href"),this.$(".close").click(),setTimeout(function(){return Backbone.history.navigate(b,!0)},200)},d}(window.HR.GenericView),b=(d=window.HR)!=null?d:{},b.CreateQuestionModalView=a}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="x/edit-team-modal",e.prototype.tagName="div",e.prototype.initialize=function(a){return this.parent=a.parent},e.prototype._render=function(){return $(this.el).empty(),$(this.el).html(c.appController.template(this.template,this)({model:this.model})),this.$("#new-team-modal").modal(),this},e.prototype.events=function(){return{"submit form[name=team-form]":"createTeam"}},e.prototype.createTeam=function(a){var b,c=this;a.preventDefault(),b=this.$("input[name=new-team-name]").val();if(b)return this.model.set("name",b,{silent:!0}),this.model.save(null,{silent:!0,success:function(a,b,d){return c.$("button.close").click(),setTimeout(function(){return c.collection.get(a.get("id"))||c.collection.add(a),c.collection.fetch({success:function(){return c.parent.render()}})},1e3)},error:function(a,b,d){var e;return e=$.parseJSON(b),c.$(".alert-error").html(e.message)}})},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.EditTeamView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,a),e.prototype.template="x/edit-user-team-modal",e.prototype.tagName="div",e.prototype.initialize=function(a){return this.parent=a.parent,this.users=a.users,this.userLabels=a.userLabels,this.team_id=a.team_id,e.__super__.initialize.call(this,a)},e.prototype.events=function(){return{"submit form[name=team-member-form]":"updateUser"}},e.prototype.render=function(){return $(this.el).html(c.appController.template(this.template,this)({model:this.model.toJSON()})),this.$("input[name=edit-user-team-id]").val(this.team_id),this.$("#edit-user-modal").modal(),this.$("select[name=new-user-role]").val(this.model.get("role")).attr("disabled",!0),this},e.prototype.updateUser=function(a){var b,c,d,e,f=this;return a.preventDefault(),$(".alert-error").addClass("hidden"),d=$("input[name=edit-user-tests-permission]").attr("checked")?2:1,c=$("input[name=edit-user-questions-permission]").attr("checked")?2:1,b=$("input[name=edit-user-candidates-permission]").attr("checked")?2:1,e={tests_permission:d,questions_permission:c,candidates_permission:b},console.log(this.model),this.model.save(e,{suppressMessage:!0,success:function(a,b){return f.$("button.close").click(),f.collection.fetch()}},{error:function(a,b,c){var d;return d=$.parseJSON(b.responseText),f.$(".alert-error").html(d.message),f.$(".alert-error").removeClass("hidden")}})},e}(window.HR.GenericView),c=(e=window.HR)!=null?e:{},c.EditUserTeamView=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i;return c=function(c){function g(){return f=g.__super__.constructor.apply(this,arguments),f}return b(g,c),g.prototype.initialize=function(a){var b;return b=this},g.prototype.template="x/interview-edit",g.prototype.className="interview-edit",g.prototype.events=function(){return{"submit form[name=quick-pad-form]":"createQuickPad","click .js-add-interviewer":"addInterviewer","click .js-edit-attendant":"editAttendant","click .js-done":"done","click .js-share-pad":"sharePad"}},g.prototype.render=function(){var a,b;return b=this,a=d.appController.template(this.template,this)({throbber:d.appController.viewLoader(),model:this.model.toJSON(),just_created:d.NotificationModel.pop()==="new interview"}),$(this.el).html(a),this},g.prototype.setupTimezoneSelect=function(){return setTimeout(function(){return $.post("http://localhost.com/recruit2/user/timezones",function(a){return $("#timezone_container").html(a),$("#timezones").select2({width:"360px",matcher:function(a,b,c){var d,e;return e=[],e.push(b,$(c).val()),d=$(c).attr("data-alias"),d&&e.push.apply(e,d.split(",")),_.some(e,function(b){return b.toUpperCase().indexOf(a.toUpperCase())>-1})}})})})},g.prototype.done=function(a){return a.preventDefault(),Backbone.history.navigate("x/interviews",!0)},g.prototype.sharePad=function(a){var b;return a.preventDefault(),b=new e({model:this.model}),this.$("#modal-container").html(b.render().el)},g.prototype.addInterviewer=function(b){var c;return b.preventDefault(),c=new a({role:"interviewer",attendant:{},model:this.model,parent:this}),this.$("#modal-container").html(c.render().el)},g.prototype.editAttendant=function(b){var c,d,e,f,g=this;b.preventDefault(),f=this.$(b.currentTarget).data("role"),e=this.$(b.currentTarget).data("id"),c={};if(f==="candidate")_.each(this.model.get("candidates"),function(a){if(a.id&&a.id===e)return c=a});else if(f==="interviewer")_.each(this.model.get("interviewers"),function(a){if(a.id&&a.id===e)return c=a});else return;if(!c||!_.isEmpty(c))return d=new a({role:f,attendant:c,model:this.model,parent:this}),this.$("#modal-container").html(d.render().el)},g}(window.HR.GenericView),a=function(a){function c(){return g=c.__super__.constructor.apply(this,arguments),g}return b(c,a),c.prototype.template="x/attendant-edit-modal",c.prototype.className="attendant-edit-modal",c.prototype.initialize=function(a){return this.attendant=a.attendant,this.role=a.role,this.parent=a.parent},c.prototype.events=function(){return{"submit form[name=edit-attendant-form]":"saveAttendant"}},c.prototype.render=function(){var a;return a=d.appController.template(this.template,this)({attendant:this.attendant,role:this.role}),$(this.el).html(a),this.$("#attendant-edit-modal").modal(),this},c.prototype.saveAttendant=function(a){var b,c,d,e,f,g,h=this;a.preventDefault(),f=this.$("input[name=name]").removeClass("error").val(),d=this.$("input[name=email]").removeClass("error").val(),g=this.$("input[name=phone]").val();if(_.isEmpty(f)){this.$("input[name=name]").addClass("error");return}if(_.isEmpty(d)){this.$("input[name=email]").addClass("error");return}return b={name:f,email:d,phone:g},this.attendant.id?(b.email=this.attendant.email,this.role==="interviewer"?(e=[],_.each(this.model.get("interviewers"),function(a){var c;return a.id===h.attendant.id?(c={},_.extend(c,a,b),e.push(c)):e.push(a)}),this.model.set("interviewers",e,{silent:!0})):this.role==="candidate"&&(c=[],_.each(this.model.get("candidates"),function(a){var d;return a.id===h.attendant.id?(d={},_.extend(d,a,b),c.push(d)):c.push(a)}),this.model.set("candidates",c,{silent:!0}))):(e=this.model.get("interviewers"),e.push(b),this.model.set("interviewers",e,{silent:!0})),this.model.save(null,{silent:!0,success:function(a){return h.$(".close").click(),h.parent.render()}})},c}(window.HR.GenericView),e=function(a){function c(){return h=c.__super__.constructor.apply(this,arguments),h}return b(c,a),c.prototype.template="x/share-pad-modal",c.prototype.className="share-pad-modal",c.prototype.events=function(){return{"submit form[name=share-pad-form]":"sharePad"}},c.prototype.render=function(){var a,b,c;return b=d.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(b),this.$("#share-pad-modal").modal(),a={skin:"moono",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Link","Unlink"],["Styles","Format","FontSize"],["PasteFromWord","-","Undo","Redo"],["Source"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,width:600,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1},c=this,setTimeout(function(){return CKEDITOR.instances["email-content"]&&delete CKEDITOR.instances["email-content"],a.width=this.$("textarea[name=email-content]").width()||780,this.$("textarea.texteditor").ckeditor(a)}),this},c.prototype.sharePad=function(a){var b,c,d,e=this;a.preventDefault(),c=this.$("input[name=email]").removeClass("error").val(),d=this.$("input[name=subject]").val(),b=this.$("textarea[name=email-content]").ckeditorGet().getData();if(c.lastIndexOf(" ")===-1&&c.lastIndexOf(".")!==-1&&c.lastIndexOf("@")!==-1&&c.lastIndexOf(".")>c.lastIndexOf("@"))return $.post("/xrest/interviews/share",{email:c,subject:d,content:b},function(a){return a.status===!0?console.log("mail sent"):console.log("mail failed")});this.$("input[name=email]").addClass("error");return},c}(window.HR.GenericView),d=(i=window.HR)!=null?i:{},d.EditInterviewView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return n=function(a){return _.isFunction(a)?a():a},m=function(a){var b,c;return c=a,a&&(b=a.split(/to/i),b.length>1&&(c=b[0].trim()+".."+b[1].trim())),c},c=function(c){function d(){return o=d.__super__.constructor.apply(this,arguments),o}return b(d,c),d.prototype.def=function(){return{template:"x/interviews-datatable",dashboard:!1,title:"Interviews",page_url:"interviews",url:""+a.INTERVIEWS_DOMAIN+"/api/interviews",modelClass:a.InterviewModel}},d.prototype.baseParams=function(){var a;return a={order_by:"from"},m(this.$("#daterange").val())&&(a.from=m(this.$("#daterange").val())),this.$("#interviewer").val()!=="0"&&(a["interview_attendants.role"]="interviewer",a["interview_attendants.email"]=this.$("#interviewer").val()),this.$("#thumbs").val()!=="0"&&(a.thumbs=parseInt(this.$("#thumbs").val()-1)),a},d.prototype.beforeRequest=function(a){var b;return b=d.__super__.beforeRequest.call(this,a),m(this.$("#daterange").val())&&(b.from=m(this.$("#daterange").val())),b},d.prototype.fields=function(){return[{name:"CANDIDATE",template:'<span class="sleekstrong"><%= row.candidate() ? row.candidate().name : "IUnknown" %></span>',prop:"interview_attendants.name",className:"w25"},{name:"WHEN",template:"<%= row.when()  %>",prop:"from",className:"w25"},{name:"INTERVIEWER",template:'<%= row.interviewer() ? row.interviewer().name : "IUnknown" %>',prop:"interview_attendants.name",className:"w25"},{name:"STATUS",template:'<% var thumbs = row.get("thumbs"); if (thumbs == 1) { %><span class="thumbs_up">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><% } else if (thumbs == 0) { %><span class="thumbs_down">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><% } else { %>Pending<% } %>',prop:"interview_attendants.name",className:"w25"}]},d.prototype.events=function(){},d.prototype.datatableOpt=function(){var a;return a=d.__super__.datatableOpt.call(this),this.dashboard?_.extend(a,{sDom:"t",iDisplayLength:10}):_.extend(a,{sDom:"t <'clear_float'> <'empty_heightspacer'><'clear_float'>l p <'empty_heightspacer'><'clear_float'><'empty_heightspacer'><'clear_float'> "}),a},d.prototype.dateRanges=function(){return{"Last week":[moment().add("days",-7),moment().format()],"Last 2 weeks":[moment().add("days",-14),moment().format()],"Last 30 days":[moment().add("days",-30),moment().format()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]}},d.prototype.selectOptions=function(){return{FILTER:"Filter",ALL:"All",LAST_MONTH:"Last Month",LAST_100:"Last 100"}},d.prototype.params=function(){var a;return a=d.__super__.params.call(this),_.extend(a,{title:this.title,showInterviewer:!0,showDateSelect:!0,showThumbs:!0,showTitle:!1,showSelect:!1,selectOptions:n(this.selectOptions)}),this.dashboard&&_.extend(a,{showTitle:!0,showSelect:!1,showDateSelect:!1,showInterviewer:!1}),a},d.prototype.onChoose=function(){if(this.$("#choose").val()==="Choose")return;return Backbone.history.navigate(this.page_url+"/"+this.$("#choose").val(),!0)},d.prototype.redraw=function(){return this.datatable.fnDraw()},d.prototype.postRender=function(){var b,c=this;return d.__super__.postRender.call(this),b=this,this.delegateEvents(),this.$("#interviewer").select2({width:"150px"}),this.$("#interviewer").on("change",function(a){return c.redraw()}),this.$("#thumbs").select2({width:"150px"}),this.$("#thumbs").on("change",function(a){return c.redraw()}),this.$("#daterange").length>0&&this.$("#daterange").daterangepicker({latestDate:"today",separator:" to ",format:"YYYY-MM-DD",ranges:n(this.dateRanges)},function(a,c){return b.redraw()}),$.ajax({url:""+a.INTERVIEWS_DOMAIN+"/api/interviewers",data:{"interview.from":this.baseParams().from},dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(a){return _.each(a.results,function(a,b){if(a.email)return c.$("#interviewer").append('<option value="'+a.email+'">'+a.name+"<option>")})}})},d}(window.HR.DataTableView),f=function(c){function d(){return p=d.__super__.constructor.apply(this,arguments),p}return b(d,c),d.prototype.template="/x/interviews-listing",d.prototype.setAsync=function(a){this.async=a},d.prototype.initialize=function(b){var c;return b==null&&(b={}),_.bindAll(this),this.title=b.title||"Interviews Listing",c=b.klass||a.InterviewsDataTableView,this.table=new c({dashboard:!1,title:this.title})},d.prototype._render=function(){return $(this.el).html(a.appController.template(this.template,this)({title:this.title})),this.async||this.$("#cnt-list").append(this.table.render().el),this},d}(window.HR.GenericView),e=function(c){function d(){return r=d.__super__.constructor.apply(this,arguments),r}return b(d,c),d.prototype.initialize=function(b){return b==null&&(b={}),b.klass=a.InterviewsDoneDataTableView,b.title="Interviews Done",d.__super__.initialize.call(this,b)},d}(f),d=function(a){function c(){return s=c.__super__.constructor.apply(this,arguments),s}return b(c,a),c.prototype.initialize=function(a){var b;return b={oLanguage:{sEmptyTable:"No interviews in the done stage",sInfoEmpty:"No interviews in the done stage",sZeroRecords:"No interviews in the done stage"}},a.customDatatableOpt?_.extend(a.customDatatableOpt,b):a.customDatatableOpt=b,c.__super__.initialize.call(this,a)},c.prototype.def=function(){var a;return a=c.__super__.def.call(this),_.extend(a,{page_url:"/x/interviews/done",title:"Interviews Done"})},c.prototype.datatableEl="#datatable-done",c.prototype.params=function(){var a;return a=c.__super__.params.call(this),a.id_suffix="-done",a},c.prototype.baseParams=function(){var a;return a=c.__super__.baseParams.call(this),_.extend(a,{from:".."+JSON.stringify(new Date).replace(/"/ig,""),order_by:"from",order_dir:"desc"}),a},c.prototype.fields=function(){var a;return a=c.__super__.fields.call(this),a.push({name:"STATUS",template:'<span class="<%= row.get("thumbs") === 1 ? "thumbsup" : (row.get("thumbs") === 0 ? "thumbsdown" : "nothumbs" ) %>">&nbsp;&nbsp;&nbsp;</span>',prop:"status",className:"w10"},{name:"ACTIONS",template:'<a href="/x/interviews/<%= row.get("id") %>/report" class="txt-alt-grey mdL js-backbone"><i class="icon-eye"></i></a><a href="#" class="txt-alt-grey mdL"><i class="icon2-sharetest"></i></a>',sortable:!1,className:"w10",sortable:!1}),a},c.prototype.shareReport=function(a){var b;a.preventDefault(),b=_.filter(this.data.models,function(b){return b.get("id").toString()===$(a.target).attr("data-interview")});if(b.length)return(new app.ShareLinkDialogView({title:"Share Report",link:app.InterviewModel.shareReportLink(b[0])})).render()},c.prototype.events=function(){var a;return a=c.__super__.events.call(this)||{},_.extend(a,{"click a.share":"shareReport"}),a},c}(c),l=function(c){function d(){return t=d.__super__.constructor.apply(this,arguments),t}return b(d,c),d.prototype.initialize=function(b){return b==null&&(b={}),b.klass=a.InterviewsUpcomingDataTableView,b.title="Upcoming Interviews",d.__super__.initialize.call(this,b)},d}(f),k=function(a){function c(){return u=c.__super__.constructor.apply(this,arguments),u}return b(c,a),c.prototype.initialize=function(a){var b;return b={oLanguage:{sEmptyTable:'No interviews are upcoming. <br/><a class="btn" href="#interviews/new" id="scheduleInterview">Schedule a new Interview</a>',sInfoEmpty:'No interviews are upcoming. <br/><a class="btn" href="#interviews/new" id="scheduleInterview">Schedule a new Interview</a>',sZeroRecords:'No interviews are upcoming. <br/><a class="btn" href="#interviews/new" id="scheduleInterview">Schedule a new Interview</a>'}},a.customDatatableOpt?_.extend(a.customDatatableOpt,b):a.customDatatableOpt=b,c.__super__.initialize.call(this,a)},c.prototype.def=function(){var a;return a=c.__super__.def.call(this),_.extend(a,{page_url:"/x/interviews/upcoming",title:"Upcoming Interviews"})},c.prototype.dateRanges=function(){return{"Next week":[moment().format(),moment().add("days",7)],"Next 2 weeks":[moment().format(),moment().add("days",14)],"Next 30 days":[moment().format(),moment().add("days",30)],"This Month":[moment(),moment().endOf("month")],"Next month":[moment().add("month",1).startOf("month"),moment().add("month",1).endOf("month")]}},c.prototype.selectOptions=function(){return{FILTER:"Filter",ALL:"All",NEXT_MONTH:"Next Month",NEXT_100:"Next 100"}},c.prototype.datatableEl="#datatable-upcoming",c.prototype.params=function(){var a;return a=c.__super__.params.call(this),a.id_suffix="-upcoming",a},c.prototype.baseParams=function(){var a;return a=c.__super__.baseParams.call(this),_.defaults(a,{from:JSON.stringify(new Date).replace(/"/ig,"")+".."}),a},c.prototype.fields=function(){var a;return a=c.__super__.fields.call(this),a.push({name:"ACTIONS",template:'<a href="/x/interviews/<%= row.get("id") %>" class="txt-alt-grey mdL js-backbone"><i class="icon2-edit"></i></a><a href="<%= row.get("paperurl") %>" class="txt-alt-grey mdL js-backbone" target="_blank"><i class="icon2-sharetest"></i></a><a href="#" class="txt-alt-grey mdL cancel" data-interview="<%= row.get("id") %>"><i class="icon2-delete"></i></a>',sortable:!1,className:"w10",sortable:!1}),a},c.prototype.cancelInterview=function(a){var b,c;c=this,a.preventDefault(),b=_.filter(this.data.models,function(b){return b.get("id").toString()===$(a.target).attr("data-interview")});if(b.length)return $("#cancel-dialog-modal").modal(),$("#cancel-dialog-modal").delegate(".save-button","click",function(){return $("#cancel-dialog-modal").modal("hide"),$("#cancel-dialog-modal").undelegate(".save-button","click"),b[0].destroy({success:function(){return c.redraw()}})})},c.prototype.events=function(){var a;return a=c.__super__.events.call(this)||{},_.extend(a,{"click a.cancel":"cancelInterview"}),a},c}(c),j=function(c){function d(){return v=d.__super__.constructor.apply(this,arguments),v}return b(d,c),d.prototype.initialize=function(b){return b==null&&(b={}),b.klass=a.InterviewsThumbsUpDataTableView,b.title="Thumbs up",d.__super__.initialize.call(this,b)},d}(f),i=function(a){function c(){return w=c.__super__.constructor.apply(this,arguments),w}return b(c,a),c.prototype.def=function(){var a;return a=c.__super__.def.call(this),_.extend(a,{page_url:"/x/interviews/upcoming",title:"Thumbs up"}),a},c.prototype.datatableEl="#datatable-thumbsup",c.prototype.params=function(){var a;return a=c.__super__.params.call(this),a.id_suffix="-thumbsup",a},c.prototype.baseParams=function(){var a;return a=c.__super__.baseParams.call(this),_.extend(a,{thumbs:1}),a},c}(d),h=function(c){function d(){return x=d.__super__.constructor.apply(this,arguments),x}return b(d,c),d.prototype.initialize=function(b){return b==null&&(b={}),b.klass=a.InterviewsThumbsDownDataTableView,b.title="Thumbs up",d.__super__.initialize.call(this,b)},d}(f),g=function(a){function c(){return y=c.__super__.constructor.apply(this,arguments),y}return b(c,a),c.prototype.def=function(){var a;return a=c.__super__.def.call(this),_.extend(a,{page_url:"/x/interviews/upcoming",title:"Thumbs up"}),a},c.prototype.baseParams=function(){var a;return a=c.__super__.baseParams.call(this),_.extend(a,{thumbs:0}),a},c.prototype.datatableEl="#datatable-thumbsdown",c.prototype.params=function(){var a;return a=c.__super__.params.call(this),a.id_suffix="-thumbsdown",a},c}(d),a=(q=window.HR)!=null?q:{},a.InterviewsDataTableView=c,a.InterviewsListingView=f,a.InterviewsDoneView=e,a.InterviewsDoneDataTableView=d,a.InterviewsUpcomingView=l,a.InterviewsUpcomingDataTableView=k,a.InterviewsThumbsUpView=j,a.InterviewsThumbsUpDataTableView=i,a.InterviewsThumbsDownDataTableView=g,a.InterviewsThumbsDownView=h})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g;return d=function(c){function d(){return e=d.__super__.constructor.apply(this,arguments),e}return b(d,c),d.prototype.initialize=function(b){var c,d,e;return d=this,c=moment().minutes(0).seconds(0).milliseconds(0).add("hours",1),e=moment(c).add("hours",1),this.model=new a.InterviewModel({from:new Date(c),to:new Date(e)})},d.prototype.template="x/interview-new",d.prototype.className="interview-new",d.prototype.events=function(){return{"submit form[name=quick-pad-form]":"createQuickPad","click .js-add-interviewer":"addInterviewer","submit form[name=schedule-interview-form]":"scheduleInterview"}},d.prototype.render=function(){var b,c;return c=this,b=a.appController.template(this.template,this)({throbber:a.appController.viewLoader(),model:this.model.toJSON(),time_diff:(this.model.get("to").getTime()-this.model.get("from").getTime())/6e4}),$(this.el).html(b),this.renderAttendants(),this.$("input[type=file]").bootstrapFileInput(),this.$(".date.start").datepicker({format:"m-d-yyyy",autoclose:!0}),this.$(".time.start").timepicker({showDuration:!0,timeFormat:"H:i",scrollDefaultNow:!0}),this},d.
prototype.renderAttendants=function(){var b,c;return b=new a.InterviewAttendantEditView({attendant:{},role:"candidate",add:!0}),this.$("#interview-candidates-container").html(b.render().el),c=new a.InterviewAttendantEditView({attendant:{},role:"interviewer",add:!0}),this.$("#interview-interviewers-container").html(c.render().el)},d.prototype.setupTimezoneSelect=function(){return setTimeout(function(){return $.post("http://localhost.com/recruit2/user/timezones",function(a){return $("#timezone_container").html(a),$("#timezones").select2({width:"360px",matcher:function(a,b,c){var d,e;return e=[],e.push(b,$(c).val()),d=$(c).attr("data-alias"),d&&e.push.apply(e,d.split(",")),_.some(e,function(b){return b.toUpperCase().indexOf(a.toUpperCase())>-1})}})})})},d.prototype.addInterviewer=function(b){var c;return b.preventDefault(),c=new a.InterviewAttendantEditView({attendant:{},role:"interviewer",add:!1}),this.$("#interview-interviewers-container").append(c.render().el)},d.prototype.createQuickPad=function(b){var c,d,e,f,g=this;return b.preventDefault(),d=this.$("input[name=quick-pad-title]").removeClass("error").val(),d?(c=new Date,f=moment(c).add("hours",1),e={title:d,from:c,to:f},this.model.save(e,{success:function(b){return a.NotificationModel.push("new interview"),Backbone.history.navigate("x/interviews/"+b.get("id"),!0)},error:function(a,b,c){}})):this.$("input[name=quick-pad-title]").addClass("error")},d.prototype.validate=function(){var a,b=this;return a=!0,_.each(this.$(".js-candidate-edit"),function(b){var c,d;c=$(b).find("input[name=email]").removeClass("error").val(),c||($(b).find("input[name=email]").addClass("error"),a=!1),d=$(b).find("input[name=name]").removeClass("error").val();if(!c)return $(b).find("input[name=name]").addClass("error"),a=!1}),_.each(this.$(".js-interviewer-edit"),function(b){var c,d;c=$(b).find("input[name=email]").removeClass("error").val(),c||($(b).find("input[name=email]").addClass("error"),a=!1),d=$(b).find("input[name=name]").removeClass("error").val();if(!c)return $(b).find("input[name=name]").addClass("error"),a=!1}),a},d.prototype.checkForResume=function(){var b,c,d,e,f=this;return this.$("input[name=interview-resume]").val()?(d=""+a.INTERVIEWS_DOMAIN+"/api/interview/resume",b=this.$("form[name=new-interview-form]"),c=function(){var a;return a={files:b.find(":file"),iframe:!0,crossDomain:!0},a},e=this,$.ajax(d,c()).complete(function(a){return a=$.parseJSON(a.responseText),a.status==="Success"?f.saveInterview(a.url):f.$(".file-upload-error").html(a.error)})):this.model.get("resume")?this.saveInterview(this.model.get("resume")):this.saveInterview("")},d.prototype.scheduleInterview=function(a){a.preventDefault();if(!this.validate())return;return this.checkForResume()},d.prototype.saveInterview=function(b){var c,d,e,f,g,h,i=this;return c=[],_.each(this.$(".js-candidate-edit"),function(a){var b,d,e,f;return d=$(a).find("input[name=email]").val(),e=$(a).find("input[name=name]").val(),f=$(a).find("input[name=phone_number]").val(),b={name:e,email:d,phone:f},c.push(b)}),this.model.set("candidates",c),g=[],_.each(this.$(".js-interviewer-edit"),function(a){var b,c,d,e;return b=$(a).find("input[name=email]").val(),d=$(a).find("input[name=name]").val(),e=$(a).find("input[name=phone_number]").val(),c={name:d,email:b,phone:e},g.push(c)}),this.model.set("interviewers",g),h=new Date(moment($(".date.start").val()+" "+$(".time.start").val(),"M-D-YYYY HH:mm")),d=this.$("select[name=interview-duration]").val(),e=moment(h)+parseInt(d)*6e4,f=new Date(moment(e)),this.model.set("from",moment(h).format()),this.model.set("to",moment(f).format()),this.model.set("notes",this.$("textarea[name=interview-notes]").val()),this.model.set("resume",b),this.model.save(null,{success:function(b){return a.NotificationModel.push("new interview"),Backbone.history.navigate("x/interviews/"+b.get("id"),!0)},error:function(a,b){}})},d}(window.HR.GenericView),c=function(c){function d(){return f=d.__super__.constructor.apply(this,arguments),f}return b(d,c),d.prototype.template="x/interview-attendant-edit",d.prototype.className="block",d.prototype.tagName="div",d.prototype.initialize=function(a){return this.attendant=a.attendant,this.role=a.role,this.add=a.add},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({throbber:a.appController.viewLoader(),attendant:this.attendant,add:this.add,role:this.role}),$(this.el).html(b),$(this.el).addClass("js-"+this.role+"-edit"),this},d}(window.HR.GenericView),a=(g=window.HR)!=null?g:{},a.NewInterviewView=d,a.InterviewAttendantEditView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i,j,k;return f=function(c){function d(){return g=d.__super__.constructor.apply(this,arguments),g}return b(d,c),d.prototype.tagName="span",d.prototype.template="x/interview-thumbs",d.prototype.initialize=function(){return _.bindAll(this,"render"),this.model.on("change:thumbs",this.render)},d.prototype.events={"click .js-thumbs":"toggleThumbs"},d.prototype.toggleThumbs=function(a){return a.preventDefault(),this.model.set("thumbs",$(a.currentTarget).attr("data-thumbs")),this.model.save()},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({model:this.model.toJSON()})),this},d}(window.HR.GenericView),d=function(c){function d(){return h=d.__super__.constructor.apply(this,arguments),h}return b(d,c),d.prototype.tagName="div",d.prototype.template="x/interview-feedback",d.prototype.initialize=function(a){return _.bindAll(this),this.recordings=a.recordings,this.model.on("change:feedback",this.render)},d.prototype.events={"click .js-edit-feedback":"editFeedback","click .js-save-feedback":"saveFeedback","click .js-feedback-cancel":"cancelEdit"},d.prototype.cancelEdit=function(a){var b;return a.preventDefault(),b=this.model.get("feedback")||"",this.$("textarea[name=feedback]").val(b),this.$(".js-edit-feedback-section").addClass("hidden"),this.$(".js-show-feedback-section").removeClass("hidden"),this.$(".js-edit-feedback-buttons").addClass("hidden"),this.$(".js-show-feedback-buttons").removeClass("hidden")},d.prototype.editFeedback=function(a){return a.preventDefault(),this.$(".js-show-feedback-section").addClass("hidden"),this.$(".js-edit-feedback-section").removeClass("hidden"),this.$(".js-show-feedback-buttons").addClass("hidden"),this.$(".js-edit-feedback-buttons").removeClass("hidden")},d.prototype.saveFeedback=function(){return this.model.set("feedback",this.$("textarea[name=feedback]").val()),this.model.save()},d.prototype.render=function(){var b,c;return b="",this.recordings.models.length===1&&(c=this.recordings.models[0].recording,c.get("data")&&c.get("data").feedback&&(b=c.get("data").feedback)),$(this.el).html(a.appController.template(this.template,this)({model:this.model.toJSON(),feedback:b})),this},d}(window.HR.GenericView),e=function(e){function g(){return i=g.__super__.constructor.apply(this,arguments),i}return b(g,e),g.prototype.template="x/interview-report",g.prototype.initialize=function(a){return _.bindAll(this),this.recordings=a.recordings,this.recordings.on("reset",this.onRecordings),this.recordings.on("change",this.renderRecordings),this._subviews=[]},g.prototype.events=function(){return{"click .js-share-report":"shareReport"}},g.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({model:this.model.toJSON(),recordings:this.recordings})),$(this.el).find(".js-feedback").append((new d({model:this.model,recordings:this.recordings})).render().el),$(this.el).find(".js-status").append((new f({model:this.model})).render().el),this.renderRecordings(),this},g.prototype.renderRecordings=function(){var a,b,d=this;this.$(".cnt-recordings").empty();if(this.recordings.models.length===1){b=this.recordings.models[0].recording,a=1;if(b.get("data")&&b.get("data").questions)return _.each(b.get("data").questions,function(e){var f;return f=new c({question:e,model:b,index:a}),d.$(".js-recordings").append(f.render().el),d._subviews.push(f),a+=1})}},g.prototype.shareReport=function(a){var b;return a.preventDefault(),b="https://www.interviewstreet.com/recruit2/recruiter?auth_key="+this.model.get("auth_key")+"#interviews/"+this.model.get("id")+"/report",(new app.ShareLinkDialogView({link:b,title:"Share Report"})).render()},g}(window.HR.GenericView),c=function(c){function d(){return j=d.__super__.constructor.apply(this,arguments),j}return b(d,c),d.prototype.template="x/interview-code-recording",d.prototype.lang_mapping={c:"C",cpp:"C++",java:"Java",python:"Python",php:"PHP",perl:"Perl",ruby:"Ruby",csharp:"C#",haskell:"Haskell",clojure:"Clojure",scala:"Scala",javascript:"Javascript",go:"Go",erlang:"Erlang"},d.prototype.initialize=function(a){return _.bindAll(this),this.question=a.question,this.index=a.index,this.model.on("change",this.render),this.recording={}},d.prototype.events=function(){return{"slide .slider":"sliderChange","click .js-showmoretoggle":"showMoreToggle"}},d.prototype.render=function(){var b;return b=this,this.question.runs?this.type="runs":this.question.ops?this.type="ops":this.type="",$(this.el).html(a.appController.template(this.template,this)({question:this.question,index:this.index})),this.type==="runs"?this.question.runs&&(this.$(".slider").slider({max:this.question.runs.length-1,value:this.question.runs.length-1}),this.viewCode(this.question.runs.length-1)):this.type==="ops"&&(this.$("#report-codeshell").show(),this.question.ops&&(this.recording=new a.InterviewCodeRecordingModel({interview_id:this.model.get("interview_id")}),this.recording.set("ops",this.question.ops),this.$(".slider").slider({max:this.question.ops.length,value:this.question.ops.length}),this.viewCode(this.question.ops.length-1))),this},d.prototype.sliderChange=function(a,b){return this.viewCode(b.value)},d.prototype.showMoreToggle=function(a){return a.preventDefault(),this.$(".js-question").hasClass("text-ellipsis-span")?(this.$(".js-question").removeClass("text-ellipsis-span"),this.$(a.currentTarget).html('show less <i class="icon-up-open"></i>')):(this.$(".js-question").addClass("text-ellipsis-span"),this.$(a.currentTarget).html('show more <i class="icon-down-open"></i>'))},d.prototype.cleanCodecheckerResponse=function(a){if(a.response&&a.response.result===0){if(a.response.signal&&a.response.signal[0]===0&&a.response.stdout&&a.response.stdout[0])return a.response.stdout[0];if(!(!a.response.signal||a.response.signal[0]!==62&&a.response.signal[0]!==24))return"Time Limit Exceeded";if(a.response.signal&&a.response.signal[0]===25)return"Output size exceeded";if(a.response.stderr&&a.response.stderr[0])return a.response.stderr[0]}else if(a.response&&a.response.result===255)return a.response.compileMessage},d.prototype.viewCode=function(a){var b,c,d,e;d={c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp",haskell:"text/x-haskell",php:"text/x-php",python:"text/x-python",perl:"text/x-perl",ruby:"text/x-ruby",bash:"text/x-bash",oracle:"text/x-plsql",mysql:"text/x-plsql",sql:"text/x-plsql",clojure:"text/x-scheme",scala:"text/plain",code:"text/plain",go:"text/x-go",javascript:"text/javascript",objectivec:"text/x-csrc"};if(this.type==="runs")return b=this.question.runs[a],this.$(".code-lang").html(this.lang_mapping[b.lang]),this.$(".lang-container").removeClass("hidden"),this.$(".run-time").html(moment(b.time).format("M-D-YYYY HH:mm")),this.$(".run-input").html(b.input),e=this.cleanCodecheckerResponse(b),this.$(".run-output").html(e),this.$(".code-response-container").removeClass("hidden"),c=b.lang,this.showCodeEditor(b,d[c]);if(this.type==="ops"&&this.recording)return this.question.language?(c=this.question.language,this.$(".code-lang").html(this.lang_mapping[this.question.language]),this.$(".lang-container").removeClass("hidden")):c="code",this.showCodeEditor(this.recording.gotoPosition(a),d[c])},d.prototype.showCodeEditor=function(a,b){var c,d,e,f,g,h;return g=this.$("pre.outbox"),g.empty(),$(g).append('<table><tr><td class="line-no" width="5%"></td><td class="code"></td></tr></table>'),d=$("<div></div>"),e=$("<div>1</div>"),$(g).find(".code").append(d),$(g).find(".line-no").append(e),c=0,h=CodeMirror.defaults.tabSize||4,f=2,CodeMirror.runMode(a,b,function(a,b){var i,j,k,l,m,n;if(a==="\n"){e.height(d.height()),d=$("<div></div>"),e=$("<div>"+f+"</div>"),f++,$(g).find(".code").append(d),$(g).find(".line-no").append(e),c=0;return}i="",l=0;for(;;){k=a.indexOf("\t",l);if(k===-1){i+=a.slice(l),c+=a.length-l;break}c+=k-l,i+=a.slice(l,k),m=h-c%h,c+=m,j=0;while(j<m)i+=" ",++j;l=k+1}return b?(n=$("<span></span>"),n.addClass("cm-"+b.replace(RegExp(" +","g")," cm-")),n.append(document.createTextNode(i)),d.append(n)):d.append(document.createTextNode(i))})},d}(window.HR.GenericView),a=(k=window.HR)!=null?k:{},a.InterviewReportView=e})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this.active_nav_link=a.active_nav_link},e.prototype.template="x/interviews-navigation",e.prototype.className="interviews-navigation",e.prototype.updateData=function(a,b){return this.active_nav_link=b,this.render()},e.prototype.render=function(){var b,c;return c=this,b=a.appController.template(this.template,this)({active_nav_link:this.active_nav_link,throbber:a.appController.viewLoader()}),$(this.el).html(b),this},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.InterviewsNavigationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(){},e.prototype.template="x/logo-upload",e.prototype.className="logo-upload",e.prototype.initialize=function(a){return this.parent=a.parent},e.prototype.render=function(){return $(this.el).empty(),this.$("#upload-logo-modal").html(""),$(this.el).html(a.appController.template(this.template,this)),this.$("#upload-logo-modal").modal({backdrop:!1}),this},e.prototype.events=function(){return{"click .upload-logo":"uploadLogo"}},e.prototype.uploadLogo=function(b){var c,d,e,f,g;return b.preventDefault(),f="/xrest/users/upload_logo",c=this.$("#logo-upload-form"),d=c.find(":file"),e=function(){var a;return a={files:c.find(":file"),iframe:!0},a},g=this,$.ajax({url:f,type:"POST",files:c.find(":file"),iframe:!0}).success(function(b){return b=$.parseJSON(b.responseText),a.currentUser.fetch({silent:!0,success:function(a,b){return g.$("#upload-logo-modal").modal("hide"),g.parent.render()}})}).error(function(a){return g.$(".error").html(a.message)})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.LogoUploadView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/new-team-modal",e.prototype.tagName="div",e.prototype.initialize=function(a){return this.parent=a.parent},e.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({model:this.model.toJSON()})),this.$("#new-team-modal").modal(),this},e.prototype.events=function(){return{"submit form[name=team-form]":"createTeam"}},e.prototype.createTeam=function(a){var b,c=this;a.preventDefault(),b=this.$("input[name=new-team-name]").val();if(b)return this.model.set("name",b,{silent:!0}),this.model.save(null,{silent:!0,success:function(a,b,d){return c.$("button.close").click(),setTimeout(function(){return c.collection.get(a.get("id"))||c.collection.add(a),c.collection.fetch({success:function(){return c.parent.render()}})},1e3)},error:function(a,b,d){var e;return e=$.parseJSON(b),c.$(".alert-error").html(e.message)}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.NewTeamView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/card-details",e.prototype.intialize=function(a){return a==null&&(a={}),this.model=a.model,this.model.bind("change",this.render),this.model.bind("reset",this.render)},e.prototype.events=function(){return{"submit form[name=credit-card-details]":"submitCard"}},e.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(b),this},e.prototype.submitCard=function(a){return a.preventDefault(),$(a.currentTarget).children("button").attr("disabled",!0).addClass("disabled"),this.getToken(a.currentTarget)},e.prototype.cardCheckResponseHandler=function(){var a;return a=this,function(b,c){var d,e,f;c.error?(e={message:c.error.message,timer:null},alert(e.message),$("#card-details-submit").attr("disabled",!1).removeClass("disabled")):(f=c.id,d={token:c.id,credit_card_number:c.card.last4},a.model.save(d,{silent:!0,suppressMessage:!0,success:function(b,c){return a.model.fetch({suppressMessage:!0,success:function(a,b){var c;return $("#card-details-submit").attr("disabled",!1).removeClass("disabled"),c={message:"Card details have been saved",timer:null,className:"span3 central_notif notif_success"},alert(c.message)}})},error:function(a,b){var c;return b=$.parseJSON(b.responseText),c={message:b.message,timer:null,className:"span6 central_notif notif_error"},alert(c.message),$("#card-details-submit").attr("disabled",!1).removeClass("disabled")}}))}},e}(window.HR.CardDetailsView),a=(e=window.HR)!=null?e:{},a.PaymentCardDetailsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.passwordConfirm=function(a,b){var c;return c=this,$.ajax({url:"http://localhost.com/recruit2/user/confirmpassword",type:"POST",crossDomain:!0,dataType:"text",suppressMessage:!0,data:{value:a},success:function(a,c,d){var e;return a==="success"?e="success":e="error",b(e)}})},c.prototype.gotoCardDetails=function(a){return a.preventDefault(),$("a.close").click(),setTimeout(function(){return Backbone.history.navigate("payment/card-details",!0)},500)},c.prototype.goBack=function(a){return a.preventDefault(),window.history.back()},c}(window.HR.CardDetailsView),a=(e=window.HR)!=null?e:{},a.PaymentCheckoutView=c})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};jQuery(function(){var b,d,e,f;return d=function(d){function f(){return this.passwordConfirmed=a(this.passwordConfirmed,this),e=f.__super__.constructor.apply(this,arguments),e}return c(f,d),f.prototype.template="x/plan-payment-checkout",f.prototype.initialize=function(a){return this.plan=a.plan,this.model=a.model,this.model.bind("change",this.render)},f.prototype.events=function(){return{"submit form[name=checkout-form]":"pay","click .dev-edit-card-details":"editCardDetails","change select[name=payment-users]":"updateTotal","click .back":"goBack"}},f.prototype.render=function(){var a;return this.checkout=this.model.toJSON(),this.checkout.min_users&&(a=this.checkout.charge*this.checkout.min_users,this.checkout.prorated_deduction&&(a-=this.checkout.min_users*this.checkout.prorated_deduction),this.checkout.carryover_credit&&(a-=this.checkout.carryover_credit),$(this.el).html(b.appController.template(this.template,this)({model:this.checkout,total:a,plan:this.plan}))),this.delegateEvents(),this},f.prototype.pay=function(a){var b;return a.preventDefault(),this.$("button[type=submit]").attr("disabled",!0).addClass("disabled"),b=$("input[name=password]").val(),this.passwordConfirm(b,this.passwordConfirmed)},f.prototype.editCardDetails=function(a){return a.preventDefault(),this.$(".credit-card-details-existing").addClass("hidden"),this.$(".new-card-details").removeClass("hidden")},f.prototype.passwordConfirmed=function(a){var b;if(a==="error"){b={message:"The password entered is incorrect",timer:null},alert(b.message),this.$("button[type=submit]").attr("disabled",!1).removeClass("disabled");return}return this.checkNewCard()},f.prototype.checkNewCard=function(){var a,b;if($("#card-number").val()&&$("#cvv").val()&&$("#expiry-month").val()&&$("#expiry-year").val())return a=this.getToken("button[type=submit]");if(this.checkout.credit_card_number)return this.makePayment(null);b={message:"Please enter all the card details",timer:null},alert(b.message),this.$("button[type=submit]").attr("disabled",!1).removeClass("disabled")},f.prototype.makePayment=function(a){var c,d,e,f=this;return $("select[name=payment-users]").val()?e=parseInt($("select[name=payment-users]").val(),10):e=1,c={plan:this.plan,users:e},d=new b.PaymentModel({plan:this.plan,users:e}),a&&(c.new_card_details=a),d.save(c,{silent:!0,suppressMessage:!0,override:!0,success:function(a,c){return b.UserSettings.set("checkout",void 0,{silent:!0}),$.inArray(b.currentUser.get("stripe_plan"),["free","trial"])&&f.adrollConversion(),alert("payment successful"),b.currentUser.fetch(),Backbone.history.navigate("payment/plans",!0)},error:function(a,b,c){var d;return d=$.parseJSON(b.responseText),console.log("error"),f.$("button[type=submit]").attr("disabled",!1).removeClass("disabled")({message:d.message,timer:null},"error")}})},f.prototype.adrollConversion=function(){window.adroll_segments="paid_conversion";if(typeof __adroll!="undefined")return __adroll.render_pixel_code(window.adroll_adv_id,window.adroll_pix_id)},f.prototype.updateTotal=function(a){var b,c,d,e,f;return f=parseInt($("select[name=payment-users]").val(),10),b=parseInt(this.checkout.charge*f,10),e=b,$(".item-total").html(b),this.checkout.prorated_deduction&&this.$(".prorated-deduction").length>0&&(d=parseInt(f*this.checkout.prorated_deduction,10),e-=d,this.$(".prorated-deduction").html(d)),this.checkout.carryover_credit&&this.$(".credit").length>0&&(c=parseInt(this.checkout.carryover_credit,10),e-=c,this.$(".credit").html(c)),this.$("#final-amount").html(e)},f.prototype.cardCheckResponseHandler=function(){var a;return a=this,function(b,c){var d,e,f;return c.error?(e={message:c.error.message,timer:null},this.$("button[type=submit]").attr("disabled",!1).removeClass("disabled"),alert(e.message)):(f=c.id,d={token:c.id,last4:c.card.last4},a.makePayment(d))}},f}(window.HR.PaymentCheckoutView),b=(f=window.HR)!=null?f:{},b.PlanPaymentCheckoutView=d})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/pricing-plans",e.prototype.initialize=function(a){return a==null&&(a={}),this.model=a.model,this.model.bind("change",this.render),this.model.bind("reset",this.render)},e.prototype.events=function(){return{"click  .payment-button":"changePlan"}},e.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(b),this},e.prototype.changePlan=function(a){var b,c,d;d=$(a.currentTarget).attr("data-plan"),b=$(a.currentTarget).attr("data-cost"),c=this.model.get("current_plan");if(!c)return this.checkout(d);if(c.price>b)alert("Please contact support@interviewstreet.com to downgrade the plan");else return this.checkout(d)},e.prototype.checkout=function(b){var c;return c={},c.payment_type="plan",c.plan=b,a.UserSettings.set("checkout",c),a.router.navigate("/x/payments/checkout",!0)},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.PricingPlansView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/settings-basic-info",e.prototype.class_name="basic-info",e.prototype.country_select_box="#user-country-select2",e.prototype.timezone_select_box="#usr-tz-select2",e.prototype.user_form="#settings-basic-info-form",e.prototype.initialize=function(b){return this.model=a.currentUser},e.prototype.events=function(){return{"click #update-basic-info":"update","click #c-logo-upload-btn":"openLogoUploadDialog"}},e.prototype.render=function(){var b,c;return c=this.model.toJSON(),b=a.appController.template(this.template,this)({current_user:c}),$(this.el).html(b),this.initCountrySelect2(),this.initTimeZoneSelect2(),this},e.prototype.initCountrySelect2=function(){var b,c,d=this;return b=a.countryNames,c=[],_.each(b,function(a){return c.push({id:a,text:a})}),this.$(this.country_select_box).select2({data:c})},e.prototype.initTimeZoneSelect2=function(){var a;return a=this,setTimeout(function(){return $.ajax({url:"/xrest/users/timezones",type:"GET",success:function(b){return $(a.timezone_select_box).select2({data:b.data})}})})},e.prototype.openLogoUploadDialog=function(b){var c;return c=new a.LogoUploadView({parent:this}),$(this.el).find(".dialog-wrapper").html(c.render().el)},e.prototype.update=function(a){var b;return a.preventDefault(),b={},b.user={},b.user.firstname=this.$("#usr-fname").val(),b.user.lastname=this.$("#usr-lname").val(),b.user.phone=this.$("#usr-phone").val(),b.user.country=this.$(this.country_select_box).val(),b.user.timezone=this.$(this.timezone_select_box).val(),b.user.company={},b.user.company.name=this.$("#usr-cname").val(),b.user.company.email_from=this.$("#usr-cemailfrom").val(),this.model.save(b.user,{success:function(a,b,c){return console.log(b)},error:function(a,b,c){return console.log(b)}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.SettingsBasicInfoView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/settings-email",e.prototype.class_name="settings-email",e.prototype.initialize=function(b){return this.model=a.currentUser},e.prototype.events=function(){return{"click #update-basic-info":"update"}},e.prototype.render=function(){var b,c;return c=this.model.toJSON(),b=a.appController.template(this.template,this)({current_user:c}),$(this.el).html(b),this},e.prototype.update=function(a){var b,c;return a.preventDefault(),c=this,b={},b.user={},b.user.notification=this.$("input[name=usr-email-noti]:checked").val(),console.log(b),this.model.save(b.user,{success:function(a,b,c){return console.log(b)},error:function(a,b,c){return console.log(b)}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.SettingsEmailView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this.active_nav_link=a.active_nav_link},e.prototype.template="x/settings-navigation",e.prototype.className="settings-navigation",e.prototype.updateData=function(a,b){return this.active_nav_link=b,this.render()},e.prototype.render=function(){var b,c;return c=this,b=a.appController.template(this.template,this)({active_nav_link:this.active_nav_link,throbber:a.appController.viewLoader()}),$(this.el).html(b),this},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.SettingsNavigationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/settings-password",e.prototype.className="settings-password",e.prototype.initialize=function(b){return this.model=a.currentUser},e.prototype.events=function(){return{"click #update-basic-info":"update"}},e.prototype.render=function(){var b,c;return c=this.model.toJSON(),b=a.appController.template(this.template,this)({current_user:c}),$(this.el).html(b),this},e.prototype.update=function(a){var b,c,d,e;return this.$(".error").addClass("hidden"),a.preventDefault(),e=this,b={},b.user={},b.user.old_password=this.$("#usr-old-pwd").val(),b.user.new_password=this.$("#usr-new-pwd").val(),b.user.confirm_password=this.$("#usr-cnfm-pwd").val(),b.user.new_password===b.user.confirm_password?(d=this.model.updatePassword(b.user),d.success(function(a){return console.log(a)}),d.error(function(a){return console.log(a)})):(c="Passwords do not match",this.$("#usr-cnfm-pwd").siblings(".error").html(c).removeClass("hidden"))},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.SettingsPasswordView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/settings-report",e.prototype.initialize=function(b){return this.model=a.currentUser},e.prototype.events=function(){return{"click #update-basic-info":"update"}},e.prototype.render=function(){var b,c;return c=this.model.toJSON(),b=a.appController.template(this.template,this)({current_user:c}),$(this.el).html(b),this},e.prototype.update=function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this;a.preventDefault(),$(a.currentTarget).button("loading"),c=$("input[name=excel_prefs]"),d={};for(i=0,k=c.length;i<k;i++)b=c[i],d[b.value]=b.checked;g=$("input[name=pdf_prefs]"),h={};for(j=0,l=g.length;j<l;j++)f=g[j],h[f.value]=f.checked;return e={excel_prefs:d,pdf_prefs:h},this.model.save(e,{success:function(a,b,c){},error:function(a,b,c){}})},e}(Backbone.View),a=(e=window.HR)!=null?e:{},a.SettingsReportView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/settings-team",e.prototype.className="settings-team",e.prototype.initialize=function(b){return b==null&&(b={}),e.__super__.initialize.call(this,b),this.model=a.currentUser,this.collection=b.collection,this.subviews=[],console.log(this.collection.models[0].toJSON())},e.prototype.events=function(){return{"click .add-usr-team":"addTeamMember","click .edit-usr-team":"editTeamMember","click #add-new-team":"newTeam","click .edit-team-link":"editTeam"}},e.prototype.render=function(){var b,c;return c=this.model.toJSON(),b=a.appController.template(this.template,this)({current_user:c,collection:this.collection}),$(this.el).html(b),this},e.prototype.editTeam=function(b){var c,d,e;return b.preventDefault(),e=$(b.currentTarget).data("team-id"),d=this.collection.get(parseInt(e,10
)),c=new a.EditTeamView({parent:this,model:d,collection:this.collection}),this.subviews.push(c),this.$(".dialog-wrapper").html(c.render().el)},e.prototype.addTeamMember=function(b){var c,d,e,f=this;return b.preventDefault(),this.users={},this.userLabels=[],_.each(this.collection.models,function(a){return _.each(a.get("users"),function(a){var b,c;b=_.find(f.users,function(b){return b.get("email")===a.get("email")});if(b!=="undefined")return c=a.get("firstname")+" "+a.get("lastname")+" - "+a.get("email"),f.userLabels.push(c),f.users[c]=a})}),c=this.$(b.currentTarget).data("team-id"),e=new a.UserTeamModel,d=new a.AddUserTeamView({users:this.users,userLabels:this.userLabels,parent:this,team_id:c,model:e,collection:this.collection}),this.subviews.push(d),this.$(".dialog-wrapper").html(d.render().el)},e.prototype.editTeamMember=function(b){var c,d,e,f,g,h=this;b.preventDefault(),d=parseInt($(b.currentTarget).data("team-id"),10),e=parseInt($(b.currentTarget).data("id"),10),c=this.collection.get(d);if(c&&c.get("users")){g=_.find(c.get("users"),function(a){return parseInt(a.get("id"))===e});if(g)return f=new a.EditUserTeamView({parent:this,team_id:d,model:g,collection:this.collection}),this.subviews.push(f),this.$(".dialog-wrapper").html(f.render().el)}},e.prototype.newTeam=function(b){var c,d;return b.preventDefault(),d=new a.TeamModel,c=new a.NewTeamView({parent:this,model:d,collection:this.collection}),this.subviews.push(c),this.$(".dialog-wrapper").html(c.render().el)},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.SettingsTeamView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-admin",e.prototype.className="test-admin",e.prototype.events=function(){return{"submit form[name=test-admin-form]":"saveTestAdmin"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.saveTestAdmin=function(a){var b,c=this;return a.preventDefault(),this.$(".validation-error").addClass("hidden"),b=$("input[name=test-admins]").removeClass("error").val(),b?(this.model.set("test_admins",b,{silent:!0}),this.model.save(null,{success:function(){return c.render()},error:function(a,b){var d;return c.model.set("test_admins",c.model.previousAttributes().test_admins,{silent:!0}),d=$.parseJSON(b.responseText),c.$("input[name=test-admins]").addClass("error"),c.$(".validation-error").find(".error").html(d.message),c.$(".validation-error").removeClass("hidden")}})):$("input[name=test-admin]").addClass("error")},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestAdminView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this._subviews=[],this.listenTo(this.model,"change",this.render)},e.prototype.template="x/test-advanced-settings",e.prototype.className="test-advanced-settings",e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this.custom_link_view=new a.TestCustomLinkView({model:this.model}),this.test_admin_view=new a.TestAdminView({model:this.model}),this.cutoff_score_view=new a.TestCutoffScoreView({model:this.model}),this.master_password_view=new a.TestMasterPasswordView({model:this.model}),this.questions_shuffling_view=new a.TestQuestionsShufflingView({model:this.model}),this.allowed_languages_view=new a.TestAllowedLanguagesView({model:this.model}),this.duplicate_test_view=new a.TestDuplicateView({model:this.model}),this.delete_test_view=new a.TestDeleteView({model:this.model}),this.mcq_score_view=new a.TestMcqScoreView({model:this.model}),this.time_settings_view=new a.TestTimeSettingsView({model:this.model}),this.assign({"div#custom_link":this.custom_link_view,"div#time_settings":this.time_settings_view,"div#test_admin":this.test_admin_view,"div#cutoff_score":this.cutoff_score_view,"div#mcq_score":this.mcq_score_view,"div#master_password":this.master_password_view,"div#questions_shuffling":this.questions_shuffling_view,"div#allowed_languages":this.allowed_languages_view,"div#duplicate_test":this.duplicate_test_view,"div#delete_test":this.delete_test_view}),this._subviews.push(this.custom_link_view,this.time_settings_view,this.test_admin_view,this.cutoff_score_view,this.mcq_score_view,this.master_password_view,this.questions_shuffling_view,this.allowed_languages_view,this.duplicate_test_view,this.delete_test_view),this},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestAdvancedSettingsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-allowed-languages",e.prototype.className="test-allowed-languages",e.prototype.events=function(){return{"click label.hr-checkbox":"toggleCheckbox","submit form[name=test-allowedLanguages-form]":"saveAllowedLanguages"}},e.prototype.render=function(){var b,c,d,e;return d=this,e=this.model.toJSON(),e&&(b=[],e.allowedLanguages&&(b=e.allowedLanguages.split(",")),c=a.appController.template(this.template,this)({model:e,allowedLanguages:b,throbber:a.appController.viewLoader()}),$(this.el).html(c)),this},e.prototype.toggleCheckbox=function(a){var b;a.preventDefault(),$(a.currentTarget).hasClass("active")?(b="",$(a.currentTarget).removeClass("active").removeClass("active"),$(a.currentTarget).find("input").removeAttr("checked")):(b="checked",$(a.currentTarget).addClass("active").addClass("active"),$(a.currentTarget).find("input").attr("checked","checked"));if($(a.currentTarget).hasClass("select-all"))return this.changeAllCheckboxes(b)},e.prototype.changeAllCheckboxes=function(a){var b;return b=this.$(".hr-checkbox.languages"),a==="checked"?_.each(b,function(a){return $(a).addClass("active"),$(a).find("input").attr("checked","checked")}):_.each(b,function(a){return $(a).removeClass("active"),$(a).find("input").removeAttr("checked")})},e.prototype.saveAllowedLanguages=function(a){var b,c,d=this;return a.preventDefault(),b=[],c=$("input[name=allowedLanguages]:checked"),_.each(c,function(a){return b.push(a.value)}),this.model.set("allowedLanguages",b.join(",")),this.model.save()},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestAllowedLanguagesView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this.listenTo(this.model,"change",this.render)},e.prototype.template="x/test-candidate-settings",e.prototype.className="test-candidate-settings",e.prototype.events=function(){return{"submit form[name=test-candidate-settings-form]":"saveCandidateSettings","submit form[name=add-custom-detail-form]":"addCustomField","click .js-add-custom-field":"addCustomField"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader(),candidateSettings:this.prepareCandidateDetails()}),$(this.el).html(b)),this},e.prototype.prepareCandidateDetails=function(){var b,c,d;return this.model.get("collect_data")?c=this.model.get("collect_data"):c=!1,b={},_.each(a.util.getCandidateDetailsMapping(),function(a,d){var e;return e={value:d,label:a,name:"collect_candidate_details"},c&&_.indexOf(c,d)!==-1&&(e.checked="checked"),b[d]=e}),this.model.get("collect_data_extra")&&(d=this.model.get("collect_data_extra"),_.each(d,function(c){var d,e;return d={value:c,label:c,name:"collect_candidate_details_extra",checked:"checked"},e=a.util.convertToSlug(c),b[e]=d})),b},e.prototype.addCustomField=function(a){var b;a.preventDefault(),b=$("input[name=custom_field]").removeClass("error").val();if(_.isEmpty(b)){$("input[name=custom_field]").addClass("error").focus();return}return this.saveCandidateSettings(null,b)},e.prototype.saveCandidateSettings=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this;a&&a.preventDefault(),i=$("input[name=collect_candidate_details]:checked");if(i){f=[];for(j=0,l=i.length;j<l;j++)h=i[j],f.push(h.value);this.model.set("collect_data",f,{silent:!0})}d=$("input[name=collect_candidate_details_extra]:checked"),g=$("input[name=custom_field]").val();if(d||g){e=[];if(d){for(k=0,m=d.length;k<m;k++)c=d[k],e.push(c.value);b&&e.push(b)}g&&e.push(g),this.model.set("collect_data_extra",e,{silent:!0})}return this.model.save(null,{success:function(){return n.model.fetch()}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestCandidateSettingsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-custom-link",e.prototype.className="test-custom-link",e.prototype.events=function(){return{"submit form[name=short-test-url-form]":"createShortURL","submit form[name=public-test-url-form]":"createPublicURL"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.createPublicURL=function(a){var b,c=this;return a.preventDefault(),this.$(".public-url-validation-error").addClass("hidden"),b=$("input[name=public-test-url]").removeClass("error").val(),b?$.post("/xrest/tests/"+this.model.get("id")+"/link",{short_url:b,type:"public"},function(a){return a.message==="Success"?c.model.fetch():(c.$(".public-url-validation-error").find(".error").html(a.message),c.$(".public-url-validation-error").removeClass("hidden"))}):$("input[name=public-test-url]").addClass("error").focus()},e.prototype.createShortURL=function(a){var b,c=this;return a.preventDefault(),this.$(".short-url-validation-error").removeClass("hidden"),b=$("input[name=short-test-url]").removeClass("error").val(),b?$.post("/xrest/tests/"+this.model.get("id")+"/link",{short_url:b,type:"short"},function(a){return a.message==="Success"?c.model.fetch():(c.$(".short-url-validation-error").find(".error").html(a.message),c.$(".short-url-validation-error").removeClass("hidden"))}):$("input[name=short-test-url]").addClass("error").focus()},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestCustomLinkView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-cutoff-score",e.prototype.className="test-cutoff-score",e.prototype.events=function(){return{"submit form[name=test-cutoff-score-form]":"saveTestCutoff"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.saveTestCutoff=function(a){var b;return a.preventDefault(),b=$("input[name=cutoff-score]").removeClass("error").val(),b?(this.model.set("cutoff_score",parseInt(b,10)),this.model.save()):$("input[name=test-cutoff]").addClass("error")},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestCutoffScoreView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-delete",e.prototype.className="test-delete",e.prototype.events=function(){return{"click #delete_test":"deleteTest"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.deleteTest=function(a){var b=this;return a.preventDefault(),this.model.destroy({success:function(){return Backbone.history.navigate("x/tests",!0)},error:function(b,c,d){var e;return e=$.parseJSON(c.responseText),$(a.currentTarget).html(e.message),$(a.currentTarget).removeAttr("id")}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestDeleteView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-duplicate",e.prototype.className="test-duplicate",e.prototype.events=function(){return{"click #clone_test":"cloneTest"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.cloneTest=function(b){var c;return c=new a.TestModel({tid:this.model.get("id")}),c.save(null,{success:function(a){return $(b.currentTarget).html("Test created. Click here to go to the test"),$(b.currentTarget).removeAttr("id"),$(b.currentTarget).addClass("js-backbone"),$(b.currentTarget).attr("href","/x/tests/"+a.get("id")+"/questions")}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestDuplicateView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-general-settings",e.prototype.className="test-general-settings",e.prototype.events=function(){return{"submit form[name=test-general-settings-form]":"saveGeneralSettings"}},e.prototype.render=function(){var b,c,d,e;return d=this,e=this.model.toJSON(),e&&(c=a.appController.template(this.template,this)({model:e,throbber:a.appController.viewLoader()}),$(this.el).html(c)),b={skin:"moono",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","Link","Unlink"],["Styles","Format","Font","FontSize","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Source"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,width:this.$("textarea[name=test-instructions]").width()||780,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1},d=this,setTimeout(function(){return CKEDITOR.instances["test-instructions"]&&delete CKEDITOR.instances["test-instructions"],b.width=this.$("textarea[name=test-instructions]").width()||780,this.$("textarea.texteditor").ckeditor(b)}),this},e.prototype.saveGeneralSettings=function(a){var b,c,d,e;a.preventDefault(),d=this.$("input[name=name]").removeClass("error").val(),b=this.$("input[name=duration]").removeClass("error").val(),c=this.$("textarea[name=test-instructions]").removeClass("error").ckeditorGet().getData();if(_.isEmpty(d)){this.$("input[name=name]").addClass("error");return}if(_.isEmpty(b)){this.$("input[name=duration]").addClass("error");return}if(_.isEmpty(c)){this.$("textarea[name=test-instructions]").addClass("error");return}return e={name:d,duration:b,instructions:c},this.model.save(e)},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestGeneralSettingsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-invite",e.prototype.className="test-invite",e.prototype.events=function(){return{"click #preview":"previewMail","change #emails":"resize","cut #emails":"delayedResize","paste #emails":"delayedResize","drop #emails":"delayedResize","keydown #emails":"delayedResize","click #send_invites":"sendInvites"}},e.prototype.render=function(){var b,c,d,e;return d=this,e=this.model.toJSON(),e&&(c=a.appController.template(this.template,this)({model:e,throbber:a.appController.viewLoader()}),$(this.el).html(c)),b={skin:"moono",extraPlugins:"invite",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Link","Unlink"],["Format","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","Image","Table"],["Source"],["Invite"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,pasteFromWordRemoveFontStyles:!1,pasteFromWordRemoveStyles:!1,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1,filebrowserUploadUrl:"question/addImage",width:this.$("textarea[name=email-content]").width()||780},d=this,setTimeout(function(){return CKEDITOR.instances["email-content"]&&delete CKEDITOR.instances["email-content"],b.width=this.$("textarea[name=email-content]").width()||780,this.$("textarea.texteditor").ckeditor(b)}),this},e.prototype.resize=function(a){var b;return b=this.$("#emails")[0],b.style.height="auto",b.style.height=b.scrollHeight+"px",b.style.maxHeight="250px"},e.prototype.delayedResize=function(a){var b;return b=this,window.setTimeout(b.resize,0)},e.prototype.sendInvites=function(a){var b,c,d,e,f,g,h=this;a.preventDefault(),this.$(".invite_message").addClass("hidden"),c=this.$("#emails").removeClass("error").val(),g=this.$("input[name=subject]").val(),b=this.$("textarea[name=email-content]").removeClass("error").ckeditorGet().getData();if(_.isEmpty(c)){this.$("#emails").addClass("error");return}return d={},f=this.$("input[name=prefs-time]:checked").val(),d.time=f==="0"?!0:!1,e=this.$("input[name=prefs-link]:checked").val(),d.link=e==="0"?!0:!1,$.post("/xrest/tests/"+this.model.get("id")+"/invite",{emails:c,subject:g,message:b,options:d},function(a){return a.status===!0?h.$(".invite_message").removeClass("hidden").html(a.message):h.$(".invite_message").removeClass("hidden").html(a.message)})},e.prototype.previewMail=function(a){var b,c,d,e,f;return b=this.$("textarea[name=email-content]").ckeditorGet().getData(),c={},e=this.$("input[name=prefs-time]:checked").val(),c.time=e==="0"?!0:!1,d=this.$("input[name=prefs-link]:checked").val(),c.link=d==="0"?!0:!1,f=this.model.get("id"),$.post("/xrest/tests/"+f+"/preview_invite",{message:b,options:c},function(a){return $("#preview-body").html(a.message),$("#preview-mail-modal").modal(),!0}),!0},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestInviteView=c})}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k=function(a,b){return function(){return a.apply(b,arguments)}},l={}.hasOwnProperty,m=function(a,b){function d(){this.constructor=a}for(var c in b)l.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};jQuery(function(){}),e=function(b){function c(){return this.loadLib=k(this.loadLib,this),f=c.__super__.constructor.apply(this,arguments),f}return m(c,b),c.prototype.template="x/test-library",c.prototype.className="test-library-view",c.prototype.initialize=function(b){return this.library=b.library,this.filter=b.filter,this.testmodel=b.testmodel,this.search="",this.tags="",a.tm=this.testmodel,a.LibraryModel.setTid(this.testmodel.get("id")),a.candidate={},this},c.prototype.events=function(){return{"click .js-searchclear":"clearQuery","keypress .js-search":"setQuery","click .js-tags":"filterTags"}},c.prototype.setQuery=function(a){if(a.keyCode===13)return this.$(".js-searchclear").removeClass("hide"),this.search=this.$(".js-search").val(),this.loadLib()},c.prototype.clearQuery=function(a){return a.preventDefault(),this.$(a.currentTarget).addClass("hide"),this.$(".js-search").val(""),this.search="",this.loadLib()},c.prototype.filterTags=function(a){var b;b=this.$(".js-tags").val();if(b!==this.tags)return this.tags=b,this.loadLib()},c.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({test:this.testmodel.attributes,filter:this.filter,library:this.library}),$(this.el).html(b),setTimeout(this.loadLib,200),this},c.prototype.loadLib=function(){var b,c=this;return b=new a.LoadingView,this.$(".libcontent").html(b.render().el),a.LibraryModel.fetch({data:$.param({library:this.library,filter:this.filter,q:this.search,tags:this.tags}),success:function(a){return c.renderView()},error:function(a){return console.log("error",a)}})},c.prototype.renderView=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n;e=a.LibraryModel.attributes,this.$(".libcontent").empty(),b=[],e.sets.length===1?b.push("1 set"):e.sets.length>1&&b.push(""+e.sets.length+" sets"),e.questions.length===1?b.push("1 question"):e.questions.length>1&&b.push(""+e.questions.length+" questions"),b.length?this.$(".js-count").html("Found: "+b.join(", ")):(this.$(".js-count").html("Found nothing here."),this.$(".js-nothingfound").removeClass("hide")),this.$(".js-tags").select2("destroy"),e.tags.length>0?(this.$(".js-tags").select2({placeholder:"Filter tags",allowClear:!0,multiple:!0,query:function(b){var c,d,f,g,h;c={results:[]},h=e.tags;for(f=0,g=h.length;f<g;f++)d=h[f],c.results.push({id:d,text:a.util.capitalize(d)});return b.callback(c)},initSelection:function(b,c){var d,f,g,h,i;d=[],i=e.selected_tags;for(g=0,h=i.length;g<h;g++)f=i[g],d.push({id:f,text:a.util.capitalize(f)});return c(d)}}),this.$(".js-tags").removeClass("hide")):(this.$(".js-tags").addClass("hide"),this.$(".js-tags").css({display:""})),l=e.sets;for(h=0,j=l.length;h<j;h++)f=l[h],g=new a.TestLibrarySetView({set:f,test:this.testmodel}),this.$(".libcontent").append(g.render().el);m=e.questions,n=[];for(i=0,k=m.length;i<k;i++)c=m[i],d=new a.TestLibraryQuestionView({question:c,test:this.testmodel}),n.push(this.$(".libcontent").append(d.render().el));return n},c}(window.HR.GenericView),b=function(b){function c(){return g=c.__super__.constructor.apply(this,arguments),g}return m(c,b),c.prototype.template="x/test-library-question",c.prototype.className="test-library-question-view",c.prototype.events=function(){return{"click .js-remove-question":"removeQuestion","click .js-add-question":"addQuestion","click .js-toggleHeight":"toggleHeight"}},c.prototype.initialize=function(a){return this.test=a.test,this.question=a.question,"noexpand"in a?this.noexpand=a.noexpand:this.noexpand=!1,"actions"in a?this.actions=a.actions:this.actions=!0,console.log("showing ",this.actions)},c.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({question:this.question,test:this.test.attributes,hrqn:window.istreet.cfg.hrqn,noexpand:this.noexpand,actions:this.actions}),$(this.el).html(b),this},c.prototype.removeQuestion=function(a){var b,c,d=this;return a.preventDefault(),b=this.$(a.currentTarget),c=this.test.get("questions_array"),c.splice(c.indexOf(b.attr("data-qid")),1),this.test.set("questions_array",c),this.test.save(null,{success:function(a){return b.addClass("js-add-question btn-primary"),b.removeClass("js-remove-question btn-alert"),b.html("Add")},error:function(a){return console.log(a)}})},c.prototype.addQuestion=function(a){var b,c=this;return a.preventDefault(),b=this.$(a.currentTarget),this.test.set("add_questions_hashes",[b.attr("data-quid")]),this.test.save(null,{success:function(a){return c.test.unset("add_questions_hashes"),b.removeClass("js-add-question btn-primary"),b.addClass("js-remove-question btn-alert"),b.html("Remove")},error:function(a){return console.log(a)}})},c.prototype.toggleHeight=function(a){var b;return a.preventDefault(),b=this.$(a.currentTarget),b.attr("data-state")==="collapsed"?(b.html('collapse <i class="icon-up-open">'),b.attr("data-state","expanded"),$(this.el).find(".js-qcontent").removeClass("text-ellipsis-oneline")):(b.html('expand <i class="icon-down-open">'),b.attr("data-state","collapsed"),$(this.el).find(".js-qcontent").addClass("text-ellipsis-oneline"))},c}(window.HR.GenericView),d=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments),h}return m(c,b),c.prototype.template="x/test-library-set",c.prototype.className="test-library-set-view",c.prototype.events=function(){return{"click .js-showset":"showSetModal"}},c.prototype.initialize=function(a){return this.test=a.test,this.set=a.set},c.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({set:this.set,test:this.test.attributes,hrqn:window.istreet.cfg.hrqn}),$(this.el).html(b),this},c.prototype.showSetModal=function(b){var c,d,e,f=this;return b.preventDefault(),c=this.$(b.currentTarget),e=new a.TestLibrarySetModalView({set:this.set,test:this.test}),this.$(".js-setdetails-wrapper").html(e.render().el),d={width:1e3,"margin-left":-(parseInt(1e3)/2),"min-height":600,height:"80%"},setTimeout(function(){return f.$(".js-setdetails").modal().css(d)},100)},c}(window.HR.GenericView),c=function(b){function c(){return i=c.__super__.constructor.apply(this,arguments),i}return m(c,b),c.prototype.template="x/test-library-setmodal",c.prototype.className="test-library-setmodal",c.prototype.events=function(){return{"click .js-qview":"showQuestion","click .js-qnext":"nextQuestion","click .js-qprev":"prevQuestion"}},c.prototype.initialize=function(a){return this.set=a.set,this.test=a.test},c.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({set:this.set,test:this.test.attributes}),$(this.el).html(b),this.$("a[qindex=0]").trigger("click"),this},c.prototype.showQuestion=function(b){var c,d,e;return b.preventDefault(),d=this.$(b.currentTarget),d.parent().parent().find(".active").removeClass("active"),d.parent().addClass("active"),e=this.set.questions[d.attr("qindex")],c=new a.TestLibraryQuestionView({question:e,test:this.test,noexpand:!0}),this.$(".setqcontents").html(c.render().el)},c.prototype.nextQuestion=function(a){var b,c;return a.preventDefault(),b=this.$(a.currentTarget),c=parseInt(b.parent().parent().find(".active").find("a").attr("qindex")),c===this.set.questions.length-1?c=0:c+=1,b.parent().parent().find("a[qindex="+c+"]").trigger("click")},c.prototype.prevQuestion=function(a){var b,c;return a.preventDefault(),b=this.$(a.currentTarget),c=parseInt(b.parent().parent().find(".active").find("a").attr("qindex")),c===0?c=this.set.questions.length-1:c-=1,b.parent().parent().find("a[qindex="+c+"]").trigger("click")},c}(window.HR.GenericView),a=(j=window.HR)!=null?j:{},a.TestLibraryView=e,a.TestLibraryQuestionView=b,a.TestLibrarySetView=d,a.TestLibrarySetModalView=c}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-master-password",e.prototype.className="test-master-password",e.prototype.events=function(){return{"submit form[name=test-master-password-form]":"saveMasterPassword"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.saveMasterPassword=function(a){var b;return a.preventDefault(),b=$("input[name=master-password]").removeClass("error").val(),b?(this.model.set("defPassword",b),this.model.save()):$("input[name=master-password]").addClass("error")},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestMasterPasswordView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-mcq-score",e.prototype.className="test-mcq-score",e.prototype.events=function(){return{"submit form[name=test-mcq-score-form]":"saveMCQScore"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e.prototype.saveMCQScore=function(a){var b,c;return a.preventDefault(),c=parseInt($("input[name=correct-answer-score]").val(),10),b=parseInt($("input[name=wrong-answer-score]").val(),10),b>0&&(b=-1*b),this.model.set({mcq_score:c,mcq_negative_score:b}),this.model.save()},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestMcqScoreView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this.active_nav_link=a.active_nav_link},e.prototype.template="x/test-navigation",e.prototype.className="test-navigation",e.prototype.updateData=function(a,b){return this.model=a,this.active_nav_link=b,this.render()},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,active_nav_link:this.active_nav_link,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestNavigationView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return k=function(c){function d(){return n=d.__super__.constructor.apply(this,arguments),n}return b(d,c),d.prototype.className="test-question-edit",d.prototype.initialize=function(b){return this._subviews=[],this.testmodel=b.testmodel,this.qid=b.qid,this.type=b.type,this.step=b.step,this.qid?(this.model=new a.QuestionModel({id:this.qid,tid:this.testmodel.get("id"),type:this.type}),this.listenTo(this.model,"change",this.render),this.model.fetch()):(this.model=new a.QuestionModel({tid:this.testmodel.get("id"),type:this.type}),this.listenTo(this.model,"change",this.render))},d.prototype.events=function(){},d.prototype.render=function(){var a,b=this;_.each(this._subviews,function(a){return a.destroy()});switch(this.model.get("type")){case"code":
case"approx":a=new h({model:this.model,testmodel:this.testmodel,step:this.step}),this._subviews.push(a),$(this.el).html(a.render().el);break;case"mcq":case"multiple_mcq":a=new i({model:this.model,testmodel:this.testmodel}),this._subviews.push(a),$(this.el).html(a.render().el);break;case"textAns":case"file_upload":case"uml":case"electrical":a=new j({model:this.model,testmodel:this.testmodel}),this._subviews.push(a),$(this.el).html(a.render().el)}return this},d}(window.HR.GenericView),i=function(d){function e(){return o=e.__super__.constructor.apply(this,arguments),o}return b(e,d),e.prototype.template="x/question-mcq",e.prototype.className="question-mcq",e.prototype.initialize=function(a){return this.testmodel=a.testmodel,this._subviews=[],this._choices_views=[]},e.prototype.events=function(){return{"click .js-toggle-richtext":"toggleRichtext","submit form[name=mcq-question-form]":"saveQuestion","click .js-add-choice":"addChoice"}},e.prototype.render=function(){var b,c,d;return this.model.get("richtext")?this.richtext=this.model.get("richtext"):this.richtext="False",c=a.appController.template(this.template,this)({model:this.model.toJSON(),edit:this.model.get("id")?!0:!1,test:this.testmodel.toJSON(),richtext:this.richtext}),$(this.el).html(c),b={skin:"moono",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","Link","Unlink"],["Styles","Format","Font","FontSize","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Source"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,width:this.$("textarea[name=problem-description]").width()||780,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1},d=this,setTimeout(function(){return CKEDITOR.instances["problem-description"]&&delete CKEDITOR.instances["problem-description"],b.width=this.$("textarea[name=problem-description]").width()||780,this.$("textarea.texteditor").ckeditor(b)}),this.renderChoices(),this},e.prototype.renderChoices=function(){var a,b,d,e=this;this._choices_views=[];if(this.model.get("options"))return _.each(this.model.get("options"),function(a,b){var d;return d=new c({model:e.model,index:b,parent:e,richtext:e.richtext}),e._subviews.push(d),e._choices_views.push(d),e.$("#choices-container").append(d.render().el)});b=0,d=[];while(b<4)a=new c({model:this.model,index:b,parent:this,richtext:this.richtext}),this._subviews.push(a),this._choices_views.push(a),this.$("#choices-container").append(a.render().el),d.push(b++);return d},e.prototype.toggleSelectOption=function(a){var b;return b=this.$(this.$("ul#choices-container li")[a]),this.model.get("type")==="mcq"?b.hasClass("active")?(b.removeClass("active"),b.find(".js-mark-answer").html("Mark as answer")):(this.$("ul#choices-container li").removeClass("active"),b.addClass("active"),b.find(".js-mark-answer").html("Unmark as answer")):b.hasClass("active")?(b.removeClass("active"),b.find(".js-mark-answer").html("Mark as answer")):(b.addClass("active"),b.find(".js-mark-answer").html("Unmark as answer"))},e.prototype.removeOption=function(a){if(this._choices_views.length===2)return;return this._subviews=_.without(this._subviews,a),this._choices_views=_.without(this._choices_views,a),_.each(this._choices_views,function(a,b){return a.setIndex(b)}),a.destroy()},e.prototype.toggleRichtext=function(a){var b;a.preventDefault();if(this.richtext!=="True")return this.richtext="True",_.each(this._choices_views,function(a){return a.makeRichText()}),this.$(a.currentTarget).html("(edit as normal text)");b=confirm("Converting to plain text will lose some formatting and remove inserted items. Are you sure you want to continue?");if(b)return this.richtext="False",_.each(this._choices_views,function(a){return a.removeRichText()}),this.$(a.currentTarget).html("(edit as rich text)")},e.prototype.addChoice=function(a){var b,d;return a.preventDefault(),d=this._choices_views.length,b=new c({model:this.model,index:d,parent:this,richtext:this.richtext}),this._subviews.push(b),this._choices_views.push(b),this.$("#choices-container").append(b.render().el)},e.prototype.saveQuestion=function(a){var b,c,d,e,f=this;a.preventDefault(),this.$("#error-container").hide(),c=[],b=[],_.each(this._choices_views,function(a){var d;d=a.getData(),c.push(d.value);if(d.answer)return b.push(parseInt(d.index,10)+1)});if(_.isEmpty(b)){this.$(".text-error").html("Please select an option as the answer"),this.$("#error-container").show();return}return this.model.get("type")==="mcq"&&(b=b[0]),d=this.$("textarea[name=problem-description]").removeClass("error").ckeditorGet().getData(),e={options:c,answer:b,richtext:this.richtext,question:d},this.model.save(e,{success:function(a){return Backbone.history.navigate("x/tests/"+f.testmodel.get("id")+"/questions/"+a.get("id")+"/edit",!0)},error:function(a,b,c){return b=JSON.parse(b.responseText),this.$(".text-error").html(b.message),this.$("#error-container").show()}})},e}(window.HR.GenericView),c=function(c){function d(){return r=d.__super__.constructor.apply(this,arguments),r}return b(d,c),d.prototype.template="x/question-mcq-choice",d.prototype.className="question-mcq-choice",d.prototype.tagName="li",d.prototype.initialize=function(a){return this.index=a.index,this.parent=a.parent,this.richtext=a.richtext,this.config={skin:"moono",toolbar:[["Image","Superscript","Subscript","Link","Unlink","Table"]],toolbarCanCollapse:!1,autoUpdateElement:!0,height:100,autoParagraph:!1,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1,filebrowserUploadUrl:"question/addImage"}},d.prototype.getData=function(){return this.richtext==="True"?{value:this.$("textarea").ckeditorGet().getData(),index:this.index,answer:$(this.el).hasClass("active")}:{value:this.$("textarea").val(),index:this.index,answer:$(this.el).hasClass("active")}},d.prototype.setIndex=function(a){return this.index=a,this.$(".option-title").html(String.fromCharCode(65+this.index))},d.prototype.events=function(){return{"click div.mcq-option":"toggleSelectOption","click .js-mark-answer":"toggleSelectOption","click .js-remove-option":"removeOption"}},d.prototype.render=function(){var b,c,d,e=this;c="",b=!1;if(this.model.get("options")&&this.model.get("options")[this.index]){c=this.model.get("options")[this.index];if(this.model.get("type")==="mcq"){if(this.model.get("answer")===this.index+1||this.model.get("answer")===(this.index+1).toString())b=!0}else if(_.indexOf(this.model.get("answer"),this.index+1)>-1||_.indexOf(this.model.get("answer"),(this.index+1).toString())>-1)b=!0}return d=a.appController.template(this.template,this)({model:this.model.toJSON(),index:this.index,choice:c,answer:b}),$(this.el).html(d),b&&$(this.el).addClass("active"),this.richtext==="True"&&setTimeout(function(){return e.makeRichText()},200),this},d.prototype.toggleSelectOption=function(a){return a.preventDefault(),this.parent.toggleSelectOption(this.index)},d.prototype.removeOption=function(a){return a.preventDefault(),this.parent.removeOption(this)},d.prototype.makeRichText=function(){return this.richtext="True",this.$("textarea").val(a.util.htmlEncode(this.$("textarea").val())),this.$("textarea").ckeditor(function(){return this.container.addClass("mcq-rich-text")},this.config)},d.prototype.removeRichText=function(){var b,c,d;return this.richtext="False",this.$("textarea").ckeditor(function(){return this.destroy()},this.config),b=this.$("textarea").val(),d=b.replace(/(<([^>]+)>)/ig,""),d=a.util.htmlDecode(d),d=$.trim(d),c=d,this.$("textarea").val(c)},d}(window.HR.GenericView),j=function(c){function d(){return s=d.__super__.constructor.apply(this,arguments),s}return b(d,c),d.prototype.template="x/question-subjective",d.prototype.className="question-subjective",d.prototype.initialize=function(a){return this.testmodel=a.testmodel,this._subviews=[]},d.prototype.events=function(){return{"submit form[name=subjective-question-form]":"saveQuestion"}},d.prototype.render=function(){var b,c,d;return c=a.appController.template(this.template,this)({model:this.model.toJSON(),edit:this.model.get("id")?!0:!1,test:this.testmodel.toJSON()}),$(this.el).html(c),b={skin:"moono",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","Link","Unlink"],["Styles","Format","Font","FontSize","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Source"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,width:this.$("textarea[name=problem-description]").width()||780,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1},d=this,setTimeout(function(){return CKEDITOR.instances["problem-description"]&&delete CKEDITOR.instances["problem-description"],b.width=this.$("textarea[name=problem-description]").width()||780,this.$("textarea.texteditor").ckeditor(b)}),this},d.prototype.saveQuestion=function(a){var b,c,d=this;a.preventDefault(),b=this.$("textarea[name=problem-description]").removeClass("error").ckeditorGet().getData();if(_.isEmpty(b)){this.$("textarea[name=problem-description]").addClass("error");return}return c={question:b},this.model.save(c,{silent:!0,success:function(a){return Backbone.history.navigate("x/tests/"+d.testmodel.get("id")+"/questions/"+a.get("id")+"/edit",!0)}})},d}(window.HR.GenericView),h=function(c){function h(){return t=h.__super__.constructor.apply(this,arguments),t}return b(h,c),h.prototype.template="x/question-coding",h.prototype.className="question-coding",h.prototype.initialize=function(a){return this._subviews=[],this.step=a.step,this.testmodel=a.testmodel},h.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON(),edit:this.model.get("id")?!0:!1,step:this.step,test:this.testmodel.toJSON()}),$(this.el).html(b),this.renderStep(this.step),this},h.prototype.renderStep=function(a){var b;switch(a){case"step1":return b=new d({model:this.model,testmodel:this.testmodel}),this._subviews.push(b),this.$("#control-overflow").html(b.render().el);case"step2":return b=new e({model:this.model,testmodel:this.testmodel}),this._subviews.push(b),this.$("#control-overflow").html(b.render().el);case"step3":return b=new f({model:this.model,testmodel:this.testmodel}),this._subviews.push(b),this.$("#control-overflow").html(b.render().el);case"step4":return b=new g({model:this.model,testmodel:this.testmodel}),this._subviews.push(b),this.$("#control-overflow").html(b.render().el)}},h}(window.HR.GenericView),d=function(c){function d(){return u=d.__super__.constructor.apply(this,arguments),u}return b(d,c),d.prototype.template="x/question-coding-step1",d.prototype.className="question-coding-step1",d.prototype.initialize=function(a){return this.testmodel=a.testmodel,this.edit=this.model.get("id")?!0:!1},d.prototype.events=function(){return{"submit form[name=coding-question-step1-form]":"saveQuestion"}},d.prototype.render=function(){var b,c,d;return c=a.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(c),b={skin:"moono",toolbar:[["Bold","Italic","Underline","Strike","Subscript","Superscript","-","NumberedList","BulletedList","-","Indent","Outdent","-","Link","Unlink"],["Styles","Format","Font","FontSize","TextColor"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Source"]],toolbarCanCollapse:!1,autoGrow_onStartup:!0,width:this.$("textarea[name=problem-description]").width()||780,removePlugins:"elementspath,contextmenu,liststyle,tabletools",disableNativeSpellChecker:!1},d=this,setTimeout(function(){return CKEDITOR.instances["problem-description"]&&delete CKEDITOR.instances["problem-description"],b.width=this.$("textarea[name=problem-description]").width()||780,this.$("textarea.texteditor").ckeditor(b)}),this},d.prototype.saveQuestion=function(a){var b,c,d,e=this;a.preventDefault(),b=this.$("input[name=name]").removeClass("error").val(),c=this.$("textarea[name=problem-description]").removeClass("error").ckeditorGet().getData();if(_.isEmpty(b)){this.$("input[name=name]").addClass("error");return}if(_.isEmpty(c)){this.$("textarea[name=problem-description]").addClass("error");return}return d={name:b,question:c},this.model.save(d,{silent:!0,success:function(a){return Backbone.history.navigate("x/tests/"+e.testmodel.get("id")+"/questions/"+a.get("id")+"/edit/step2",!0)}})},d}(window.HR.GenericView),e=function(c){function d(){return v=d.__super__.constructor.apply(this,arguments),v}return b(d,c),d.prototype.template="x/question-coding-step2",d.prototype.className="question-coding-step2",d.prototype.returnTypes=[{id:"INTEGER",text:"INTEGER"},{id:"STRING",text:"STRING"},{id:"FLOAT",text:"FLOAT"},{id:"INTEGER_ARRAY",text:"INTEGER ARRAY"},{id:"STRING_ARRAY",text:"STRING ARRAY"},{id:"INTEGER_SINGLY_LINKED_LIST",text:"INTEGER SINGLY LINKED LIST"},{id:"FLOAT_SINGLY_LINKED_LIST",text:"FLOAT SINGLY LINKED LIST"},{id:"CHARACTER_SINGLY_LINKED_LIST",text:"CHARACTER SINGLY LINKED LIST"},{id:"STRING_SINGLY_LINKED_LIST",text:"STRING SINGLY LINKED LIST"},{id:"INTEGER_DOUBLY_LINKED_LIST",text:"INTEGER DOUBLY LINKED LIST"},{id:"FLOAT_DOUBLY_LINKED_LIST",text:"FLOAT DOUBLY LINKED LIST"},{id:"CHARACTER_DOUBLY_LINKED_LIST",text:"CHARACTER DOUBLY LINKED LIST"},{id:"STRING_DOUBLY_LINKED_LIST",text:"STRING DOUBLY LINKED LIST"},{id:"VOID",text:"VOID"}],d.prototype.parameterTypes=[{id:"INTEGER",text:"INTEGER"},{id:"STRING",text:"STRING"},{id:"FLOAT",text:"FLOAT"},{id:"INTEGER_ARRAY",text:"INTEGER ARRAY"},{id:"STRING_ARRAY",text:"STRING ARRAY"},{id:"INTEGER_SINGLY_LINKED_LIST",text:"INTEGER SINGLY LINKED LIST"},{id:"FLOAT_SINGLY_LINKED_LIST",text:"FLOAT SINGLY LINKED LIST"},{id:"CHARACTER_SINGLY_LINKED_LIST",text:"CHARACTER SINGLY LINKED LIST"},{id:"STRING_SINGLY_LINKED_LIST",text:"STRING SINGLY LINKED LIST"},{id:"INTEGER_DOUBLY_LINKED_LIST",text:"INTEGER DOUBLY LINKED LIST"},{id:"FLOAT_DOUBLY_LINKED_LIST",text:"FLOAT DOUBLY LINKED LIST"},{id:"CHARACTER_DOUBLY_LINKED_LIST",text:"CHARACTER DOUBLY LINKED LIST"},{id:"STRING_DOUBLY_LINKED_LIST",text:"STRING DOUBLY LINKED LIST"}],d.prototype.langTextMapping={c:"C",cpp:"C++",java:"Java",csharp:"C#",python:"Python",php:"PHP",ruby:"Ruby",perl:"Perl",javascript:"Javascript",haskell:"Haskell",clojure:"Clojure",scala:"Scala",go:"Go",objectivec:"Objective C",erlang:"Erlang",groovy:"Groovy",code:"Code",oracle:"Oracle",r:"R"},d.prototype.lang_mime_mapping={c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp",haskell:"text/x-haskell",php:"text/x-php",python:"text/x-python",perl:"text/x-perl",ruby:"text/x-ruby",bash:"text/x-bash",oracle:"text/x-plsql",mysql:"text/x-plsql",sql:"text/x-plsql",clojure:"text/x-scheme",scala:"text/plain",code:"text/plain",go:"text/x-go",javascript:"text/javascript",objectivec:"text/x-csrc"},d.prototype.initialize=function(a){return this.testmodel=a.testmodel},d.prototype.events=function(){return{"submit form[name=coding-question-step2-form]":"saveQuestion","click label.hr-checkbox":"toggleCheckbox","click a.js-clear-all":"clearAllCheckbox","click a.js-select-all":"checkAllCheckbox","change input[name=template_type]:checked":"toggleCodeStubs","change #code-editor-lang-select2":"changeLanguage","click .js-code-section-tab":"switchCodeSection","click .js-add-parameter":"addParameter","click .js-remove-parameter":"removeParameter","click .js-generate-templates":"generateTemplates"}},d.prototype.render=function(){var b,c,d,e,f,g=this;return c=[],f=this.model.toJSON(),f.allowedLanguages&&(this.allowedLanguages=f.allowedLanguages.split(",")),this.language=_.first(this.allowedLanguages)||"c",d=a.appController.template(this.template,this)({model:this.model.toJSON(),allowedLanguages:this.allowedLanguages}),$(this.el).html(d),this.editorOptions={lineNumbers:!0,lineWrapping:!1,mode:this.lang_mime_mapping[this.language]},b=this.$("textarea#template").get(0),b&&(this.tbody_editor=CodeMirror.fromTextArea(b,this.editorOptions),setTimeout(function(){return g.tbody_editor.refresh()},10)),this.initCodeEditorLanguageSelect2(),this.initReturnTypeSelect2(),this.model.get("functionParams")?(e=this.model.get("functionParams").split(","),_.each(e,function(a,b){return g.initParametersSelect2("#brahma-parameter-select2-"+b)})):this.initParametersSelect2("#brahma-parameter-select2-0"),this},d.prototype.initCodeEditorLanguageSelect2=function(){var a,b=this;return a=[],_.each(this.allowedLanguages,function(c){return a.push({id:c,text:b.langTextMapping[c]})}),this.$("#code-editor-lang-select2").select2({data:a})},d.prototype.initReturnTypeSelect2=function(){return this.$("#brahma-return-type").select2({data:this.returnTypes})},d.prototype.initParametersSelect2=function(a){return this.$(a).select2({data:this.parameterTypes})},d.prototype.changeLanguage=function(a){var b,c,d,e=this;a.preventDefault(),c=this.$(".js-code-section-tabs-list li.active").find(".js-code-section-tab").data("id"),this.model.get(""+this.language+"_"+c)!==this.tbody_editor.getValue()&&(this.model.set("template_type","2",{silent:!0}),this.model.set(""+this.language+"_"+c,this.tbody_editor.getValue(),{silent:!0})),this.$(".js-code-section-tabs-list li").removeClass("active"),this.$(".js-code-section-tab[data-id=template]").parent().addClass("active"),d=this.$(a.currentTarget).val(),this.editorOptions.mode=this.lang_mime_mapping[d],b=this.$("textarea#template").get(0);if(b)return this.language=d,this.tbody_editor.setOption("mode",this.lang_mime_mapping[d]),this.tbody_editor.setValue(this.model.get(""+d+"_template")),setTimeout(function(){return e.tbody_editor.refresh()},10)},d.prototype.switchCodeSection=function(a){var b,c,d,e=this;a.preventDefault();if(this.$(a.currentTarget).parent().hasClass("active"))return;return c=this.$(".js-code-section-tabs-list li.active").find(".js-code-section-tab").data("id"),this.model.get(""+this.language+"_"+c)!==this.tbody_editor.getValue()&&(this.model.set("template_type","2",{silent:!0}),this.model.set(""+this.language+"_"+c,this.tbody_editor.getValue(),{silent:!0})),c=this.$(a.currentTarget).data("id"),d=this.$("#code-editor-lang-select2").val(),b=this.$("textarea#"+c).get(0),b&&(this.language=d,this.tbody_editor.setOption("mode",this.lang_mime_mapping[d]),this.tbody_editor.setValue(this.model.get(""+d+"_"+c)),setTimeout(function(){return e.tbody_editor.refresh()},10)),this.$(".js-code-section-tabs-list li").removeClass("active"),this.$(a.currentTarget).parent().addClass("active")},d.prototype.addParameter=function(a){var b,c,d,e;a.preventDefault(),b=_.last(this.$("#brahma-parameters-container .js-brahma-parameter"));if(b)return c=$(b).find("input.js-parameter-type")[0].getAttribute("data-id"),d=parseInt(c)+1,e="<div class='block js-brahma-parameter'>                    <input type='text' name='functionParameterName'></input><input type='hidden' id='brahma-parameter-select2-"+d+"' class='wide js-parameter-type' value='INTEGER' data-id='"+d+"' name='functionParameterType'>                    <a href='#' class='txt-alt-grey psA js-remove-parameter'><i class='icon2-delete'></i></a>                </div>",this.$("#brahma-parameters-container").append(e),this.initParametersSelect2("#brahma-parameter-select2-"+d)},d.prototype.removeParameter=function(a){return a.preventDefault(),this.$(a.currentTarget).parent().remove()},d.prototype.generateTemplates=function(a){var b,c,d,e=this;return a.preventDefault(),b=this.$("input[name=functionName]").val(),d=this.$("input[name=functionReturn]").val(),c=[],_.each($(".js-brahma-parameter"),function(a){var b,d,f;d=e.$(a).find("input[name=functionParameterName]").val(),f=e.$(a).find("input[name=functionParameterType]").val();if(d&&f)return b=""+f+" "+d,c.push(b)}),c=c.join(","),this.model.set("functionParams",c,{silent:!0}),this.model.set("functionReturn",d,{silent:!0}),this.model.set("functionName",b,{silent:!0}),this.model.set("template_type","1",{silent:!0}),this.model.save(null,{silent:!0,success:function(a,b){var c,d;return d=e.$("#code-editor-lang-select2").val(),c=e.$(".js-code-section-tabs-list li.active").find(".js-code-section-tab").data("id"),setTimeout(function(){return e.tbody_editor.setValue(a.get(""+d+"_"+c)),e.tbody_editor.refresh()},10)}})},d.prototype.saveQuestion=function(a){var b,c,d,e=this;return a.preventDefault(),b=[],d=$("input[name=allowedLanguages]:checked"),_.each(d,function(a){return b.push(a.value)}),this.model.set("allowedLanguages",b.join(",")),c=this.$(".js-code-section-tabs-list li.active").find(".js-code-section-tab").data("id"),this.model.get(""+this.language+"_"+c)!==this.tbody_editor.getValue()&&(this.model.set("template_type","2",{silent:!0}),this.model.set(""+this.language+"_"+c,this.tbody_editor.getValue(),{silent:!0})),this.model.save(null,{silent:!0,success:function(a){return Backbone.history.navigate("x/tests/"+e.testmodel.get("id")+"/questions/"+a.get("id")+"/edit/step3",!0)}})},d.prototype.toggleCheckbox=function(a){return a.preventDefault(),$(a.currentTarget).hasClass("active")?($(a.currentTarget).removeClass("active").removeClass("active"),$(a.currentTarget).find("input").removeAttr("checked")):($(a.currentTarget).addClass("active").addClass("active"),$(a.currentTarget).find("input").attr("checked","checked"))},d.prototype.checkAllCheckbox=function(a){var b,c=this;return a.preventDefault(),b=this.$(".hr-checkbox.languages"),_.each(b,function(a){return $(a).addClass("active"),$(a).find("input").attr("checked","checked")})},d.prototype.clearAllCheckbox=function(a){var b,c=this;return a.preventDefault(),b=this.$(".hr-checkbox.languages"),_.each(b,function(a){return $(a).removeClass("active"),$(a).find("input").removeAttr("checked")})},d.prototype.toggleCodeStubs=function(a){var b,c=this;return b=$(a.currentTarget).val(),b==="0"?this.$(".js-code-stubs-section").slideUp():(this.$(".js-code-stubs-section").slideDown(),setTimeout(function(){return c.tbody_editor.refresh()},10))},d}(window.HR.GenericView),f=function(c){function d(){return w=d.__super__.constructor.apply(this,arguments),w}return b(d,c),d.prototype.template="x/question-coding-step3",d.prototype.className="question-coding-step3",d.prototype.initialize=function(b){return this._subviews=[],this.testmodel=b.testmodel,this.testcases=new a.TestCasesCollection,this.testcases.setTid(this.testmodel.get("id")),this.testcases.setQid(this.model.get("id")),this.listenTo(this.testcases,"add",this.render),this.listenTo(this.testcases,"remove",this.render),this.testcases.fetch()},d.prototype.events=function(){return{"click .js-edit-testcase":"editTestcase","click .js-add-testcase":"addTestcase","click .js-remove-testcase":"removeTestcase","click .js-upload-testcases":"uploadTestcases"}},d.prototype.render=function(){var b,c=this;return b=a.appController.template(this.template,this)({model:this.model.toJSON(),testcases:this.testcases.toJSON()}),$(this.el).html(b),this.testcases.models.length>0&&_.each(this.testcases.models,function(a,b){var d;return d=new m({model:a,index:b}),c._subviews.push(d),c.$("tbody").append(d.render().el)}),this},d.prototype.editTestcase=function(a){var b,c,d=this;return a.preventDefault(),b=parseInt($(a.currentTarget).data("tcid")),c=this.testcases.at(b),c.set("qid",this.model.get("id")),c.set("tid",this.testmodel.get("id")),c.fetch({success:function(a){var c;return c=new l({model:a,index:b,collection:d.testcases}),d._subviews.push(c),d.$("#testcase-modal-container").html(c.render().el)}})},d.prototype.addTestcase=function(b){var c,d,e=this;return b.preventDefault(),c=this.testcases.models.length,d=new a.TestCaseModel({qid:this.model.get("id"),tid:this.testmodel.get("id")}),d.fetch({success:function(a){var b;return b=new l({model:a,index:c,collection:e.testcases}),e._subviews.push(b),e.$("#testcase-modal-container").html(b.render().el)}})},d}(window.HR.GenericView),m=function(c){function d(){return x=d.__super__.constructor.apply(this,arguments),x}return b(d,c),d.prototype.template="x/testcase-row",d.prototype.className="testcase-row",d.prototype.tagName="tr",d.prototype.initialize=function(a){return this.index=a.index,this.listenTo(this.model,"change",this.render)},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({testcase:this.model.toJSON(),index:this.index}),$(this.el).html(b),this},d}(window.HR.GenericView),l=function(c){function d(){return y=d.__super__.constructor.apply(this,arguments),y}return b(d,c),d.prototype.template="x/testcase-edit-modal",d.prototype.className="testcase-edit-modal",d.prototype.initialize=function(a){return this.index=a.index},d.prototype.events=function(){return{"submit form[name=edit-testcase-form]":"saveTestcase"}},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON(),index:this.index}),$(this.el).html(b),this.$("#edit-testcase-modal").modal(),this},d.prototype.saveTestcase=function(a){var b,c=this;return a.preventDefault(),b={name:this.$("input[name=name]").val()||"Testcase "+this.index,type:this.$("select[name=type]").val()||"Easy",score:parseInt(this.$("input[name=score]").val()),input:this.$("textarea[name=input]").val(),output:this.$("textarea[name=output]").val(),sample:this.$("input[name=sample]:checked").length>0?!0:!1},this.model.save(b,{success:function(a){return a.collection?c.$(".close").click():(c.$(".close").click(),c.collection.add(a))}})},d}(window.HR.GenericView),g=function(c){function d(){return p=d.__super__.constructor.apply(this,arguments),p}return b(d,c),d.prototype.template="x/question-coding-step4",d.prototype.className="question-coding-step4",d.prototype.langTextMapping={c:"C",cpp:"C++",java:"Java",csharp:"C#",python:"Python",php:"PHP",ruby:"Ruby",perl:"Perl",javascript:"Javascript",haskell:"Haskell",clojure:"Clojure",scala:"Scala",go:"Go",objectivec:"Objective C",erlang:"Erlang",groovy:"Groovy",code:"Code",oracle:"Oracle",r:"R"},d.prototype.lang_mime_mapping={c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp",haskell:"text/x-haskell",php:"text/x-php",python:"text/x-python",perl:"text/x-perl",ruby:"text/x-ruby",bash:"text/x-bash",oracle:"text/x-plsql",mysql:"text/x-plsql",sql:"text/x-plsql",clojure:"text/x-scheme",scala:"text/plain",code:"text/plain",go:"text/x-go",javascript:"text/javascript",objectivec:"text/x-csrc"},d.prototype.initialize=function(a){return this.testmodel=a.testmodel,this.savedCodes={}},d.prototype.events=function(){return{"submit form[name=coding-question-step4-form]":"saveQuestion","change #code-editor-lang-select2":"changeLanguage"}},d.prototype.render=function(){var b,c,d=this;return c=a.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(c),this.model.get("evaluator_language")?this.language=this.model.get("evaluator_language"):this.language="cpp",this.editorOptions={lineNumbers:!0,lineWrapping:!1,mode:this.lang_mime_mapping[this.language]},b=this.$("textarea#evaluator_code").get(0),b&&(this.tbody_editor=CodeMirror.fromTextArea(b,this.editorOptions),setTimeout(function(){return d.tbody_editor.refresh()},10)),this.initCodeEditorLanguageSelect2(),this},d.prototype.initCodeEditorLanguageSelect2=function(){var a,b=this;return a=[],_.each(this.langTextMapping,function(b,c){return a.push({id:c,text:b})}),this.$("#code-editor-lang-select2").select2({data:a})},d.prototype.changeLanguage=function(a){var b,c,d=this;a.preventDefault(),this.savedCodes[this.language]=this.tbody_editor.getValue(),c=this.$(a.currentTarget).val(),this.editorOptions.mode=this.lang_mime_mapping[c],b=this.$("textarea#evaluator_code").get(0);if(b)return this.language=c,this.tbody_editor.setOption("mode",this.lang_mime_mapping[c]),this.savedCodes[this.language]?this.tbody_editor.setValue(this.savedCodes[this.language]):this.tbody_editor.setValue(""),setTimeout(function(){return d.tbody_editor.refresh()},10)},d.prototype.saveQuestion=function(a){var b=this;return a.preventDefault(),this.model.set("evaluator_language",this.language,{silent:!0}),this.model.set("evaluator_code",this.tbody_editor.getValue(),{silent:!0}),this.model.save(null,{silent:!0,success:function(a){return Backbone.history.navigate("x/tests/"+b.testmodel.get("id")+"/questions",!0)}})},d}(window.HR.GenericView),a=(q=window.HR)!=null?q:{},a.TestQuestionEditView=k})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-questions-shuffling",e.prototype.className="test-questions-shuffling",e.prototype.events=function(){return{"submit form[name=questions-shuffling-form]":"saveQuestionsShuffling"}},e.prototype.render=function(){var b,c,d,e=this;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){return e.$(".switch").bootstrapSwitch()},200),this},e.prototype.saveQuestionsShuffling=function(a){var b;return a.preventDefault(),b=this.$("input[name=questions-shuffling]").attr("checked"),b?this.model.set("shuffle_questions","True"):this.model.set("shuffle_questions","False"),this.model.save()},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestQuestionsShufflingView=c})}.call(this),function(){var a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};jQuery(function(){}),b=function(b){function d(){return c=d.__super__.constructor.apply(this,arguments),c}return f(d,b),d.prototype.initialize=function(a){var b;return b=this,this.action=a.action,this.listenTo(this.model,"change",this.render)},d.prototype.template="x/test-questions",d.prototype.className="test-questions-view",d.prototype.events=function(){return{"click .js-toggle-question-desc":"toggleQuestionDesc","click .js-createnew":"createNew","click .js-create-question":"createQuestion"}},d.prototype.render=function(){var b,c,d,e=this;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b)),this.makeButtonsResponsive(),setTimeout(function(){return e.$("#questions-sortable").sortable({revert:!0,handle:".draggable",stop:function(b,c){var d;d=e.$("#questions-sortable").sortable("toArray",{attribute:"data-qid"}),d=_.uniq(d);if(!a.util.compareArrays(d,e.model.get("questions_array"))&&_.difference(e.model.get("questions_array"),d).length===0)return e.model.set("questions_array",d,{silent:!0}),e.model.save(null,{success:function(){return e.model.fetch()}})}})},300),this.action==="new"&&this.$(".js-create-question").trigger("click"),this},d.prototype.toggleQuestionDesc=function(b){var c,d,e,f,g,h,i,j;b.preventDefault(),e=$(b.currentTarget).data("qid"),this.$("#q-"+e+"-desc").hasClass("hidden")?(this.$("#q-"+e+"-desc").removeClass("hidden"),$(b.currentTarget).find("i").removeClass("icon-down-open").addClass("icon-up-open")):(this.$("#q-"+e+"-desc").addClass("hidden"),$(b.currentTarget).find("i").removeClass("icon-up-open").addClass("icon-down-open")),c=this.$(".js-question-desc[data-qid="+e+"]");if(c.attr("data-rendered")==="0"){c.attr("data-rendered","1"),d=null,j=this.model.get("questions_data");for(h=0,i=j.length;h<i;h++){f=j[h];if(f.id===e){d=f;break}}if(!d){c.html("<em>Question info unavailable.</em>");return}g=new a.TestLibraryQuestionView({question:d,test:this.model,noexpand:!0,actions:!1}),c.html(g.render().el)}return this.makeButtonsResponsive()},d.prototype.createQuestion=function(b){var c;return b.preventDefault(),c=new a.CreateQuestionModalView({model:this.model}),this.$("#modal-container").html(c.render().el)},d.prototype.makeButtonsResponsive=function(){var a,b,c;b=$("#control-overflow")[0],c=$("#responsive-bottom-holder")[0],a=$("#responsive-bottom-holder").html();if(b)if(b.offsetHeight<b.scrollHeight||b.offsetWidth<b.scrollWidth){$(".overflow-content").addClass("support-reponsive-bottom-holder");if($("#responsive-bottom-holder").length>0)return $("#responsive-bottom-holder").addClass("hidden"),$("#responsive-bottom-placeholder").html(a),$("#responsive-bottom-placeholder").addClass("float-bottom")}else{$(".overflow-content").removeClass("support-reponsive-bottom-holder");if($("#responsive-bottom-holder").length>0)return $("#responsive-bottom-holder").removeClass("hidden"),$("#responsive-bottom-placeholder").html(""),$("#responsive-bottom-placeholder")
.removeClass("float-bottom")}},d}(window.HR.GenericView),a=(d=window.HR)!=null?d:{},a.TestQuestionsView=b}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},d=function(a,b){return function(){return a.apply(b,arguments)}};jQuery(function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return p=function(c){function d(){return q=d.__super__.constructor.apply(this,arguments),q}return b(d,c),d.prototype.template="x/test-report",d.prototype.className="test-report",d.prototype.initialize=function(b){return this._subviews=[],this.testmodel=b.testmodel,this.aid=b.aid,this.tid=b.tid,this.qid=b.qid,this.tab=b.tab,this.tq_split={},this.model=new a.TestAttemptModel({id:this.aid,tid:this.tid}),this.summary_view=new a.ReportSummaryView({model:this.model,testmodel:this.testmodel,tq_split:this.tq_split,parent:this}),this._subviews.push(this.summary_view),this.detailed_view=new a.ReportDetailedView({model:this.model,testmodel:this.testmodel,qid:this.qid,parent:this}),this._subviews.push(this.detailed_view),this.timeline_view=new a.ReportTimelineView({model:this.model,testmodel:this.testmodel,parent:this}),this._subviews.push(this.timeline_view),this.listenTo(this.model,"change",this.render),this.model.fetch()},d.prototype.events=function(){return{"click .js-report-tab":"changeTab","click .js-share":"shareReport"}},d.prototype.render=function(){var b;return this.timeline_view.buildGoogleDatatable(),this.model.get("questions")&&this.getQuestionTime(),b=a.appController.template(this.template,this)({test:this.testmodel.toJSON(),tab:this.tab,model:this.model.toJSON()}),$(this.el).html(b),this.renderTab(this.tab,this.qid),this},d.prototype.changeTab=function(a){var b,c,d;return a.preventDefault(),d=$(a.currentTarget).data("tab"),c=$(a.currentTarget).data("qid"),this.$(".sub-topbar-tabs li").removeClass("active"),this.$(".sub-topbar-tabs li a[data-tab="+d+"]").parent().addClass("active"),b="/x/tests/"+this.tid+"/candidates/"+this.aid+"/report/"+d,c&&(b+="/"+c),window.history.pushState(null,null,b),this.renderTab(d,c)},d.prototype.renderTab=function(a,b){var c=this;b==null&&(b=null);if(!this.model.get("test"))return;if(a==="summary")return this.$("#report-tab-content-container").html(this.summary_view.render().el);if(a==="detailed")return this.$("#report-tab-content-container").html(this.detailed_view.render(b).el);if(a==="timeline")return this.$("#report-tab-content-container").html(this.timeline_view.render().el);if(a==="pdf")return this.$("#report-tab-content-container").html(this.summary_view.render().el),this.$("#report-tab-content-container").append(this.detailed_view.render(b).el),this.$("#report-tab").css({overflow:"initial"}),setTimeout(function(){return $("body").attr("style","font-family:sans-serif !important;font-weight:normal;font-style:normal"),c.$(".text-ellipsis-span").removeClass("text-ellipsis-span"),c.$("p").attr("style","font-family:sans-serif !important;"),c.$("button").attr("style","font-family:sans-serif !important;")})},d.prototype.getQuestionTime=function(){var a,b,c,d,e,f,g,h,i,j,k,l;c=this.model.get("questions_time_split"),j=this.model.get("questions"),l=[];for(a=f=0,h=j.length;f<h;a=++f){d=j[a],this.tq_split[a+1]=null;if(this.timeline_view.qarray&&this.timeline_view.qarray[a+1]){e=0,k=this.timeline_view.qarray[a+1];for(g=0,i=k.length;g<i;g++)b=k[g],e+=b[1]-b[0];l.push(this.tq_split[a+1]=e)}else c?l.push(this.tq_split[a+1]=c[d.id]):l.push(void 0)}return l},d.prototype.shareReport=function(a){return a.preventDefault(),this.$(".js-reportlink").val(""+document.location.host+"/x/tests/"+this.testmodel.get("id")+"/candidates/"+this.model.get("id")+"/report?authkey="+this.testmodel.get("authkey")),this.$(".sharereport-modal").modal()},d}(window.HR.GenericView),n=function(c){function d(){return r=d.__super__.constructor.apply(this,arguments),r}return b(d,c),d.prototype.template="x/test-report-summary",d.prototype.className="test-report-summary",d.prototype.initialize=function(a){return this.testmodel=a.testmodel,this.parent=a.parent,this.tq_split=a.tq_split},d.prototype.events=function(){},d.prototype.render=function(){var b,c,d,e,f=this;return d=[],this.model.get("test")&&(_.each(this.model.get("candidate_details"),function(a,b){return d.push(a)}),this.model.get("ip_address")&&d.push({title:"IP ADDRESS",value:this.model.get("ip_address")}),this.model.get("inviter")&&d.push({title:"INVITED BY",value:this.model.get("inviter")}),this.model.get("feedback")&&d.push({title:"FEEDBACK",value:this.model.get("feedback")}),this.model.get("scores_tags_split")&&(c="",_.each(this.model.get("scores_tags_split"),function(a,b){return c+='<span class="label q-tags">'+b+"</span> "+a+"<br/>"}),d.push({title:"TAG SCORE",value:c}))),console.log("tq_split",this.tq_split),b=a.appController.template(this.template,this)({test:this.testmodel.toJSON(),tab:this.tab,model:this.model.toJSON(),hasDisconnect:!1,more_details:d,tq_split:this.tq_split}),$(this.el).html(b),this.model.get("test")&&(e=this.model.get("test").max_score,e<this.model.get("score")&&(e=this.model.get("score")),this.makeDonut(this.model.get("score"),e-this.model.get("score"))),this},d.prototype.makeDonut=function(a,b){var c,d;if(!this.model.get("test"))return;return c=google.visualization.arrayToDataTable([["A","B"],["Right",parseInt(a)],["Wrong",parseInt(b)]]),d={pieHole:.7,pieSliceText:"none",width:"260",height:"260",tooltip:{trigger:"none",showColorCode:!1},legend:{position:"none"},colors:["#4dd486","#f1f1f1"]},setTimeout(function(){return(new google.visualization.PieChart(this.$("#donut")[0])).draw(c,d)},200)},d}(window.HR.GenericView),l=function(c){function d(){return v=d.__super__.constructor.apply(this,arguments),v}return b(d,c),d.prototype.template="x/test-report-detailed",d.prototype.className="test-report-detailed",d.prototype.initialize=function(a){return this.testmodel=a.testmodel,this._subviews=[]},d.prototype.events=function(){},d.prototype.render=function(b){var c,d=this;return b==null&&(b=null),c=a.appController.template(this.template,this),$(this.el).html(c),this.renderQuestions(),setTimeout(function(){if(b)return d.scrollToQuestion(b)},200),this},d.prototype.renderQuestions=function(){var a,b=this;return a=$('<div id="report-questions-container"></div>'),_.each(this.model.get("questions"),function(c,d){var e;return e=new i({model:b.model,question:c,index:d+1}),a.append(e.render().el)}),this.$("#detailed-report").append(a)},d.prototype.scrollToQuestion=function(a){return $("#report-tab").animate({scrollTop:$("#report-q-"+a).position().top},2e3)},d}(window.HR.GenericView),i=function(c){function d(){return w=d.__super__.constructor.apply(this,arguments),w}return b(d,c),d.prototype.template="x/test-report-detailed-question",d.prototype.className="test-report-detailed-question",d.prototype.status={correct:{"class":"icon2-status_correct txt-green",text:"Correct Answer",color:"green"},wrong:{"class":"icon2-status_wrong txt-orange",text:"Wrong Answer",color:"red"},review:{"class":"icon2-generalsettings txt-yellow",text:"Needs Review",color:"Yellow"},unattempted:{"class":"icon2-status_no_ans txt-alt-grey",text:"Not attempted",color:"grey"},neutral:{"class":"icon2-status_no_ans txt-alt-grey",text:"Self Evaluation",color:"grey"}},d.prototype.initialize=function(a){var b;return b=[],this.question=a.question,this.index=a.index},d.prototype.events=function(){return{"click .js-btn-copy":"copyCode","keyup #add_new_comment":"addComment","click #scoreedit":"editScore","keypress .score-input":"setScoreOnEnter","focusout .score-input":"setScoreOnFocus"}},d.prototype.copyCode=function(a){return a.preventDefault()},d.prototype.addComment=function(b){var c,d,e,f,g=this;return b.which===13||b.keyCode===13?(b.preventDefault(),e=this,c=this.$("#add_new_comment").val(),c?(d={comment:c,qid:this.question.id},f="/xrest/tests/"+this.model.get("tid")+"/attempts/"+this.model.get("id")+"/report_comment",$.post(f,d,function(b){var c;if(b.status===!0)return c='<div class="msT msB">                        <p>'+b.model.comment+'</p>                        <p class="txt-alt-grey">- '+b.model.name+" ("+a.util.formatDateTime(b.model.inserttime)+")</p>                    </div>",g.$(".comments_container").append(c),g.$("#add_new_comment").val("")})):alert("Type a comment, and press return.")):!0},d.prototype.setScoreOnEnter=function(a){if(a.keyCode===13)return this.setScore()},d.prototype.setScoreOnFocus=function(a){return this.setScore()},d.prototype.editScore=function(a){return this.$("#scoreedit").addClass("hidden"),this.$(".score-input").css("display","inline"),this.$(".score-input").val(this.question.score),this.$(".score-input").focus()},d.prototype.cancelEditScore=function(a){return this.$("#scoreedit").removeClass("hidden"),this.$(".score-input").css("display","none")},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON(),question:this.question,index:this.index,time:0,status:this.status[this.question.status]?this.status[this.question.status]:this.status.neutral}),$(this.el).html(b),this.displayAnswer(),this},d.prototype.displayAnswer=function(){var a;switch(this.question.type){case"mcq":case"multiple_mcq":return a=new h({question:this.question}),this.$("#question_answer").html(a.render().el);case"textAns":case"unscramble":case"file_upload":return a=new k({question:this.question}),this.$("#question_answer").html(a.render().el);case"rewrite":case"complete":return a=new j({question:this.question}),this.$("#question_answer").html(a.render().el);case"correct_errors":return a=new f({question:this.question}),this.$("#question_answer").html(a.render().el);case"uml":case"electrical":return a=new g({question:this.question}),this.$("#question_answer").html(a.render().el);case"code":case"approx":return a=new e({question:this.question}),this.$("#question_answer").html(a.render().el)}},d}(window.HR.GenericView),h=function(d){function e(){return x=e.__super__.constructor.apply(this,arguments),x}return b(e,d),e.prototype.template="x/test-report-detailed-mcq",e.prototype.className="test-report-detailed-mcq",e.prototype.initialize=function(a){return this.question=a.question},e.prototype.render=function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p;this.question.type==="mcq"?(h=[this.question.my_answer],d=[this.question.answer]):(h=this.question.my_answer,d=this.question.answer),b=a.appController.template(this.template,this)({question:this.question,my_ans:h,exp_ans:d}),$(this.el).html(b),i=1;if(this.question.answered){e="",n=this.question.options;for(l=0,m=n.length;l<m;l++)j=n[l],k=(o=i.toString(),c.call(h,o)>=0)||c.call(h,i)>=0,g=(p=i.toString(),c.call(d,p)>=0)||c.call(d,i)>=0,g&&k?f="cy":g&&!k?f="cn":!g&&k?f="ny":f="nn",e+="<li><img class='mcq-opt-img' src = '/assets/mcq_options/img_mcq_"+f+".png' /><span class='mcq-opt'>"+j+"</span><div class='clear' /></li>",i++;this.$(".mcq-reports-answer").html(e)}return this},e}(window.HR.GenericView),g=function(c){function d(){return y=d.__super__.constructor.apply(this,arguments),y}return b(d,c),d.prototype.template="x/test-report-detailed-draw",d.prototype.className="test-report-detailed-draw",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({question:this.question}),$(this.el).html(b),this},d}(window.HR.GenericView),f=function(c){function d(){return z=d.__super__.constructor.apply(this,arguments),z}return b(d,c),d.prototype.template="x/test-report-detailed-correct-errors",d.prototype.className="test-report-detailed-correct-errors",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({question:this.question}),$(this.el).html(b),this},d}(window.HR.GenericView),j=function(c){function d(){return A=d.__super__.constructor.apply(this,arguments),A}return b(d,c),d.prototype.template="x/test-report-detailed-rewrite-complete",d.prototype.className="test-report-detailed-rewrite-complete",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({question:this.question}),$(this.el).html(b),this},d}(window.HR.GenericView),k=function(c){function d(){return B=d.__super__.constructor.apply(this,arguments),B}return b(d,c),d.prototype.template="x/test-report-detailed-subjective",d.prototype.className="test-report-detailed-subjective",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({question:this.question}),$(this.el).html(b),this},d}(window.HR.GenericView),e=function(c){function d(){return C=d.__super__.constructor.apply(this,arguments),C}return b(d,c),d.prototype.template="x/test-report-detailed-coding",d.prototype.className="test-report-detailed-code",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.events=function(){return{"click .code-player":"togglePlayer","slide .slider":"playcode","click #toggle_output":"toggleOutput"}},d.prototype.render=function(){var b,c;return b=a.appController.template(this.template,this)({question:this.question}),$(this.el).html(b),this.question.submissions&&this.viewCode(this.question.submissions,this.question.my_lang,this.question.submissions.length-1),this.$(".slider").slider({min:1,max:this.question.submissions.length,value:this.question.submissions.length}),c=this,setTimeout(function(){var a,b,d;a=".js-btn-copy-"+c.question.id,d=$(a);if(c.question.submissions&&c.question.submissions.length>0){d.attr("data-clipboard-text",c.question.submissions[c.question.submissions.length-1].answer);if(d.length)return b=new ZeroClipboard(d,{container:$("div.right_cont div.rt_content_wrap").get(0)}),b.setTitle("Copy this code")}},200),this},d.prototype.togglePlayer=function(a){var b=this;return a.preventDefault(),this.$("#code-player").width()!==430?(this.$(".code_play_slide_wrap").hide(),this.$("#code-player").animate({width:"430px"}).parent().css("z-index",100),this.$(".playcode_txt").html(this.codeTime),setTimeout(function(){return b.$(".code_play_slide_wrap").fadeIn()},300)):(this.$(".code_play_slide_wrap").hide(),this.$(".playcode_txt").html("PLAY CODE"),this.$("#code-player").animate({width:"140px"}).parent().css("z-index",1))},d.prototype.toggleOutput=function(a){var b;return a.preventDefault(),b=this.$(".code-output"),b.hasClass("hidden")?(b.removeClass("hidden"),this.$(a.currentTarget).html("[-] Click here to hide the output")):(b.addClass("hidden"),this.$(a.currentTarget).html("[+] Click here to see the output"))},d.prototype.playcode=function(a,b){var c,d;return c=this.question.submissions[parseInt(b.value,10)-1].answer,this.$(".outbox").html(_.escape(c)),this.$(".langused").html(this.question.submissions[parseInt(b.value,10)-1].lang.toUpperCase()),this.viewCode(this.question.submissions,this.question.my_lang,parseInt(b.value,10)-1),this.$("#code-player").width()===430&&this.$(".playcode_txt").html(this.codeTime),d=".js-btn-copy-"+this.question.id,a=$(d),a.attr("data-clipboard-text",c)},d.prototype.viewCode=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;h={c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp",haskell:"text/x-haskell",php:"text/x-php",python:"text/x-python",perl:"text/x-perl",ruby:"text/x-ruby",bash:"text/x-bash",oracle:"text/x-plsql",mysql:"text/x-plsql",sql:"text/x-plsql",clojure:"text/x-scheme",scala:"text/plain",code:"text/plain",go:"text/x-go",javascript:"text/javascript",objectivec:"text/x-csrc"};if(a){n=this,l=a[c],g=c;if(!l)return;return this.codeTime="At "+l.timespan,i=h[l.lang||b],k=this.$("pre.outbox"),k.empty(),$(k).append('<table><tr><td class="line-no" width="5%"></td><td class="code"></td></tr></table>'),e=$("<div></div>"),f=$("<div>1</div>"),$(k).find(".code").append(e),$(k).find(".line-no").append(f),d=0,m=CodeMirror.defaults.tabSize||4,j=2,CodeMirror.runMode(l.answer,i,function(a,b){var g,h,i,l,n;if(a==="\n"){f.height(e.height()),e=$("<div></div>"),f=$("<div>"+j+"</div>"),j++,$(k).find(".code").append(e),$(k).find(".line-no").append(f),d=0;return}g="",i=0;for(;;){h=a.indexOf("\t",i);if(h===-1){g+=a.slice(i),d+=a.length-i;break}d+=h-i,g+=a.slice(i,h),l=m-d%m,d+=l,c=0;while(c<l)g+=" ",++c;i=h+1}return b?(n=$("<span></span>"),n.addClass("cm-"+b.replace(RegExp(" +","g")," cm-")),n.append(document.createTextNode(g)),e.append(n)):e.append(document.createTextNode(g))})}},d}(window.HR.GenericView),o=function(c){function e(){return this.checkForIframeError=d(this.checkForIframeError,this),this.setIframeData=d(this.setIframeData,this),s=e.__super__.constructor.apply(this,arguments),s}return b(e,c),e.prototype.template="x/test-report-timeline",e.prototype.className="test-report-timeline",e.prototype.initialize=function(a){this.model=a.model,this.testmodel=a.testmodel,this.timeline=this.model.get("timeline")?this.model.get("timeline"):[],this.qarray={},this.lastqno=null,this.hasDisconnect=!1,this.offlineTime=0,this.dt=null;if(this.timeline.length>1)return this.buildGoogleDatatable()},e.prototype.getTimeline=function(){this.timeline=this.model.get("timeline")?this.model.get("timeline"):[];if(this.timeline.length>1)return this.buildGoogleDatatable()},e.prototype.render=function(){var b,c;return this.getTimeline(),c=this.timeline.length,b=a.appController.template(this.template,this)({test:this.testmodel.toJSON(),timeline:this.timeline,tab:this.tab,starttime:this.model.get("starttime"),total_time_taken:this.model.get("total_time_taken"),tllen:c,hasDisconnect:this.hasDisconnect,offlineTime:a.util.prettyPrintSeconds(this.offlineTime),model:this.model.toJSON()}),$(this.el).html(b),c>1&&setTimeout(this.setIframeData,500),this},e.prototype.setIframeData=function(){if(this.$("#tl-frame").length===0||!this.$("#tl-frame")[0].contentWindow||this.$("#tl-frame")[0].contentWindow.s!=="notset")return setTimeout(this.setIframeData,500);this.$("#tl-frame").height(this.height+30),this.$("#tl-frame")[0].contentWindow.opts=this.dtopts,this.$("#tl-frame")[0].contentWindow.s=this.dt,setTimeout(this.checkForIframeError,1e3),this.$("ul.tnc").removeClass("hide");if(this.hasDisconnect)return this.$("li.new-tl").removeClass("hide");if(!this.trackingListing)return this.$("li.old-tl").removeClass("hide")},e.prototype.checkForIframeError=function(){if(this.$("#tl-frame")[0].contentWindow.errcount===2)return this.$("#tl-frame").css("min-width",""),this.$("#tl-frame")[0].contentWindow.drawChart()},e.prototype.buildGoogleDatatable=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(this.dt!==null||this.timeline.length===0)return;l={LOGIN:"1",VIEW_LIST:"2",QUES_VIEW:"3",QUES_SUBMIT:"4",QUES_COMPILE:"5",PING:"6"},this.timetaken={},b="Question list",a="Offline",c="No ping",d=70,this.timeline.length>2&&(this.timeline[0].id===l.VIEW_LIST||this.timeline[1].id===l.VIEW_LIST)?u=!0:u=!1,j=this.timeline.length,F=this.timeline;for(m=v=0,z=F.length;v<z;m=++v)i=F[m],m===j-1?p=0:p=this.timeline[m+1].inserttime-i.inserttime,i.id===l.VIEW_LIST||i.id===l.LOGIN?this.streamevent(b,i.inserttime):i.qno&&this.streamevent(i.qno,i.inserttime),p!==null&&p>d&&u&&this.streamevent(a,i.inserttime+10);this.streamevent("finish",i.inserttime+10),g=new google.visualization.DataTable,g.addColumn({type:"string",id:"Question"}),g.addColumn({type:"string",id:"Name"}),g.addColumn({type:"date",id:"Start"}),g.addColumn({type:"date",id:"End"}),u?h="No ping received in this time (maybe due to network disconnection).":h="No other events tracked in this timeslot.",f=_.keys(this.qarray).length+1,t=[],k=[];if(_.has(this.qarray,a)){G=this.qarray[a];for(w=0,A=G.length;w<A;w++)n=G[w],k.push(["Offline",h,new Date(n[0]*1e3),new Date(n[1]*1e3)]),this.offlineTime+=n[1]-n[0];delete this.qarray[a]}if(_.has(this.qarray,b)){H=this.qarray[b];for(x=0,B=H.length;x<B;x++)n=H[x],t.push(["Main listing","Viewed question listing",new Date(n[0]*1e3),new Date(n[1]*1e3)]);delete this.qarray[b]}s=_.keys(this.qarray).sort(function(a,b){return a-b});for(y=0,C=s.length;y<C;y++){r=s[y],I=this.qarray[r];for(E=0,D=I.length;E<D;E++)n=I[E],t.push(["Question "+r,"q."+r,new Date(n[0]*1e3),new Date(n[1]*1e3)])}return g.addRows(t),u?g.addRows(k):f-=1,q={width:700},this.height=(f+1)*45,!u||k.length===0?(q.timeline={singleColor:"#4dd486"},this.hasDisconnect=!1):(o=t.length,e=function(){var a,b;b=[];for(m=a=1;1<=o?a<=o:a>=o;m=1<=o?++a:--a)b.push("#4dd486");return b}(),o=k.length,e=e.concat(function(){var a,b;b=[];for(m=a=1;1<=o?a<=o:a>=o;m=1<=o?++a:--a)b.push("#f00");return b}()),q.colors=e,this.hasDisconnect=!0),this.dt=g.toJSON(),this.dtopts=q,this.trackingListing=u},e.prototype.streamevent=function(a,b){var c;return this.lastqno===null?(_.has(this.qarray,a)||(this.qarray[a]=[]),this.qarray[a].push([b,null])):a==="finish"?(c=this.qarray[this.lastqno].length-1,this.qarray[this.lastqno][c][1]=b):this.lastqno===a?(c=this.qarray[a].length-1,this.qarray[a][c][1]=b):(c=this.qarray[this.lastqno].length-1,this.qarray[this.lastqno][c][1]=b,_.has(this.qarray,a)||(this.qarray[a]=[]),this.qarray[a].push([b,null])),this.lastqno=a},e}(window.HR.GenericView),m=function(a){function c(){return t=c.__super__.constructor.apply(this,arguments),t}return b(c,a),c.prototype.template="x/test-report-plagiarism",c.prototype.className="cnt-review-plagiarism",c.prototype.initialize=function(a){return _.bindAll(this,"render"),this.plagiarism=a.plagiarism,this.current=a.current,this.compare=a.compare,this.question=a.question,this.subviews=[]},c.prototype.saveButtonAction=function(a){return this.remove(),{status:!0}},c.prototype.render=function(){var a,b,c,d,e,f;return b=null,f=this,_.map(this.plagiarism.plagiarism.questions[this.question.id],function(a,c){if(c===f.current)return _.map(a.occurances,function(a,c){if(f.compare===c)return f.similarity=a.analysis.text.similarity,b=a.email})}),$(this.el).html(app.appController.template(this.template,this)({plagiarism:this.plagiarism,current:this.current,compare:this.compare,similarity:this.similarity})),c=difflib.stringAsLines(this.plagiarism.solves[this.current].answer),d=difflib.stringAsLines(this.plagiarism.solves[this.compare].answer),e=new difflib.SequenceMatcher(c,d),a=e.get_opcodes(),this.$el.find(".plagiarism-diff").append(diffview.buildView({baseTextLines:c,newTextLines:d,opcodes:a,baseTextName:"Current Solution",newTextName:"Solution by "+b,viewType:0})),this},c}(window.HR.GenericView),a=(u=window.HR)!=null?u:{},a.TestReportView=p,a.ReportSummaryView=n,a.ReportDetailedView=l,a.ReportTimelineView=o,a.ReportPlagiarismView=m})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g;return d=function(d){function f(){return e=f.__super__.constructor.apply(this,arguments),e}return b(f,d),f.prototype.template="x/test-reports",f.prototype.className="test-reports",f.prototype.events=function(){return{"click .js-ats":"atsFilter","keypress .js-search":"filterSummary","click .js-dateclear":"clearDate"}},f.prototype.initialize=function(a){return this._subviews=[],this.testmodel=a.testmodel,this.type=a.type,this.subtype=a.subtype},f.prototype.render=function(){var b,c,d=this;return c=this,b=a.appController.template(this.template,this)({test:this.testmodel.toJSON(),throbber:a.appController.viewLoader(),hideDropdown:this.type==="in-progress"||this.type==="invited"}),$(this.el).html(b),this.$(".js-daterange").daterangepicker({latestDate:"today",separator:" to ",format:"YYYY-MM-DD",ranges:{"Last week":[moment().add("days",-7),moment().format()],"Last 2 weeks":[moment().add("days",-14),moment().format()],"Last 30 days":[moment().add("days",-30),moment().format()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")],"Past year":[moment().add("days",-365),moment().format()]}},function(a,b){return d.$(".js-dateclear").removeClass("hide"),d.datatable_view.daterange=[a.format("YYYY-MM-DD"),b.format("YYYY-MM-DD")],d.datatable_view.makeDT()}),this.renderDataTable(),this.updateTitle(),this},f.prototype.renderDataTable=function(){return this.datatable_view=new c({testmodel:this.testmodel,type:this.type,subtype:this.subtype,parent:this}),this.$("#datatable_container").html(this.datatable_view.render().el)},f.prototype.clearDate=function(a){return a.preventDefault(),this.$(".js-daterange").val(""),this.$(a.currentTarget).addClass("hide"),this.datatable_view.daterange=null,this.datatable_view.makeDT()},f.prototype.atsFilter=function(b){var c;return b.preventDefault(),c=this.$(b.currentTarget),this.subtype=c.attr("data-attribute-ats"),this.datatable_view.ats=this.subtype,window.history.pushState(null,null,"/x/tests/"+this.testmodel.get("id")+"/candidates/completed/"+this.subtype),this.datatable_view.makeDT(),a.appView.setSidebarView("test",this.testmodel,"completed"+this.subtype),this.updateTitle()},f.prototype.filterSummary=function(a){if(a.keyCode===13)return this.datatable_view.search=this.$(a.currentTarget).val(),this.datatable_view.makeDT()},f.prototype.updateTitle=function(){var a;this.type==="completed"?(console.log(this.subtype),this.subtype!==""&&this.$(".js-dropdowntxt").html(window.istreet.cfg.ats[this.subtype]),a="Completed"):this.type==="in-progress"?a="In progress":a=null;if(a)return this.$(".js-subtype").html("("+a+")")},f}(window.HR.GenericView),c=function(c){function d(){return f=d.__super__.constructor.apply(this,arguments),f}return b(d,c),d.prototype.template="x/test-reports-datatable",d.prototype.className="test-reports-datatable",d.prototype.events=function(){return{"click .js-addtime":"addTime"}},d.prototype.addTime=function(a){var b,c,d,e=this;a.preventDefault(),c=this.$(a.currentTarget),b=c.attr("aid"),d=this.$("input[aid="+b+"]").val();if(isNaN(d)){alert("Invalid time. Enter number of minutes to add."),this.$("input[aid="+b+"]").val("");return}return d=parseInt(d),$.ajax({type:"put",url:"/xrest/tests/"+this.testmodel.get("id")+"/attempts/"+b,data:{action_type:"addtime",time:d},success:function(a){return console.log("success in teh call!",a),e.makeDT()},error:function(a){return console.log("There was an issue trying to add time.")}})},d.prototype.initialize=function(a){this.testmodel=a.testmodel,this.parent=a.parent,this.type=a.type,this.subtype=a.subtype,this.search="",this.daterange=null,this.state=-1,this.ats=-1;switch(this.type){case"all":return this.state=-1;case"invited":return this.state=0;case"in-progress":return this.state=1;case"completed":this.state=2;if(this.subtype!=="")return this.ats=this.subtype}},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({invite_mode:this.type==="invited"}),$(this.el).html(b),setTimeout(this.makeDT(),100),this},d.prototype.makeDT=function(){var b,c,d,e,f,g,h,i,j,k,l=this;return g=this,this.columns=["index","full_name","email","score","endtime","rating","time_left","link"],c=this.$("#reports-datatable").find("th").length,this.search!==""?f="&q="+this.search:f="",this.daterange?d="&date_start="+this.daterange[0]+"&date_end="+this.daterange[1]:d="",this.type==="invited"?(e=_.difference(function(){j=[];for(var a=0;0<=c?a<c:a>c;0<=c?a++:a--)j.push(a);return j}.apply(this),[2,4]),b=[[4,"desc"]]):(e=_.difference(function(){k=[];for(var a=0;0<=c?a<c:a>c;0<=c?a++:a--)k.push(a);return k}.apply(this),[2,3,4]),b=[[3,"desc"]]),setTimeout(function(){return a.dt=l.$("#reports-datatable").dataTable({sDom:"<'row-fluid'<'span6'T><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",iDisplayStart:0,iDisplayLength:25,bProcessing:!1,bFilter:!1,bServerSide:!0,bDestroy:!0,bAutoWidth:!1,aaSorting:b,aoColumnDefs:[{sClass:"table-leftalign",aTargets:[1,2,3,4,5]},{bSortable:!1,aTargets:e}],sAjaxSource:"/xrest/tests/"+l.testmodel.get("id")+"/attempts?state="+l.state+"&ats="+l.ats+f+d,fnServerData:function(a,b,c){return $.getJSON(a,b,function(a){return console.log(a),_.isFunction(g.afterRequest)&&(a=g.afterRequest(a)),g.data=a,c(a),$(".tip").tooltip()})}})})},d.prototype.afterRequest=function(a,b){var c,d=this;return c={aaData:[],iTotalDisplayRecords:0,iTotalRecords:0,models:[]},_.isObject(a)&&_.isArray(a.models)&&(c.iTotalDisplayRecords=a.total,c.iTotalRecords=a.total,c.aaData=_.map(a.models,function(a,b){return d.mapColumns(a,b)})),c},d.prototype.mapColumns=function(a,b){var c,d=this;return c=[],_.each(this.columns,function(e){var f,g;if(e==="index"){c.push("<input id='candidate_"+b+"' name='candidate_"+b+"' type='checkbox' class='candidate_checkbox hr-sleek-input'> <label for='candidate_"+b+"'><span></span></label>");return}if(d.type==="invited"){e==="email"?c.push(a.email):e==="link"?c.push("<a class='btn btn-mini btn-line js-cancelinvite' data-email='"+a.email+"'>Cancel</a>"):c.push("");return}return e==="link"?c.push("<a style='min-width:130px;' class='js-backbone btn btn-line' href=\"/x/tests/"+d.testmodel.get("id")+"/candidates/"+a.id+'/report">View report</a>'):e==="time_left"?(f=a.id,a[e]===0?g="-":g=Math.ceil(a[e]/60)+"m",a.added_time_buffer&&a.added_time_buffer!=="0"&&(g+="<span class='grey'> + "+a.added_time_buffer+"m</span>"),c.push("<div class='input-btn-group' style='min-width:130px;'>"+g+" <input placeholder='(min)' class='span1 no-margin' type='text' aid='"+f+"' name='add_"+f+"''><a style=\n'position:relative; top:1px;' class='btn js-addtime' aid='"+f+"'>Add</a></div>")):a[e]?c.push(a[e]):c.push("-")}),c},d}(window.HR.GenericView),a=(g=window.HR)!=null?g:{},a.TestReportsView=d})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this,this.testmodel=a.testmodel,this.listenTo(this.model,"change",this.render),this},e.prototype.template="x/test-share",e.prototype.className="test-share",e.prototype.permissionMappings={owner:"Owner",ALLOW_ALL:"Has full access",ALLOW_INVITE_CANDIDATES:"Can send invites only",ALLOW_ADD_QUESTIONS:"Can edit tests only"},e.prototype.events=function(){return{"submit form[name=share-with-team-form]":"shareWithTeam","submit form[name=share-with-user-form]":"shareWithUser","click .js-remove-team":"removeTeam","click .js-remove-user":"removeUser"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,testmodel:this.testmodel.toJSON(),throbber:a.appController.viewLoader(),permissionMappings:this.permissionMappings}),$(this.el).html(b)),this},e.prototype.shareWithUser=function(a){var b,c,d=this;a.preventDefault(),c=this.$("input[name=share-permissions]:checked").val();if(!c)return;b=this.$("input[name=user-email]").removeClass("error").val();if(!b){this.$("input[name=user-email]").addClass("error");return}return $.post("/xrest/tests/"+this.testmodel.get("id")+"/share",{type:"user",email:b,permissions:c},function(a){if(a.status===!0)return d.model.fetch()})},e.prototype.shareWithTeam=function(a){var b,c=this;return a.preventDefault(),b=this.$("select[name=team]").val(),$.post("/xrest/tests/"+this.testmodel.get("id")+"/share",{type:"team",team_id:b},function(a){if(a.status===!0)return c.model.fetch()})},e.prototype.removeUser=function(a){var b,c=this;return a.preventDefault(),b=this.$(a.currentTarget).data("id"),$.ajax({url:"/xrest/tests/"+this.testmodel.get("id")+"/share",type:"DELETE",data:{type:"user",user_id:b},error:function(a){},success:function(a){return c.model.fetch()}})},e.prototype.removeTeam=function(a){var b,c=this;return a.preventDefault(),b=this.$(a.currentTarget).data("id"),$.ajax({url:"/xrest/tests/"+this.testmodel.get("id")+"/share",type:"DELETE",data:{type:"team",team_id:b},error:function(a){},success:function(a){return c.model.fetch()}})},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestShareView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.
__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){var b;return b=this},e.prototype.template="x/test-time-settings",e.prototype.className="test-time-settings",e.prototype.events=function(){return{"submit form[name=time-settings-form]":"saveTest"}},e.prototype.render=function(){var b,c,d;return c=this,d=this.model.toJSON(),d&&(b=a.appController.template(this.template,this)({model:d,throbber:a.appController.viewLoader()}),$(this.el).html(b),$(".datepair").datepair()),this},e.prototype.saveTest=function(a){var b,c,d,e,f,g;return console.log(1),a.preventDefault(),f=$(".date.start").val(),g=$.trim($(".time.start").val())+":"+"00",c=$(".date.end").val(),d=$.trim($(".time.end").val())+":"+"00",e=f+" "+g,b=c+" "+d,console.log(e),console.log(e),this.model.set("starttime",e),this.model.set("endtime",b),console.log(this.model),this.model.save()},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TestTimeSettingsView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,f;return c=function(c){function f(){return d=f.__super__.constructor.apply(this,arguments),d}return b(f,c),f.prototype.template="x/test-tryquestion",f.prototype.className="test-tryquestion",f.prototype.events={"click .js-ans-submit":"submitAnswer"},f.prototype.initialize=function(b){return this.test=b.test,this.qid=b.qid,a.candidate={}},f.prototype.render=function(){var b,c=this;return b=a.appController.template(this.template,this)({test:this.test.attributes}),$(this.el).html(b),this.question=new a.QuestionModel({id:this.qid,tid:this.test.get("id")}),this.question.fetch({success:function(a){return c.question=a.attributes,c.loadSubView()},error:function(a){return c.$(".js-questiontext").html("Unable to get question.")}}),this},f.prototype.loadSubView=function(){var b;this.$(".js-questiontext").html(this.question.question),b=!0;switch(this.question.type){case"code":case"approx":this.view=new a.RecruitCandidateCodingView({question:this.question});break;case"mcq":case"multiple_mcq":this.view=new a.RecruitCandidateMcqView({question:this.question});break;case"textAns":this.view=new a.RecruitCandidateSubjectiveView({question:this.question});break;default:b=!1}return b?this.$(".js-tryview").html(this.view.render().el):(this.$(".js-tryview").html("<center>This question type is not available to try at this time.</center>"),this.$(".js-ans-submit").hide())},f.prototype.submitAnswer=function(a){var b,c,d;a.preventDefault();if(this.question.type==="mcq")return this.view.answer()!==this.question.answer?this.$(".js-trymsg").html("Incorrect. The correct answer is option "+this.question.answer):this.$(".js-trymsg").html("Correct answer."),this.$(".js-tryalert").removeClass("hide");if(this.question.type==="multiple_mcq")return b=_.map(this.view.answer(),function(a){return parseInt(a)}),_.difference(b,this.question.answer).length===0?this.$(".js-trymsg").html("Correct answer."):(c=this.question.answer.join(", "),this.$(".js-trymsg").html("Incorrect. The correct options :["+c+"]")),this.$(".js-tryalert").removeClass("hide");if(this.question.type==="textAns")return this.$(".js-trymsg").html("This answer is subjective, and evaluated later."),this.$(".js-tryalert").removeClass("hide");if((d=this.question.type)==="code"||d==="approx")return this.submitCodeAnswer(this.view.answer())},f.prototype.submitCodeAnswer=function(b){var c=this;this.$(".js-tryalert").addClass("hide");if(!b.code){this.$(".js-trymsg").html("Please enter an answer."),this.$(".js-tryalert").removeClass("hide");return}if(this.$(".bb-compile").hasClass("disabled"))return;return this.$(".bb-compile").addClass("disabled"),a.candidate.ctmodel=new a.RecruitCompileTestModel,a.candidate.ctmodel.setTid(this.test.get("id")),a.candidate.ctmodel.setQid(this.question.id),a.candidate.ctview=new a.RecruitCandidateCompileTestView,this.$("#runstatus").html(a.candidate.ctview.render().el),a.util.scrollToBottom(1e3),a.candidate.ctmodel.save(b,{success:function(d){return a.candidate.ctview.setStatus("Uploaded. Waiting for results.."),a.candidate.ctloop=setTimeout(function(){return c.checkForResult(c,b)},2e3)},error:function(){return a.candidate.ctmodel=null,a.candidate.ctview.setStatus("There was an issue with compiling this code."),c.$(".bb-compile").removeClass("disabled")}})},f.prototype.checkForResult=function(b,c){var d=this;if(!a.candidate.ctloop)return;return a.candidate.ctview.setStatus("Processing.."),a.candidate.ctmodel.fetch({success:function(f){var g,h,i,j,k,l,m,n,o,p;if(f.get("status")===0){a.candidate.ctloop=setTimeout(function(){return b.checkForResult(b,c)},2e3);return}if(f.get("status")!==0){$(".bb-compile").removeClass("disabled"),clearTimeout(a.candidate.ctloop),a.candidate.ctloop=null;if(f.get("result")>0)return a.candidate.ctview.setStatus("Error.","red"),a.candidate.ctview.setCompileStatus("Compilation failed.",f.get("compilemessage"));l=0,p=f.get("testcase_status");for(h=n=0,o=p.length;n<o;h=++n)i=p[h],k=f.get("stdout")[h],g=f.get("expected_output")[h],j=f.get("testcase_message")[h],f.get("testcase_status")[h]===1?(m="green",l++):m="red",a.candidate.ctview.addTestCase(h+1,i,k,g,j,m);if(l===0)return a.candidate.ctview.setStatus("No test cases passed.","red");if(l<h)return a.candidate.ctview.setStatus("Compiled successfully. "+l+"/"+h+" sample test cases passed.","orange");a.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green");if(e!=="runalltestcases")return d.$(".bb-runall").show(),b.compileAnswer("runalltestcases",c)}},error:function(b){return $(".bb-compile").removeClass("disabled"),clearTimeout(a.candidate.ctloop),a.candidate.ctview.setStatus("Unable to fetch compile information from server."),a.candidate.ctmodel=null,a.candidate.ctview=null}})},f}(window.HR.GenericView),a=(f=window.HR)!=null?f:{},a.TestTryQuestionView=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g;return d=function(d){function f(){return e=f.__super__.constructor.apply(this,arguments),e}return b(f,d),f.prototype.initialize=function(a){var b;return b=this,this._subviews=[],this.listenTo(this.collection,"change",this.render)},f.prototype.template="x/tests",f.prototype.className="tests-list-view",f.prototype.render=function(){var b,c;return c=this.collection.toJSON(),c&&(b=a.appController.template(this.template,this)({collection:c,throbber:a.appController.viewLoader(),pagination:a.util.pagination($("<div></div>"),this.collection.getTotal(),"x/tests/page/",this.collection.getPage(),null,10,5,"js-backbone",!0)}),$(this.el).html(b)),this.renderTests(),this},f.prototype.renderTests=function(){var a=this;if(this.collection.models.length>0)return _.each(this.collection.models,function(b){var d;return d=new c({model:b}),a._subviews.push(d),a.$("#tests-container").append(d.render().el)})},f}(window.HR.GenericView),c=function(c){function d(){return f=d.__super__.constructor.apply(this,arguments),f}return b(d,c),d.prototype.template="x/tests-list-item",d.prototype.className="tests-list-item",d.prototype.tagName="li",d.prototype.events=function(){return{"click .js-toggle-star":"toggleStar"}},d.prototype.render=function(){var b;return b=a.appController.template(this.template,this)({model:this.model.toJSON()}),$(this.el).html(b),this.model.get("starred")&&$(this.el).addClass("starred"),this},d.prototype.toggleStar=function(a){return a.preventDefault()},d}(window.HR.GenericView),a=(g=window.HR)!=null?g:{},a.TestsView=d})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="x/top-nav-bar",e.prototype.class_name="hr-nav",e.prototype.activeSection="",e.prototype.initialize=function(a){return this.model=a.model,this.listenTo(this.model,"change",this.render)},e.prototype.events=function(){return{"click a.js-nav-link":"navigateAnchor","keydown input#candidate-search-box-gl":"goToCandidateSearch"}},e.prototype.render=function(){var b;return this.activeSection=this.getActiveSection(),b=a.appController.template(this.template,this)({model:this.model.toJSON(),term:this.term,activeSection:this.activeSection}),$(this.el).html(b),this},e.prototype.setTerm=function(a){return this.term=a,this.render()},e.prototype.navigateAnchor=function(b){var c;if(b.ctrlKey||b.metaKey)return!0;b.preventDefault(),c=$(b.currentTarget).attr("href");if(c&&c!=="#")return a.router.navigate(c,!0),this.render()},e.prototype.getActiveSection=function(){if(Backbone.history.fragment)return Backbone.history.fragment.split("/")[1]},e.prototype.goToCandidateSearch=function(b){var c;c=$(b.currentTarget).val();if(b.keyCode!==13||!c)return;return a.router.navigate("/x/search/"+c,!0)},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.TopNavigationBarView=c})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};jQuery(function(){var b,d;return b=function(b){function e(){return this.passwordConfirmed=a(this.passwordConfirmed,this),d=e.__super__.constructor.apply(this,arguments),d}return c(e,b),e.prototype.template="x/user-payment-checkout",e.prototype.initialize=function(a){return this.user_data=a.user_data,e.__super__.initialize.call(this,a)},e.prototype.events=function(){return{"submit form[name=checkout-form]":"pay","click .dev-edit-card-details":"gotoCardDetails","click .back":"goBack"}},e.prototype.render=function(){var a,b;return this.checkout=this.model.toJSON(),this.checkout.charge?(b=this.checkout.charge,this.checkout.prorated_deduction&&(b-=this.checkout.prorated_deduction),this.checkout.credit&&(b-=credit)):b=518,a=HR.appController.template(this.template,this)({model:this.checkout,user_data:this.user_data,total:b}),$(this.el).html(a),this},e.prototype.pay=function(a){var b;return a.preventDefault(),b=$("input[name=password]").val(),this.passwordConfirm(b,this.passwordConfirmed)},e.prototype.passwordConfirmed=function(a){var b;if(a==="error"){b={message:"The password entered is incorrect",timer:null},alert(b.message);return}return this.makePayment()},e.prototype.makePayment=function(){var a,b,c=this;return a={plan:"user",user_data:this.user_data},this.model.get("credit_card_number")||(alert("Please enter card details first"),Backbone.history.navigate("payment/card_details",!0)),b=new app.Payment({plan:this.plan}),b.save(a,{silent:!0,suppressMessage:!0,override:!0,success:function(a,b){return HR.UserSettings.set("checkout",void 0,{silent:!0}),Backbone.history.navigate("/x/settings/teams",!0)},error:function(a,b,d){var e;return e=$.parseJSON(b.responseText),c.$("button[type=submit]").attr("disabled",!1).removeClass("disabled")}})},e}(window.HR.PaymentCheckoutView)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.fetch=function(a){return a==null&&(a={}),this.trigger("initreset"),c.__super__.fetch.call(this,a)},c.prototype.parse=function(a,b){var d;return this.sync_status=!0,a&&a.model?d=a.model:d=a,c.__super__.parse.call(this,d,b)},c}(Backbone.Model),c=(e=window.HR)!=null?e:{},c.GenericModel=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.initialize=function(a,b){return a==null&&(a={}),b==null&&(b={}),c.__super__.initialize.call(this,a,b)},c.prototype.setTid=function(a){this.tid=a},c.prototype.setQid=function(a){this.qid=a},c.prototype.url=function(){return this.get("id")?"/xrest/tests/"+this.tid+"/questions/"+this.qid+"/compile_tests/"+this.get("id"):"/xrest/tests/"+this.tid+"/questions/"+this.qid+"/compile_tests"},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.RecruitCompileTestModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.urlRoot=function(){return""+a.INTERVIEWS_DOMAIN+"/api/interviews"},e.shareReportLink=function(a){var b,c,d,e;if(!a)return;return b="",d="",_.isFunction(a.get)?(d=a.get("id"),b=a.get("auth_key")):(d=a.id,b=a.auth_key),e=window.location,c=e.protocol+"//"+e.host+(e.port?":"+e.port:"")+e.pathname+"?auth_key="+b,c+"#interviews/"+d+"/report"},e.prototype.parse=function(b){var c,d,f,g,h,i,j;if(b){g=[],d=[],f=function(){return b.paperurl+"?b="+a.util.Base64.encode(JSON.stringify(this),!1).replace("=","")},j=b.interview_attendants;for(h=0,i=j.length;h<i;h++)c=j[h],c.url=f,c.role==="interviewer"?g.push(c):c.role==="candidate"&&d.push(c);b.interviewers=g,b.candidates=d,b.from=new Date(b.from),b.to=new Date(b.to)}return e.__super__.parse.call(this,b)},e.prototype.interviewer=function(){return this.get("interviewers")&&this.get("interviewers").length?this.get("interviewers")[0]:null},e.prototype.candidate=function(){return this.get("candidates")&&this.get("candidates").length?this.get("candidates")[0]:null},e.prototype.when=function(){return a.util.beautifyDates(this.get("from"),this.get("to"))},e.prototype.get=function(a){return a.match(/interviewers|candidates/)&&!this.attributes[a]?(a=a.substr(0,a.length-1),_.filter(this.attributes.interview_attendants,function(b){return b.role===a})):a.match(/interviewer|candidate/)&&!this.attributes[a]?_.find(this.attributes.interview_attendants,function(b){return b.role===a}):e.__super__.get.call(this,a)},e.prototype.save=function(a,b){var c,d,f,g,h,i,j,k,l,m,n;d=[],h=this;if(h.get("candidates")&&h.get("interviewers")){m=h.get("candidates");for(i=0,k=m.length;i<k;i++)f=m[i],c=f,c.role="candidate",d.push(c);n=h.get("interviewers");for(j=0,l=n.length;j<l;j++)g=n[j],c=g,c.role="interviewer",d.push(c);h.set("interview_attendants",d)}return e.__super__.save.call(this,a,b)},e}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.InterviewModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e,f,g,h,i,j,k;return d=function(a){function d(){return g=d.__super__.constructor.apply(this,arguments),g}return b(d,a),d.prototype.initialize=function(){return this.on("reset",this.register),this.register()},d.prototype.register=function(){var a=this;return this.recording=new c({interview_id:this.collection.interview_id}),this.recording.fetch({success:function(b,c,d){return b.get("runs")?a.set("type","runs"):b.get("ops")?a.set("type","ops"):a.set("type","none")},error:function(){return a.recording.set("ops",null)}})},d.prototype.get=function(a){return this.recording&&a==="ops"?this.recording.get("ops"):this.recording&&a==="runs"?this.recording.get("runs"):d.__super__.get.apply(this,arguments)},d}(window.HR.GenericModel),e=function(a){function c(){return h=c.__super__.constructor.apply(this,arguments),h}return b(c,a),c.prototype.defaults=function(){return{ops:[],ob:[],ix:-1}},c.prototype.clone=function(a){var b,c=this;if(_.isArray(a))b=[];else if(_.isObject(a))b={};else return a;return _.each(a,function(a,d){return b[d]=c.clone(a)}),b},c.prototype.apply=function(a){},c.prototype.undo=function(a){},c.prototype.next=function(){if(this.get("ix")<this.get("ops").length-1)return this.set("ix",this.get("ix")+1),this.apply(this.get("ops")[this.get("ix")])},c.prototype.prev=function(){var a;if(this.get("ix")>-1)return a=this.undo(this.get("ops")[this.get("ix")]),this.set("ix",this.get("ix")-1),a},c}(window.HR.GenericModel),f=function(a){function c(){return i=c.__super__.constructor.apply(this,arguments),i}return b(c,a),c.prototype.initialize=function(a){return a==null&&(a={}),c.__super__.initialize.apply(this,arguments)},c.prototype.apply=function(a){var b=this;return _.each(a.op,function(a){var c,d;return a.i!==void 0?(d=b.get("ob").length?a.p:a.p-1,c=a.i.split(""),c.unshift(d,0),b.get("ob").splice.apply(b.get("ob"),c)):a.d!==void 0?(d=b.get("ob").length-a.d.length?a.p:0,b.get("ob").splice(d,a.d.length)):console.log("no idea")}),this.get("ob").join("")},c.prototype.undo=function(a){var b;return b=this.clone(a),b.op=_.map(b.op.reverse(),function(a){var b;return b={p:a.p},a.i!==void 0?b.d=a.i:b.i=a.d,b}),this.apply(b)},c.prototype.gotoPosition=function(a){var b,c;b=a-this.get("ix"),c=Math.abs(b);while(c>0)b>0?this.next():this.prev(),c--;return this.get("ob").join("")},c}(e),c=function(c){function d(){return j=d.__super__.constructor.apply(this,arguments),j}return b(d,c),d.prototype.initialize=function(a){return this.interview_id=a.interview_id},d.prototype.url=function(){var b;return b=""+a.INTERVIEWS_DOMAIN+"/api/interviews/"+this.interview_id+"/recordings/code"},d.prototype.get=function(a){return a==="ops"?this.attributes.ops||[]:d.__super__.get.apply(this,arguments)},d}(f),a=(k=window.HR)!=null?k:{},a.InterviewRecordingsModel=d,a.InterviewCodeRecordingModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.setTid=function(a){this.tid=a},c.prototype.url=function(){var a;return a="/xrest/tests/"+this.tid+"/library"},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.LibraryModel=new c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.initialize=function(){return this.notifications=[]},c.prototype.push=function(a){return this.notifications.push(a)},c.prototype.pop=function(a){return this.notifications.pop(a)},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.NotificationModel=new c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.initialize=function(a){return a==null&&(a={}),this.plan=a.plan},c.prototype.url=function(){var a;return this.plan?a="http://localhost.com/recruit2/billing/?plan="+this.plan:a="http://localhost.com/recruit2/billing",a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.PaymentModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.urlRoot=function(){var a;return this.tid=this.get("tid"),this.tid&&(a="/xrest/tests/"+this.tid+"/questions"),a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.QuestionModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url=function(){var a;if(this.id&&this.tid)return a="/x/tests/"+this.tid+"/attempts/{@id}"},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TestAttemptModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.SearchCandidateModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url=function(){return"/xrest/tests/"+this.get("id")+"/share"},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TestShareModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.urlRoot="/xrest/teams",c.prototype.parse=function(a,b){var c;return a.users&&(c=[],_.each(a.users,function(a){var b;return b=new window.HR.UserTeamModel(a),c.push(b)}),a.users=c),a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TeamModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url=function(){var a;return this.tid=this.get("tid"),this.id&&this.tid&&(a="/xrest/tests/"+this.tid+"/attempts/"+this.id),a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TestAttemptModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.urlRoot="/xrest/tests",c.prototype.setAction=function(a){this.action=a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TestModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.urlRoot=function(){var a;return this.tid=this.get("tid"),this.qid=this.get("qid"),a="/xrest/tests/"+this.tid+"/questions/"+this.qid+"/testcases",a},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.TestCaseModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url=function(){return this.id?"/xrest/teams/"+this.get("team_id")+"/users/"+this.id:"/xrest/teams/"+this.get("team_id")+"/users"},c}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.UserTeamModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.urlRoot="/xrest/users",e.prototype.parse=function(b,c){var d,f;return b.model&&b.model.timezone&&(f=jstz.determine_timezone().timezone.olson_tz,b.model.timezone!==f&&(d=new a.util.changeTimeZoneDialog({model:this,userTimeZone:b.model.timezone,currentTimeZone:f}))),e.__super__.parse.call(this,b,c)},e.prototype.updatePassword=function(a){var b;return b=$.ajax({url:"/xrest/users/change_password",type:"PUT",data:a}),b},e}(window.HR.GenericModel),a=(e=window.HR)!=null?e:{},a.UserModel=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return a=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.initialize=function(){return this.sync_status=!1,this.render_once=!1},c.prototype.fetch=function(a){return a==null&&(a={}),this.trigger("initreset"),c.__super__.fetch.call(this,a)},c.prototype.parse=function(a){return this.sync_status=!0,this.render_once=!1,a.metamodel&&(this.metamodel=a.metamodel),a.total&&(this.total=a.total),a.page&&(this.page=a.page),a.models},c.prototype.setCurrentPage=function(a){this.page=a},c.prototype.getCurrentPage=function(){return this.page},c.prototype.getTotal=function(){return this.total},c}(Backbone.Collection),c=(e=window.HR)!=null?e:{},c.GenericCollection=a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.model=window.HR.TestAttemptModel,c.prototype.url=function(){var a;return this.tid&&(this.type?a="/xrest/tests/"+this.tid+"/attempts?type="+this.type:a="/xrest/tests/"+this.tid+"/attempts"),a},c.prototype.setTid=function(a){this.tid=a},c.prototype.setType=function(a){this.type=a},c}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.TestCandidatesCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.initialize=function(a){return this.interview_id=a.id},e.prototype.model=window.HR.InterviewRecordingsModel,e.prototype.url=function(){var b;return b=""+a.INTERVIEWS_DOMAIN+"/api/interviews/"+this.interview_id+"/recordings"},e.prototype.parse=function(a){return a},e}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.InterviewRecordingsCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url=function(){var a;return a="/xrest/candidates"},c.prototype.model=window.HR.SearchCandidateModel,c}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.SearchCandidatesCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.url="/xrest/teams",c.prototype.model=window.HR.TeamModel,c.prototype.parse=function(a){return this.permission=a.permission,c.__super__.parse.call(this,a)},c}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.TeamsCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.model=window.HR.TestCaseModel,c.prototype.setTid=function(a){this.tid=a},c.prototype.setQid=function(a){this.qid=a},c.prototype.url=function(){return"/xrest/tests/"+this.tid+"/questions/"+this.qid+"/testcases"},c}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.TestCasesCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(a){function c(){return d=c.__super__.constructor.apply(this,arguments),d}return b(c,a),c.prototype.model=window.HR.TestModel,c.prototype.initialize=function(a){return this.page=1},c.prototype.url=function(){var a;return this.page?a="/xrest/tests?page="+this.page:a="/xrest/tests",a},c.prototype.getTotal=function(){return this.total},c.prototype.getPage=function(){return this.page},c.prototype.setPage=function(a){this.page=a},c}(window.HR.GenericCollection),a=(e=window.HR)!=null?e:{},a.TestsCollection=c})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};jQuery(function(){var a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return g=function(c){function d(){return o=d.__super__.constructor.apply(this,arguments),o}return b(d,c),d.prototype.template="recruit/instructions",d.prototype.className="candidate-instructions",d.prototype.initialize=function(a){return this.model=a.model},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({instructions:this.model.get("instructions")})),this},d}(window.HR.GenericView),h=function(c){function d(){return p=d.__super__.constructor.apply(this,arguments),p}return b(d,c),d.prototype.template="recruit/question-list",d.prototype.className="candidate-qlist",d.prototype.events={"click .test-done":"testDone","click .next-section":"sectionNext"},d.prototype.initialize=function(b){return this.model=a.candidate.candidateAttemptModel,this.tid=a.candidate.candidateTestModel.get("unique_id"),this.aid=this.model.get("id")},d.prototype.render=function(){var b,c,d,e,f,g,h=this;return d=this.model.get("questions"),f=this.model.get("solve_mapping"),e=this.model.get("sections_mapping"),b=this.model.get("section"),$(this.el).html(a.appController.template(this.template,this)({section_count:e?e.length:1,current_section:b?b:1})),e?(c=0,_.each(e,function(a,e){var g;return g=h.getTable(d.slice(c,c+parseInt(a.questions)),c+1,f,e+1!==b),h.$("table.section"+(e+1)).html(g),c+=parseInt(a.questions)}),e.length>1&&b<e.length&&this.$("button.section-finish-"+b).removeClass("hidden")):(g=this.getTable(d,1,f),this.$("table.section1").html(g)),this},d.prototype.getTable=function(a,b,c,d){var e,f,g;return d==null&&(d=!1),g=this.tid,f=b,e="",_.each(a,function(a){var b,h;return h="",f===1?h+='<tr class="border">':h+="<tr>",h+="<td width='5%' class='grey right'><span class='mdR'>Q"+f+"</span></td>",h+='<td width="46%"><a class="backbone question-name" '
,d?h+=">":h+="href='/tests/"+g+"/questions/"+a.unique_id+"'>",a.name?h+=a.name:h+="Question",h+="</a></td>",h+="<td width='12%' class='fnt-sz-mid'>"+window.istreet.cfg.hrqn[a.type]+"</td>",a.points===0?h+="<td width='7%' class='fnt-sz-mid'>-</td>":h+="<td width='7%' class='fnt-sz-mid'>"+a.points+"</td>",d?b="":b="href='/tests/"+g+"/questions/"+a.unique_id+"'",_.has(c,a.unique_id)?h+="<td width='12%' class='fnt-sz-mid'><span class='green'>submitted</span></td><td width='18%' class='right'><a "+b+" class='normal-underline display-inline-block margin-right-15 fnt-sz-mid backbone' style='margin: 9px 11px 9px 0;''>Modify Submission</a></td>":h+="<td width='12%' class='fnt-sz-mid'>not answered</td><td width='18%' class='right'><a "+b+" class='btn btn-line margin-right-15 fnt-sz-mid backbone'>Solve Question</a></td>",h+="</tr>",f++,e+=h}),e},d.prototype.testDone=function(b){return bootbox.dialog({message:"Once closed, you can no longer view or modify this test.\n\nAre you sure you are done, and want to close the test?",title:"Confirm test close.",buttons:{closeTest:{label:"Yes, close this test.",callback:function(){var b=this;return a.candidate.candidateTestModel.setAction("logout"),a.candidate.candidateTestModel.save(null,{success:function(b){return a.router.navigate("tests/"+b.get("unique_id")+"/feedback",{trigger:!0,replace:!0})}})}},goBack:{label:"No, go back.",className:"btn",callback:function(){}}}})},d.prototype.sectionNext=function(b){var c=this;return a.candidate.candidateAttemptModel.set("section_close",this.$(b.currentTarget).attr("data-section")),a.candidate.candidateAttemptModel.save(null,{success:function(b){return a.candidate.candidateAttemptModel=b,a.router.navigate("tests/"+c.aid,{trigger:!0,replace:!0})},error:function(a){return console.log("Could not close and move to next section.")}})},d}(window.HR.GenericView),j=function(c){function d(){return s=d.__super__.constructor.apply(this,arguments),s}return b(d,c),d.prototype.template="recruit/question-base",d.prototype.className="question-base",d.prototype.initialize=function(b){return this.model=b.model,this.tid=a.candidate.candidateTestModel.get("unique_id")},d.prototype.events={"click .ans-submit":"submitAnswer"},d.prototype.submitAnswer=function(b){var c,d,e,f=this;return b.preventDefault(),c={type:this.model.attributes.type,answer:this.view.answer()},c.answer?(d={qid:this.model.get("unique_id"),answer:c},e=new a.CandidateSolveModel,e.setAttempt(a.candidate.candidateAttemptModel.get("id")),e.save(d,{success:function(b){var c;return c=f.model.get("nextqid")?"/tests/"+f.tid+"/questions/"+f.model.get("nextqid"):"/tests/"+f.tid+"/questions",a.router.navigate(c,{trigger:!0,replace:!0})},error:function(){return bootbox.alert("Unable to submit.")}})):bootbox.alert("Please answer the question before submitting.")},d.prototype.render=function(){var b,c,d;this.question=this.model.attributes,$(this.el).html(a.appController.template(this.template,this)({tid:this.tid,question:this.question})),d=!0;switch(this.question.type){case"code":case"approx":this.view=new a.RecruitCandidateCodingView({question:this.question});break;case"mcq":case"multiple_mcq":this.view=new a.RecruitCandidateMcqView({question:this.question});break;case"textAns":this.view=new a.RecruitCandidateSubjectiveView({question:this.question});break;case"complete":c=this.question.complete_string,b=0;while(c.search("{blank}")!==-1)c=c.replace("{blank}","<input type='text' class='complete-question' name='blank"+b+"'/>"),b=b+1;this.question.question=c,this.view=new a.RecruitCandidateCompleteView({question:this.question});break;default:d=!1}return this.question.name?this.$(".qtitle").html(this.question.name):this.$(".qtitle").html(window.istreet.cfg.hrqn[this.question.type]),this.$(".challenge-text").html(this.question.question),d?this.$(".qcontent").html(this.view.render().el):(this.$(".qcontent").html("<center>This question type is not available.</center>"),this.$(".ans-submit").addClass("disabled")),this},d}(window.HR.GenericView),d=function(c){function d(){return t=d.__super__.constructor.apply(this,arguments),t}return b(d,c),d.prototype.template="recruit/question-coding",d.prototype.className="question-coding",d.prototype.initialize=function(b){return this.question=b.question,this.codeshell=null,a.candidate&&a.candidate.candidateAttemptModel?this.aid=a.candidate.candidateAttemptModel.get("id"):this.aid="testing",this.compilingLock=!1,this},d.prototype.events={"codeshellcompile #editor":"compileAnswer"},d.prototype.render=function(){var b;return $(this.el).html(a.appController.template(this.template,this)({question:this.question})),b={languages:this.question.languages,language:"c",autoSaveNamespace:""+this.aid+"-"+this.question.unique_id,lang_default_text:this.getLangDefaults(),showSubmit:!0},this.aid==="testing"&&(b.showSubmit=!1,b.showCompileTest=!1),this.$("#editor").codeshell(b),this.$("#editor").codeshell("refresh"),this.set_answer(),this},d.prototype.getLangDefaults=function(){var a,b,c,d,e;b={},e=this.question.languages;for(c=0,d=e.length;c<d;c++)a=e[c],this.question[a+"_template"]&&(b[a]=this.question[a+"_template"]);return b},d.prototype.compileAnswer=function(b,c){var d=this;if(!c.code)return;if($(".bb-compile").hasClass("disabled"))return;return $(".bb-compile").addClass("disabled"),a.candidate.ctmodel=new a.CandidateCompileTestModel,a.candidate.ctmodel.setAid(this.aid),a.candidate.ctmodel.setQid(this.question.unique_id),b==="runalltestcases"&&a.candidate.ctmodel.setAllCases(!0),a.candidate.ctview=new a.RecruitCandidateCompileTestView,this.$("#runstatus").html(a.candidate.ctview.render().el),a.util.scrollToBottom(1e3),a.candidate.ctmodel.save(c,{success:function(e){return a.candidate.ctview.setStatus("Uploaded. Waiting for results.."),a.candidate.ctloop=setTimeout(function(){return d.checkForResult(d,c,b)},2e3)},error:function(){return a.candidate.ctmodel=null,a.candidate.ctview.setStatus("There was an issue with compiling this code.")}})},d.prototype.checkForResult=function(b,c,d){var e=this;if(!a.candidate.ctloop)return;return a.candidate.ctview.setStatus("Processing.."),a.candidate.ctmodel.fetch({success:function(f){var g,h,i,j,k,l,m,n,o,p;if(f.get("status")===0){a.candidate.ctloop=setTimeout(function(){return b.checkForResult(b,c,d)},2e3);return}if(f.get("status")!==0){$(".bb-compile").removeClass("disabled"),clearTimeout(a.candidate.ctloop),a.candidate.ctloop=null;if(f.get("result")>0)a.candidate.ctview.setStatus("Error.","red"),a.candidate.ctview.setCompileStatus("Compilation failed.",f.get("compilemessage"));else{l=0,p=f.get("testcase_status");for(h=n=0,o=p.length;n<o;h=++n)i=p[h],k=f.get("stdout")[h],g=f.get("expected_output")[h],j=f.get("testcase_message")[h],f.get("testcase_status")[h]===1?(m="green",l++):m="red",a.candidate.ctview.addTestCase(h+1,i,k,g,j,m);l===0?a.candidate.ctview.setStatus("No test cases passed.","red"):l<h?a.candidate.ctview.setStatus("Compiled successfully. "+l+"/"+h+" sample test cases passed.","orange"):(a.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green"),d!=="runalltestcases"&&(e.$(".bb-runall").show(),b.compileAnswer("runalltestcases",c)))}}return a.util.scrollToBottom(1e3)},error:function(b){return a.candidate.ctmodel=null,a.candidate.ctview=null,a.candidate.ctview.setStatus("Unable to fetch compile information from server.")}})},d.prototype.answer=function(){return this.$("#editor").codeshell("value")},d.prototype.set_answer=function(){if(this.question.solve)return this.$("#editor").codeshell("setValue",this.question.solve.answer)},d}(window.HR.GenericView),i=function(c){function d(){return u=d.__super__.constructor.apply(this,arguments),u}return b(d,c),d.prototype.template="recruit/question-mcq",d.prototype.className="question-mcq",d.prototype.events={"click .clearall":"clearAll"},d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.clearAll=function(a){return a.preventDefault(),this.$('input[name="mcqopts"]').attr("checked",!1)},d.prototype.answer=function(){var a,b=this;return this.question.type==="mcq"?(a=this.$("input[name=mcqopts]:checked").val(),a?a:-1):(a=[],_.each(this.$("input[name=mcqopts]:checked"),function(c){return a.push(b.$(c).val())}),a.length?a:-1)},d.prototype.set_answer=function(){var a,b,c,d,e;if(!this.question.solve)return;if(this.question.type==="mcq")return this.$("input#mcqopts"+this.question.solve.answer.answer).prop("checked",!0);d=this.question.solve.answer.answer,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this.$("input#mcqopts"+a).prop("checked",!0));return e},d}(window.HR.GenericView),l=function(c){function d(){return v=d.__super__.constructor.apply(this,arguments),v}return b(d,c),d.prototype.template="recruit/question-subjective",d.prototype.className="question-subjective",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.answer=function(){return this.$(".sub-answer").val()},d.prototype.set_answer=function(){if(this.question.solve)return this.$(".sub-answer").val(this.question.solve.answer.answer)},d}(window.HR.GenericView),f=function(c){function d(){return w=d.__super__.constructor.apply(this,arguments),w}return b(d,c),d.prototype.template="recruit/question-completesentence",d.prototype.className="question-complete",d.prototype.initialize=function(a){return this.question=a.question},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},d.prototype.answer=function(){return _.map($('input[name^="blank"]'),function(a){return $(a).val()})},d.prototype.set_answer=function(){var a;if(this.question.solve)return a=0,_.each(this.question.solve.answer,function(b){return $('input[name="blank'+a+'"]').val(b),a=a+1})},d}(window.HR.GenericView),n=function(c){function d(){return x=d.__super__.constructor.apply(this,arguments),x}return b(d,c),d.prototype.template="recruit/topbar",d.prototype.className="topbar",d.prototype.initialize=function(a){return Offline.options={reconnect:{initialDelay:3},requests:!1,game:!1}},d.prototype.updateTimer=function(){return $("#countdown-timer").countdown("destroy").countdown({until:a.candidate.candidateAttemptModel.get("time_left"),layout:"{d<}{dn}{dl} {d>} {hnn}:{mnn}:{snn}",compact:!0})},d.prototype.render=function(){var b,c,d=this;return $(this.el).html(a.appController.template(this.template,this)({test:a.candidate.candidateTestModel,attempt:a.candidate.candidateAttemptModel})),c=_.keys(a.candidate.candidateAttemptModel.get("solve_mapping")||{}).length,b=a.candidate.candidateAttemptModel.get("questions").length,this.$(".qdone").html(c),this.$(".qcount").html(b),this.$(".progress-done").css({width:Math.floor(c*100/b)}),this.updateTimer(),a.candidate.pingTimer&&clearInterval(a.candidate.pingTimer),a.candidate.pingTimer=setInterval(function(){return a.candidate.candidateAttemptModel.fetch({success:function(a){return d.updateTimer()}})},3e4),this},d.prototype.testTimeUp=function(b){return bootbox.dialog({message:"You have exceeded the time limit set for this test. All answers you submitted before the time limit have been saved. You cannot attempt any more questions now. Thank you for taking this test.",title:"Test finished.",buttons:{giveFeedback:{label:"Give Feedback",className:"btn",callback:function(){var b=this;a.candidate.candidateTestModel.setAction("logout"),a.candidate.candidateTestModel.save(null,{success:function(b){return a.router.navigate("tests/"+b.get("unique_id")+"/feedback",{trigger:!0,replace:!0})}})}}}})},d}(window.HR.GenericView),k=function(d){function e(){return y=e.__super__.constructor.apply(this,arguments),y}return b(e,d),e.prototype.template="recruit/sidebar",e.prototype.className="sbar",e.prototype.icon_types={QUESTION_ANSWERED:"nav",QUESTION_UNANSWERED:1,QUESTION_LIST:2},e.prototype.render=function(){var b;return b=Backbone.history.fragment,$(this.el).html(a.appController.template(this.template,this)),this.$(".fixed-nav").html(this.getTopIcons()),!b.endsWith("questions")&&!b.endsWith("questions/")&&this.$(".questions-nav").html(this.getQuestionIcons()),this},e.prototype.getTopIcons=function(){var b,c,d;c="",d=Backbone.history.fragment,b="";if(d.endsWith("questions")||d.endsWith("questions/"))b="active";c+='<li class="'+b+'"><a href="/tests/'+a.candidate.candidateTestModel.get("unique_id")+'/questions" class="backbone"><i class="nav-icon icon-list-bullet-large"></i></a></li>',b="";if(d.endsWith("instructions")||d.endsWith("instructions/"))b="active";return c+='<li class="'+b+'"><a href="/tests/'+a.candidate.candidateTestModel.get("unique_id")+'/instructions" class="backbone"><i class="nav-icon icon-help-circled"></i></a></li>',c},e.prototype.getQuestionIcons=function(){var b,d,e,f,g,h,i,j,k,l,m;f="",h=function(a,b,c,d,e){var f,g,h;return g=a?"answered":"not-answered",h=b?"disabled":"",f=c?"active":"",'<li class="'+g+" "+h+" "+f+'">\n  <a href="'+d+'" class="backbone">\n      <span class="quest-number">'+e+"</span>\n  </a>\n</li>"},j=a.candidate.candidateAttemptModel.get("questions"),e=_.keys(a.candidate.candidateAttemptModel.get("solve_mapping")),g=1;for(k=0,l=j.length;k<l;k++)i=j[k],d=(m=i.unique_id.toString(),c.call(e,m)>=0),b=i.unique_id===a.candidate.currentQuestion,i.disabled?f+=h(d,!0,b,"javascript:void(0)",g):f+=h(d,!1,b,"/tests/"+a.candidate.candidateTestModel.get("unique_id")+"/questions/"+i.unique_id,g),g=g+1;return f},e}(window.HR.GenericView),e=function(c){function d(){return z=d.__super__.constructor.apply(this,arguments),z}return b(d,c),d.prototype.template="recruit/compiletest-base",d.prototype.className="ct-base",d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)),this},d.prototype.setStatus=function(a,b){b==null&&(b=""),this.$(".status-msg").html(a);if(b!=="")return this.$(".status-msg").addClass(b)},d.prototype.setCompileStatus=function(a,b){return this.$(".compile-header").html(a),this.$(".compile-message").html(b),this.$("#error-message").removeClass("hide")},d.prototype.addTestCase=function(b,c,d,e,f,g){return this.$(".testcases").append((new a.RecruitCandidateTestCaseView({tno:b,input:c,output:d,exp_output:e,st_class:g,compiler_msg:f})).render().el)},d}(window.HR.GenericView),m=function(c){function d(){return q=d.__super__.constructor.apply(this,arguments),q}return b(d,c),d.prototype.template="recruit/compiletest-testcase",d.prototype.classname="test-case-wrap",d.prototype.initialize=function(a){return this.tno=a.tno,this.input=a.input,this.output=a.output,this.exp_output=a.exp_output,this.compiler_msg=a.compiler_msg,this.st_class=a.st_class},d.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({tno:this.tno,input:this.input,output:this.output,exp_output:this.exp_output,compiler_msg:this.compiler_msg,st_class:this.st_class})),this},d}(window.HR.GenericView),a=(r=window.HR)!=null?r:{},a.RecruitCandidateListView=h,a.RecruitCandidateQuestionView=j,a.RecruitCandidateCodingView=d,a.RecruitCandidateMcqView=i,a.RecruitCandidateSubjectiveView=l,a.RecruitCandidateCompleteView=f,a.RecruitCandidateTopBarView=new n,a.RecruitCandidateSideBarView=new k,a.RecruitCandidateCompileTestView=e,a.RecruitCandidateTestCaseView=m,a.RecruitCandidateInstructionsView=g})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};jQuery(function(){var a,c,d,e;return c=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return b(e,c),e.prototype.template="recruit/login",e.prototype.className="candidate-login",e.prototype.events={"click .test-submit":"loginAction","click .test-submit-feedback":"submitFeedback","click .test-logout":"logoutTest"},e.prototype.initialize=function(a){},e.prototype.render=function(){return $(this.el).html(a.appController.template(this.template,this)({test:this.model.attributes})),this},e.prototype.resetError=function(){var a;return a=this.$("#error-message"),a.find("header").html(""),a.find("p").html(""),a.hide()},e.prototype.setError=function(a,b){var c;return c=this.$("#error-message"),c.find("header").html(a),c.find("p").html(b),c.show()},e.prototype.loginAction=function(b){var c,d,e,f,g,h,i,j=this;h=this,b.preventDefault(),this.resetError(),c=this.$("input[name=username]").val(),e=this.$("input[name=password]").val();if(!this.$("#acknowledge").is(":checked")){bootbox.alert("You cannot take this test without agreeing to the specified conditions.");return}return d=$("#test-login-form").serializeArray(),f={},_.each(d,function(a){return f[a.name]=a.value}),f.auth_key=this.model.auth,$("#acknowledge").is(":checked")&&(f.acknowledge="on"),i=this.model.get("unique_id"),g={url:"/recruit/tests/"+i+"/login",data:f,type:"POST",success:function(b){var c;return c=typeof b=="string"?$.parseJSON($(b).text()):b,c.status?a.router.navigate("tests/"+i+"/questions",{trigger:!0,replace:!0}):h.setError(c.message.title,c.message.body)},error:function(a){var b;return b=typeof a.responseText=="string"?$.parseJSON($(a.responseText).text()):a.responseText,h.setError(b.message.title,b.message.body)}},$(":file").length>0&&(g.iframe=!0,g.processData=!1,g.data=f,g.files=$(":file")),$.ajax(g),this},e.prototype.submitFeedback=function(b){var c=this;return a.candidate.candidateAttemptModel.set("feedback_text",this.$(".feedback-text").val()),a.candidate.candidateAttemptModel.save(null,{success:function(a){return $.removeCookie("email",{path:"/"}),$.removeCookie("tid",{path:"/"}),c.logoutTest()},error:function(a){return console.log("Could not submit feedback.")}})},e.prototype.logoutTest=function(a){return $.removeCookie("email",{path:"/"}),$.removeCookie("tid",{path:"/"}),window.candidate={},this.$(".main-content").html("<h3>Thank you!</h3><br/><br/><p>The test is done. You may close this window, or head on to  <a href='//www.hackerrank.com'>hackerrank.com</a> and solve challenges.</p>")},e}(window.HR.GenericView),a=(e=window.HR)!=null?e:{},a.RecruitCandidateLoginView=c})}.call(this)