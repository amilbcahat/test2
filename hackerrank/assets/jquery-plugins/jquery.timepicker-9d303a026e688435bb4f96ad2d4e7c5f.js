/************************
jquery-timepicker v1.2.6
http://jonthornton.github.com/jquery-timepicker/

requires jQuery 1.7+
************************/
(function(a){typeof define=="function"&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function g(a){a.minTime&&(a.minTime=x(a.minTime)),a.maxTime&&(a.maxTime=x(a.maxTime)),a.durationTime&&typeof a.durationTime!="function"&&(a.durationTime=x(a.durationTime));if(a.disableTimeRanges.length>0){for(var b in a.disableTimeRanges)a.disableTimeRanges[b]=[x(a.disableTimeRanges[b][0]),x(a.disableTimeRanges[b][1])];a.disableTimeRanges=a.disableTimeRanges.sort(function(a,b){return a[0]-b[0]})}return a}function h(b){var d=b.data("timepicker-settings"),e=b.data("timepicker-list");e&&e.length&&(e.remove(),b.data("timepicker-list",!1)),e=a("<ul />",{"class":"ui-timepicker-list"});var g=a("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});g.css({display:"none",position:"absolute"}).append(e),d.className&&g.addClass(d.className),(d.minTime!==null||d.durationTime!==null)&&d.showDuration&&g.addClass("ui-timepicker-with-duration");var h=d.minTime;typeof d.durationTime=="function"?h=x(d.durationTime()):d.durationTime!==null&&(h=d.durationTime);var i=d.minTime!==null?d.minTime:0,j=d.maxTime!==null?d.maxTime:i+c-1;j<=i&&(j+=c);var k=d.disableTimeRanges,m=0,o=k.length;for(var p=i;p<=j;p+=d.step*60){var q=p%c,r=a("<li />");r.data("time",q),r.text(w(q,d.timeFormat));if((d.minTime!==null||d.durationTime!==null)&&d.showDuration){var s=a("<span />");s.addClass("ui-timepicker-duration"),s.text(" ("+v(p-h)+")"),r.append(s)}m<o&&(q>=k[m][1]&&(m+=1),k[m]&&q>=k[m][0]&&q<k[m][1]&&r.addClass("ui-timepicker-disabled")),e.append(r)}g.data("timepicker-input",b),b.data("timepicker-list",g);var t=d.appendTo;typeof t=="string"?t=a(t):typeof t=="function"&&(t=t(b)),t.append(g),n(b,e),e.on("click","li",function(c){b.off("focus.timepicker"),b.on("focus.timepicker-ie-hack",function(){b.off("focus.timepicker-ie-hack"),b.on("focus.timepicker",f.show)}),l(b)||b[0].focus(),e.find("li").removeClass("ui-timepicker-selected"),a(this).addClass("ui-timepicker-selected"),u(b)&&(b.trigger("hideTimepicker"),g.hide())})}function i(){return new Date(1970,1,1,0,0,0)}function j(b){"ontouchstart"in document?a("body").on("touchstart.ui-timepicker",k):(a("body").on("mousedown.ui-timepicker",k),b.closeOnWindowScroll&&a(window).on("scroll.ui-timepicker",k))}function k(b){var c=a(b.target),d=c.closest(".ui-timepicker-input");d.length===0&&c.closest(".ui-timepicker-wrapper").length===0&&(f.hide(),a("body").unbind(".ui-timepicker"),a(window).unbind(".ui-timepicker"))}function l(a){var b=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&b.disableTouchKeyboard}function m(b,c,d){if(!d&&d!==0)return!1;var e=b.data("timepicker-settings"),f=!1,g=e.step*30;return c.find("li").each(function(b,c){var e=a(c),h=e.data("time")-d;if(Math.abs(h)<g||h==g)return f=e,!1}),f}function n(a,b){b.find("li").removeClass("ui-timepicker-selected");var c=x(p(a));if(c===null)return;var d=m(a,b,c);if(d){var e=d.offset().top-b.offset().top;(e+d.outerHeight()>b.outerHeight()||e<0)&&b.scrollTop(b.scrollTop()+d.position().top-d.outerHeight()),d.addClass("ui-timepicker-selected")}}function o(){if(this.value==="")return;var b=a(this),c=b.data("timepicker-list");if(c&&c.is(":visible"))return;var d=x(this.value);if(d===null){b.trigger("timeFormatError");return}var e=b.data("timepicker-settings"),f=!1;e.minTime!==null&&d<e.minTime?f=!0:e.maxTime!==null&&d>e.maxTime&&(f=!0),a.each(e.disableTimeRanges,function(){if(d>=this[0]&&d<this[1])return f=!0,!1});if(e.forceRoundTime){var g=d%(e.step*60);g>=e.step*30?d+=e.step*60-g:d-=g}var h=w(d,e.timeFormat);f?q(b,h,"error")&&b.trigger("timeRangeError"):q(b,h)}function p(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function q(a,b,c){return a.data("ui-timepicker-value",b),a.is("input")&&a.val(b),a.data("ui-timepicker-value")!=b?(c=="select"?a.trigger("selectTime").trigger("changeTime").trigger("change"):c!="error"&&a.trigger("changeTime"),!0):(a.trigger("selectTime"),!1)}function r(b){var c=a(this),d=c.data("timepicker-list");if(!d||!d.is(":visible"))if(b.keyCode==40)l(c)||c.focus();else return s(b,c);switch(b.keyCode){case 13:return u(c)&&f.hide.apply(this),b.preventDefault(),!1;case 38:var e=d.find(".ui-timepicker-selected");return e.length?e.is(":first-child")||(e.removeClass("ui-timepicker-selected"),e.prev().addClass("ui-timepicker-selected"),e.prev().position().top<e.outerHeight()&&d.scrollTop(d.scrollTop()-e.outerHeight())):(d.find("li").each(function(b,c){if(a(c).position().top>0)return e=a(c),!1}),e.addClass("ui-timepicker-selected")),!1;case 40:return e=d.find(".ui-timepicker-selected"),e.length===0?(d.find("li").each(function(b,c){if(a(c).position().top>0)return e=a(c),!1}),e.addClass("ui-timepicker-selected")):e.is(":last-child")||(e.removeClass("ui-timepicker-selected"),e.next().addClass("ui-timepicker-selected"),e.next().position().top+2*e.outerHeight()>d.outerHeight()&&d.scrollTop(d.scrollTop()+e.outerHeight())),!1;case 27:d.find("li").removeClass("ui-timepicker-selected"),f.hide();break;case 9:f.hide();break;default:return s(b,c)}}function s(a,b){return!b.data("timepicker-settings").disableTextInput||a.ctrlKey||a.altKey||a.metaKey||a.keyCode!=2&&a.keyCode<46}function t(b){var c=a(this),d=c.data("timepicker-list");if(!d||!d.is(":visible"))return!0;switch(b.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n(c,d);break;default:return}}function u(a){var b=a.data("timepicker-settings"),c=a.data("timepicker-list"),d=null,e=c.find(".ui-timepicker-selected");if(e.hasClass("ui-timepicker-disabled"))return!1;e.length?d=e.data("time"):p(a)&&(d=x(p(a)),n(a,c));if(d!==null){var f=w(d,b.timeFormat);q(a,f,"select")}return!0}function v(a){var b=Math.round(a/60),c;if(Math.abs(b)<60)c=[b,e.mins];else if(b==60)c=["1",e.hr];else{var d=(b/60).toFixed(1);e.decimal!="."&&(d=d.replace(".",e.decimal)),c=[d,e.hrs]}return c.join(" ")}function w(a,c){if(a===null)return;var d=new Date(b.valueOf()+a*1e3),e="",f,g;for(var h=0;h<c.length;h++){g=c.charAt(h);switch(g){case"a":e+=d.getHours()>11?"pm":"am";break;case"A":e+=d.getHours()>11?"PM":"AM";break;case"g":f=d.getHours()%12,e+=f===0?"12":f;break;case"G":e+=d.getHours();break;case"h":f=d.getHours()%12,f!==0&&f<10&&(f="0"+f),e+=f===0?"12":f;break;case"H":f=d.getHours(),e+=f>9?f:"0"+f;break;case"i":var i=d.getMinutes();e+=i>9?i:"0"+i;break;case"s":a=d.getSeconds(),e+=a>9?a:"0"+a;break;default:e+=g}}return e}function x(a){if(a==="")return null;if(!a||a+0==a)return a;typeof a=="object"&&(a=a.getHours()+":"+y(a.getMinutes())+":"+y(a.getSeconds())),a=a.toLowerCase();var b=new Date(0),c;a.indexOf(":")===-1?(c=a.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/),c||(c=a.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/))):c=a.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/);if(!c)return null;var d=parseInt(c[1]*1,10),e;c[4]?d==12?e=c[4]=="p"?12:0:e=d+(c[4]=="p"?12:0):e=d;var f=c[2]*1||0,g=c[3]*1||0;return e*3600+f*60+g}function y(a){return("0"+a).slice(-2)}var b=i(),c=86400,d={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,disableTouchKeyboard:!0,forceRoundTime:!1,appendTo:"body",disableTimeRanges:[],closeOnWindowScroll:!1,disableTextInput:!1},e={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},f={init:function(b){return this.each(function(){var c=a(this);if(c[0].tagName=="SELECT"){var h={type:"text",value:c.val()},i=c[0].attributes;for(var j=0;j<i.length;j++)h[i[j].nodeName]=i[j].nodeValue;var k=a("<input />",h);c.replaceWith(k),c=k}var l=a.extend({},d);b&&(l=a.extend(l,b)),l.lang&&(e=a.extend(e,l.lang)),l=g(l),c.data("timepicker-settings",l),c.prop("autocomplete","off"),c.on("click.timepicker focus.timepicker",f.show),c.on("change.timepicker",o),c.on("keydown.timepicker",r),c.on("keyup.timepicker",t),c.addClass("ui-timepicker-input"),o.call(c.get(0))})},show:function(b){var c=a(this),d=c.data("timepicker-settings");l(c)&&c.blur();var e=c.data("timepicker-list");if(c.prop("readonly"))return;if(!e||e.length===0||typeof d.durationTime=="function")h(c),e=c.data("timepicker-list");if(e.is(":visible"))return;f.hide(),e.show(),c.offset().top+c.outerHeight(!0)+e.outerHeight()>a(window).height()+a(window).scrollTop()?e.offset({left:c.offset().left+parseInt(e.css("marginLeft").replace("px",""),10),top:c.offset().top-e.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)}):e.offset({left:c.offset().left+parseInt(e.css("marginLeft").replace("px",""),10),top:c.offset().top+c.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)});var g=e.find(".ui-timepicker-selected");g.length||(p(c)?g=m(c,e,x(p(c))):d.scrollDefaultNow?g=m(c,e,x(new Date)):d.scrollDefaultTime!==!1&&(g=m(c,e,x(d.scrollDefaultTime))));if(g&&g.length){var i=e.scrollTop()+g.position().top-g.outerHeight();e.scrollTop(i)}else e.scrollTop(0);j(d),c.trigger("showTimepicker")},hide:function(b){a(".ui-timepicker-wrapper:visible").each(function(){var b=a(this),c=b.data("timepicker-input"),d=c.data("timepicker-settings");d&&d.selectOnBlur&&u(c),b.hide(),c.trigger("hideTimepicker")})},option:function(b,c){var d=this,e=d.data("timepicker-settings"),f=d.data("timepicker-list");if(typeof b=="object")e=a.extend(e,b);else if(typeof b=="string"&&typeof c!="undefined")e[b]=c;else if(typeof b=="string")return e[b];return e=g(e),d.data("timepicker-settings",e),f&&(f.remove(),d.data("timepicker-list",!1)),d},getSecondsFromMidnight:function(){return x(p(this))},getTime:function(a){var b=this;return a||(a=new Date),a.setHours(0,0,0,0),new Date(a.valueOf()+x(p(b))*1e3)},setTime:function(a){var b=this,c=w(x(a),b.data("timepicker-settings").timeFormat);q(b,c),b.data("timepicker-list")&&n(b,b.data("timepicker-list"))},remove:function(){var a=this;if(!a.hasClass("ui-timepicker-input"))return;a.removeAttr("autocomplete","off"),a.removeClass("ui-timepicker-input"),a.removeData("timepicker-settings"),a.off(".timepicker"),a.data("timepicker-list")&&a.data("timepicker-list").remove(),a.removeData("timepicker-list")}};a.fn.timepicker=function(b){if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return f.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.timepicker")}})